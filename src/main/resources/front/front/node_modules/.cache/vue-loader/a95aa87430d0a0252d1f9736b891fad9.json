{"remainingRequest":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\login\\login.vue?vue&type=style&index=0&id=23b3be22&lang=scss&scoped=true&","dependencies":[{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\login\\login.vue","mtime":1765364629762},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1765241852000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi8vIOWuueWZqOagt+W8jw0KLmNvbnRhaW5lciB7DQogIG1pbi1oZWlnaHQ6IDEwMHZoOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGJhY2tncm91bmQ6ICNmM2Y3ZmE7IC8vIOe6r+iJsuiDjOaZr++8jOmBv+WFjeiDjOaZr+WbvuS+nei1lg0KDQogIC8vIOagh+mimOagt+W8jw0KICAudGl0bGUtY29udGFpbmVyIHsNCiAgICBsZXR0ZXItc3BhY2luZzogMXB4Ow0KICB9DQoNCiAgLy8g6L6T5YWl5qGG57uf5LiA5qC35byPDQogIC5saXN0LWl0ZW0gaW5wdXQgew0KICAgIGJvcmRlcjogMDsNCiAgICBwYWRkaW5nOiAwIDEwcHg7DQogICAgYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMSk7DQogICAgY29sb3I6ICM3NTg2NTk7DQogICAgd2lkdGg6IDEwMCU7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGhlaWdodDogNDRweDsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIGJhY2tncm91bmQ6ICNmZmY7DQogIH0NCn0NCg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2TA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n        class=\"container\"\r\n        :style=\"{\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundAttachment: 'fixed',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center center',\r\n        backgroundRepeat: 'no-repeat'\r\n      }\"\r\n    >\r\n      <!-- 登录表单 -->\r\n      <el-form\r\n          :style=\"{\r\n          padding: '40px 20px 40px',\r\n          boxShadow: '0px 4px 10px 0px #78ABC3',\r\n          margin: '0',\r\n          outline: '4px solid #78ABC3',\r\n          borderRadius: '0',\r\n          outlineOffset: '30px',\r\n          background: '#fff',\r\n          width: '460px',\r\n          height: 'auto'\r\n        }\"\r\n      >\r\n        <!-- 标题 -->\r\n        <div\r\n            class=\"title-container\"\r\n            :style=\"{\r\n            margin: '0 0 20px 0',\r\n            color: '#000',\r\n            textAlign: 'center',\r\n            width: '100%',\r\n            lineHeight: '40px',\r\n            fontSize: '22px',\r\n            textShadow: '2px 2px 2px rgba(120, 171, 195, 0.3)',\r\n            fontWeight: 'bold'\r\n          }\"\r\n        >\r\n          智慧自习室预约系统 登录\r\n        </div>\r\n\r\n        <!-- 1. 角色选择（用户名上方，核心需求） -->\r\n        <div\r\n            :style=\"{\r\n            width: '80%',\r\n            margin: '0 auto 18px',\r\n            display: 'flex',\r\n            justifyContent: 'flex-start',\r\n            gap: '18px',\r\n            alignItems: 'center'\r\n          }\"\r\n        >\r\n          <el-radio v-model=\"rulesForm.role\" label=\"管理员\">管理员</el-radio>\r\n          <el-radio v-model=\"rulesForm.role\" label=\"学生\">学生</el-radio>\r\n        </div>\r\n\r\n        <!-- 2. 用户名输入框 -->\r\n        <div\r\n            class=\"list-item\"\r\n            :style=\"{\r\n            width: '80%',\r\n            margin: '0 auto 14px',\r\n            display: 'flex'\r\n          }\"\r\n        >\r\n          <input\r\n              placeholder=\"请输入用户名\"\r\n              name=\"username\"\r\n              type=\"text\"\r\n              v-model=\"rulesForm.username\"\r\n              :style=\"inputStyle\"\r\n          />\r\n        </div>\r\n\r\n        <!-- 3. 密码输入框 -->\r\n        <div\r\n            class=\"list-item\"\r\n            :style=\"{\r\n            width: '80%',\r\n            margin: '0 auto 14px',\r\n            display: 'flex'\r\n          }\"\r\n        >\r\n          <input\r\n              placeholder=\"请输入密码\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              v-model=\"rulesForm.password\"\r\n              :style=\"inputStyle\"\r\n          />\r\n        </div>\r\n\r\n        <!-- 4. 验证码（密码与登录之间，核心需求） -->\r\n        <div\r\n            class=\"list-item\"\r\n            :style=\"{\r\n            width: '80%',\r\n            margin: '0 auto 18px',\r\n            alignItems: 'center',\r\n            display: 'flex',\r\n            gap: '12px'\r\n          }\"\r\n        >\r\n          <div style=\"width: 100%;\">\r\n            <div style=\"margin-bottom:6px;color:#333;font-size:13px;\">验证码</div>\r\n            <input\r\n                placeholder=\"请输入验证码\"\r\n                v-model=\"rulesForm.code\"\r\n                @keyup.enter=\"login\"\r\n                :style=\"{\r\n                border: '0px solid #ddd',\r\n                padding: '0 10px',\r\n                boxShadow: '0px 4px 10px 0px rgba(0,0,0,0.1)',\r\n                color: '#333',\r\n                width: '100%',\r\n                fontSize: '14px',\r\n                height: '44px'\r\n              }\"\r\n            />\r\n          </div>\r\n          <!-- 验证码展示 -->\r\n          <div\r\n              :style=\"{\r\n              width: '140px',\r\n              cursor: 'pointer',\r\n              display: 'flex',\r\n              justifyContent: 'space-around',\r\n              alignItems: 'center'\r\n            }\"\r\n              @click=\"getRandCode()\"\r\n              title=\"点击刷新验证码\"\r\n          >\r\n            <span\r\n                v-for=\"(item, index) in codes\"\r\n                :key=\"index\"\r\n                :style=\"{\r\n                color: item.color,\r\n                transform: item.rotate,\r\n                fontSize: item.size,\r\n                fontWeight: 'bold',\r\n                display: 'inline-block',\r\n                userSelect: 'none'\r\n              }\"\r\n            >\r\n              {{ item.num }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 5. 登录按钮 -->\r\n        <div\r\n            :style=\"{\r\n            width: '80%',\r\n            margin: '0 auto',\r\n            display: 'flex',\r\n            justifyContent: 'center'\r\n          }\"\r\n        >\r\n          <el-button\r\n              :style=\"{\r\n              border: '0',\r\n              cursor: 'pointer',\r\n              padding: '0 24px',\r\n              margin: '0',\r\n              outline: 'none',\r\n              color: '#fff',\r\n              borderRadius: '0',\r\n              background: '#78ABC3',\r\n              width: '100%',\r\n              fontSize: '18px',\r\n              height: '48px'\r\n            }\"\r\n              type=\"primary\"\r\n              @click=\"login\"\r\n          >\r\n            登录\r\n          </el-button>\r\n        </div>\r\n\r\n        <!-- 6. 注册学生按钮（最下方，核心需求） -->\r\n        <div\r\n            :style=\"{\r\n            width: '80%',\r\n            margin: '18px auto 0',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            gap: '12px'\r\n          }\"\r\n        >\r\n          <el-button\r\n              type=\"text\"\r\n              :style=\"{\r\n              color: '#1746D4',\r\n              padding: '0',\r\n              fontSize: '14px'\r\n            }\"\r\n              @click=\"goRegister\"\r\n          >\r\n            注册学生\r\n          </el-button>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 完全删除所有外部依赖导入（包括menu.js）\r\nexport default {\r\n  name: \"Login\", // 组件名匹配文件\r\n  data() {\r\n    return {\r\n      // 核心表单数据\r\n      rulesForm: {\r\n        username: \"\",    // 用户名\r\n        password: \"\",    // 密码\r\n        role: \"\",        // 角色（管理员/学生）\r\n        code: \"\"         // 验证码\r\n      },\r\n      // 验证码相关\r\n      codes: [],         // 验证码字符列表\r\n      correctCode: \"\",   // 正确验证码\r\n      // 输入框样式（统一复用）\r\n      inputStyle: {\r\n        border: \"0px solid rgba(64, 158, 255, 1)\",\r\n        padding: \"0 10px\",\r\n        boxShadow: \"0px 4px 10px 0px rgba(0,0,0,0.1)\",\r\n        color: \"#758659\",\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        height: \"44px\"\r\n      }\r\n    };\r\n  },\r\n  // 页面加载初始化\r\n  mounted() {\r\n    console.log(\"✅ 登录页面加载成功（路径：src/pages/login/login.vue）\");\r\n    this.getRandCode(); // 初始化验证码\r\n  },\r\n  methods: {\r\n    // 注册学生跳转（核心功能）\r\n    goRegister() {\r\n      this.$router.push({\r\n        path: \"/register\",\r\n        query: { pageFlag: \"register\", role: \"xuesheng\" }\r\n      });\r\n    },\r\n    // 登录逻辑（基础校验 + 模拟成功）\r\n    login() {\r\n      // 1. 基础必填项校验\r\n      if (!this.rulesForm.username) {\r\n        this.$message.error(\"请输入用户名！\");\r\n        return;\r\n      }\r\n      if (!this.rulesForm.password) {\r\n        this.$message.error(\"请输入密码！\");\r\n        return;\r\n      }\r\n      if (!this.rulesForm.role) {\r\n        this.$message.error(\"请选择登录角色！\");\r\n        return;\r\n      }\r\n      if (!this.rulesForm.code) {\r\n        this.$message.error(\"请输入验证码！\");\r\n        return;\r\n      }\r\n\r\n      // 2. 验证码校验\r\n      const inputCode = this.rulesForm.code.trim().toLowerCase();\r\n      if (inputCode !== this.correctCode) {\r\n        this.$message.error(\"验证码错误！\");\r\n        this.getRandCode(); // 刷新验证码\r\n        this.rulesForm.code = \"\"; // 清空输入\r\n        return;\r\n      }\r\n\r\n      // 3. 模拟登录成功（替换为实际接口请修改此处）\r\n      this.$message.success(` 登录成功！`);\r\n      this.$router.replace({ path: \"/index/\" });\r\n    },\r\n    // 生成随机验证码\r\n    getRandCode(len = 4) {\r\n      // 验证码字符库（排除易混淆字符）\r\n      const chars = [\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"J\",\"K\",\"M\",\"N\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"];\r\n      // 验证码字符颜色\r\n      const colors = [\"#FF6B6B\",\"#4ECDC4\",\"#45B7D1\",\"#96CEB4\",\"#FFEEAD\"];\r\n      // 验证码字符大小\r\n      const sizes = [\"16px\",\"18px\",\"20px\"];\r\n\r\n      let codeStr = \"\";\r\n      this.codes = [];\r\n      // 生成4位验证码\r\n      for (let i = 0; i < len; i++) {\r\n        const char = chars[Math.floor(Math.random() * chars.length)];\r\n        codeStr += char;\r\n        this.codes.push({\r\n          num: char,\r\n          color: colors[Math.floor(Math.random() * colors.length)],\r\n          rotate: `rotate(${Math.random() * 30 - 15}deg)`, // 轻微旋转\r\n          size: sizes[Math.floor(Math.random() * sizes.length)]\r\n        });\r\n      }\r\n      this.correctCode = codeStr.toLowerCase();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 容器样式\r\n.container {\r\n  min-height: 100vh;\r\n  position: relative;\r\n  background: #f3f7fa; // 纯色背景，避免背景图依赖\r\n\r\n  // 标题样式\r\n  .title-container {\r\n    letter-spacing: 1px;\r\n  }\r\n\r\n  // 输入框统一样式\r\n  .list-item input {\r\n    border: 0;\r\n    padding: 0 10px;\r\n    box-shadow: 0px 4px 10px 0px rgba(0, 0, 0, 0.1);\r\n    color: #758659;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    height: 44px;\r\n    outline: none;\r\n    background: #fff;\r\n  }\r\n}\r\n</style>"]}]}