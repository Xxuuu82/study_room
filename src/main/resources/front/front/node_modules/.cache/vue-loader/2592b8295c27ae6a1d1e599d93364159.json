{"remainingRequest":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\weigui\\shensu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\weigui\\shensu.vue","mtime":1766219380889},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHN1Ym1pdHRpbmc6IGZhbHNlLA0KICAgICAgaWQ6ICIiLA0KICAgICAgYmFzZVVybDogIiIsDQogICAgICBybzogew0KICAgICAgICBzaGVuc3VkYW5oYW86IGZhbHNlLA0KICAgICAgICB3ZWlndWlkYW5oYW86IHRydWUsDQogICAgICAgIHdlaWd1aWxlaXhpbmc6IHRydWUsDQogICAgICAgIHdlaWd1aVRpbWU6IHRydWUsDQogICAgICAgIHdlaWd1aVJlYXNvbjogdHJ1ZSwNCiAgICAgICAgeHVlaGFvOiBmYWxzZSwNCiAgICAgICAgeGluZ21pbmc6IGZhbHNlLA0KICAgICAgICBzaG91amk6IGZhbHNlLA0KICAgICAgICBzaGVuc3VUaW1lOiBmYWxzZSwNCiAgICAgICAgc2hlbnN1UmVhc29uOiBmYWxzZSwNCiAgICAgICAgc2hlbnN1U3VxaXU6IGZhbHNlLA0KICAgICAgfSwNCiAgICAgIHVzZXJUYWJsZU5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVc2VyVGFibGVOYW1lIiksDQogICAgICBydWxlRm9ybTogew0KICAgICAgICBzaGVuc3VkYW5oYW86ICJTUyIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSwNCiAgICAgICAgd2VpZ3VpZGFuaGFvOiAiIiwNCiAgICAgICAgd2VpZ3VpbGVpeGluZzogIiIsDQogICAgICAgIHdlaWd1aVRpbWU6ICIiLA0KICAgICAgICB3ZWlndWlSZWFzb246ICIiLA0KICAgICAgICB4dWVoYW86ICIiLA0KICAgICAgICB4aW5nbWluZzogIiIsDQogICAgICAgIHNob3VqaTogIiIsDQogICAgICAgIHNoZW5zdVRpbWU6ICIiLA0KICAgICAgICBzaGVuc3VSZWFzb246ICIiLA0KICAgICAgICBzaGVuc3VTdXFpdTogIiIsDQogICAgICAgIHNoZW5zdVN0YXR1czogIueUs+ivieS4rSIsDQogICAgICAgIHNoZW5zdUhhbmRsZVN0YXR1czogIuacquWkhOeQhiINCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICBzaGVuc3VkYW5oYW86IFtdLA0KICAgICAgICB3ZWlndWlkYW5oYW86IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6L+d6KeE5Y2V5Y+35LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICB4dWVoYW86IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi55Sz6K+J5Lq65a2m5Y+35LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICB4aW5nbWluZzogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLnlLPor4nkurrlp5PlkI3kuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIHNob3VqaTogW3sgdmFsaWRhdG9yOiAociwgdiwgYykgPT4geyBpZiAoIXYpIGMoKTsgZWxzZSB7IGNvbnN0IHJlZyA9IC9eMVszLTldXGR7OX0kLzsgaWYgKCFyZWcudGVzdCh2KSkgYyhuZXcgRXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPtycpKTsgZWxzZSBjKCk7IH0gfSwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICBzaGVuc3VUaW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqeeUs+ivieaXtumXtCIsIHRyaWdnZXI6ICJjaGFuZ2UiIH1dLA0KICAgICAgICBzaGVuc3VSZWFzb246IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36K+m57uG5o+P6L+w55Sz6K+J5Y6f5ZugIiwgdHJpZ2dlcjogImJsdXIiIH0sIHsgbWluOiAyMCwgbWVzc2FnZTogIueUs+ivieWOn+WboOiHs+WwkeWhq+WGmTIw5Liq5a2XIiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgICBzaGVuc3VTdXFpdTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7for7TmmI7mgqjnmoTnlLPor4nor4nmsYIiLCB0cmlnZ2VyOiAiYmx1ciIgfV0NCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuJGNvbmZpZz8uYmFzZVVybCB8fCAnJzsNCiAgICB0aGlzLnJ1bGVGb3JtLnNoZW5zdVRpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpLnJlcGxhY2UoJ1QnLCAnICcpOw0KICAgIHRoaXMuaW5pdFNoZW5zdURhdGEoKTsNCiAgICB0aGlzLmluaXRVc2VySW5mbygpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0QXV0aEhlYWRlcnMoKSB7DQogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUb2tlbicpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdBdXRob3JpemF0aW9uJykgfHwgJyc7DQogICAgICBjb25zdCBoZWFkZXJzID0ge307DQogICAgICBpZiAodG9rZW4pIHsNCiAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gdG9rZW4uc3RhcnRzV2l0aCgnQmVhcmVyICcpID8gdG9rZW4gOiBgQmVhcmVyICR7dG9rZW59YDsNCiAgICAgICAgaGVhZGVyc1snVG9rZW4nXSA9IHRva2VuOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGhlYWRlcnM7DQogICAgfSwNCg0KICAgIGFzeW5jIGluaXRTaGVuc3VEYXRhKCkgew0KICAgICAgY29uc3Qgcm91dGVJZCA9IHRoaXMuJHJvdXRlICYmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCB8fCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOw0KICAgICAgaWYgKHJvdXRlSWQpIHsgYXdhaXQgdGhpcy5mZXRjaFdlaWd1aURldGFpbChyb3V0ZUlkKTsgcmV0dXJuOyB9DQoNCiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50V2VpZ3VpT2JqIik7DQogICAgICBpZiAoc3RvcmVkKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZShzdG9yZWQpOw0KICAgICAgICAgIGNvbnN0IGlkID0gb2JqLmlkIHx8IG9iai5JRDsNCiAgICAgICAgICBpZiAoaWQpIHsgYXdhaXQgdGhpcy5mZXRjaFdlaWd1aURldGFpbChpZCk7IHJldHVybjsgfQ0KICAgICAgICAgIHRoaXMuZmlsbFJ1bGVGb3JtRnJvbU9iaihvYmopOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgIGNvbnNvbGUud2FybignY3VycmVudFdlaWd1aU9iaiBwYXJzZSBlcnJvcicsIGUpOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi5pyq6I635Y+W5Yiw6L+d6KeE6K6w5b2V5L+h5oGv77yM6K+36YCJ5oup6KaB55Sz6K+J55qE6L+d6KeE6K6w5b2VIik7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHJvdXRlci5wdXNoKCcvaW5kZXgvd2VpZ3VpJyksIDEyMDApOw0KICAgIH0sDQoNCiAgICBhc3luYyBmZXRjaFdlaWd1aURldGFpbChpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc29sZS5sb2coJ1tERUJVR10g5q2j5Zyo6K+35rGCIC9hcGkvd2VpZ3VpL2RldGFpbCBpZD0nLCBpZCk7DQogICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvd2VpZ3VpL2RldGFpbCcsIHsNCiAgICAgICAgICBwYXJhbXM6IHsgaWQgfSwNCiAgICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEF1dGhIZWFkZXJzKCksDQogICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlDQogICAgICAgIH0pOw0KICAgICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSAvYXBpL3dlaWd1aS9kZXRhaWwg6L+U5ZueOicsIHJlc3AgJiYgcmVzcC5kYXRhKTsNCg0KICAgICAgICBjb25zdCBkYXRhID0gcmVzcCAmJiByZXNwLmRhdGE7DQogICAgICAgIGlmIChkYXRhICYmIChkYXRhLmNvZGUgPT09IDQwMSB8fCByZXNwLnN0YXR1cyA9PT0gNDAxKSkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+35YWI55m75b2V77yM5YaN5p+l55yL6L+d6KeE6K+m5oOFJyk7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsgfSwgODAwKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgcmVjb3JkID0gbnVsbDsNCiAgICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAwICYmIGRhdGEuZGF0YSkgcmVjb3JkID0gZGF0YS5kYXRhOw0KICAgICAgICAgIGVsc2UgaWYgKGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEuZGF0YSkgcmVjb3JkID0gZGF0YS5kYXRhLmRhdGE7DQogICAgICAgICAgZWxzZSBpZiAoZGF0YS5yZWNvcmQpIHJlY29yZCA9IGRhdGEucmVjb3JkOw0KICAgICAgICAgIGVsc2UgcmVjb3JkID0gZGF0YTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghcmVjb3JkIHx8IE9iamVjdC5rZXlzKHJlY29yZCkubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgY29uc29sZS53YXJuKCdmZXRjaFdlaWd1aURldGFpbDog5pyq5qOA5rWL5YiwIHJlY29yZO+8jOWcqCBsb2NhbFN0b3JhZ2Ug5Zue6YCAJyk7DQogICAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRXZWlndWlPYmoiKTsNCiAgICAgICAgICBpZiAoc3RvcmVkKSB7IHRyeSB7IHRoaXMuZmlsbFJ1bGVGb3JtRnJvbU9iaihKU09OLnBhcnNlKHN0b3JlZCkpOyB9IGNhdGNoIChlKSB7IGNvbnNvbGUud2Fybign5Zue6YCAIGxvY2FsU3RvcmFnZSBwYXJzZSBlcnJvcicsIGUpOyB9IHJldHVybjsgfQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+acquiDveiOt+WPluWIsOi/neinhOivpuaDhScpOw0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC93ZWlndWknKSwgMTAwMCk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5maWxsUnVsZUZvcm1Gcm9tT2JqKHJlY29yZCk7DQogICAgICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjdXJyZW50V2VpZ3VpT2JqIiwgSlNPTi5zdHJpbmdpZnkocmVjb3JkKSk7IH0NCiAgICAgICAgY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCdsb2NhbFN0b3JhZ2Ugc2V0IGN1cnJlbnRXZWlndWlPYmogZmFpbGVkJywgZSk7IH0NCg0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZldGNoV2VpZ3VpRGV0YWlsIOWHuumUme+8micsIGVycik7DQogICAgICAgIGlmIChlcnIucmVzcG9uc2UgJiYgZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flhYjnmbvlvZUnKTsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKSwgODAwKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRXZWlndWlPYmoiKTsNCiAgICAgICAgaWYgKHN0b3JlZCkgeyB0cnkgeyB0aGlzLmZpbGxSdWxlRm9ybUZyb21PYmooSlNPTi5wYXJzZShzdG9yZWQpKTsgfSBjYXRjaCAoZSkgeyBjb25zb2xlLndhcm4oJ+WbnumAgCBsb2NhbFN0b3JhZ2UgcGFyc2UgZXJyb3InLCBlKTsgfSByZXR1cm47IH0NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5peg5rOV6I635Y+W6L+d6KeE6K+m5oOF77yM6K+356iN5ZCO6YeN6K+VJyk7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC93ZWlndWknKSwgMTIwMCk7DQogICAgICB9DQogICAgfSwNCg0KICAgIGZpbGxSdWxlRm9ybUZyb21PYmoocikgew0KICAgICAgaWYgKCFyKSByZXR1cm47DQogICAgICBjb25zdCBnZXRGaWVsZCA9ICguLi5uYW1lcykgPT4gew0KICAgICAgICBmb3IgKGNvbnN0IG4gb2YgbmFtZXMpIGlmIChyW25dICE9PSB1bmRlZmluZWQgJiYgcltuXSAhPT0gbnVsbCAmJiByW25dICE9PSAnJykgcmV0dXJuIHJbbl07DQogICAgICAgIHJldHVybiBudWxsOw0KICAgICAgfTsNCiAgICAgIHRoaXMucnVsZUZvcm0ud2VpZ3VpZGFuaGFvID0gZ2V0RmllbGQoJ3dlaWd1aURhbmhhbycsJ3dlaWd1aWRhbmhhbycsJ3dlaWd1aV9kYW5oYW8nKSB8fCB0aGlzLnJ1bGVGb3JtLndlaWd1aWRhbmhhbzsNCiAgICAgIHRoaXMucnVsZUZvcm0ud2VpZ3VpbGVpeGluZyA9IGdldEZpZWxkKCd3ZWlndWlsZWl4aW5nTmFtZScsJ3dlaWd1aWxlaXhpbmcnLCd3ZWlndWlMZWl4aW5nJykgfHwgJyc7DQogICAgICBjb25zdCByYXdUaW1lID0gZ2V0RmllbGQoJ3dlaWd1aVNoaWppYW4nLCd3ZWlndWlfc2hpamlhbicsJ2FkZHRpbWUnLCdhZGRUaW1lJyk7DQogICAgICB0aGlzLnJ1bGVGb3JtLndlaWd1aVRpbWUgPSB0aGlzLmZvcm1hdEFueVRpbWUocmF3VGltZSkgfHwgJyc7DQogICAgICB0aGlzLnJ1bGVGb3JtLndlaWd1aVJlYXNvbiA9IGdldEZpZWxkKCd3ZWlndWlCZWl6aHUnLCd3ZWlndWlfYmVpemh1Jywnb3RoZXJXZWlndWlEZXNjJykgfHwgJyc7DQogICAgICBjb25zdCByZWNYdWVoYW8gPSBnZXRGaWVsZCgneHVlaGFvJywnWFVFSEFPJyk7DQogICAgICBjb25zdCByZWNYaW5nbWluZyA9IGdldEZpZWxkKCd4aW5nbWluZycsJ1hJTkdNSU5HJywnbmFtZScpOw0KICAgICAgaWYgKHJlY1h1ZWhhbykgeyB0aGlzLnJ1bGVGb3JtLnh1ZWhhbyA9IHJlY1h1ZWhhbzsgdGhpcy5yby54dWVoYW8gPSB0cnVlOyB9DQogICAgICBpZiAocmVjWGluZ21pbmcpIHsgdGhpcy5ydWxlRm9ybS54aW5nbWluZyA9IHJlY1hpbmdtaW5nOyB0aGlzLnJvLnhpbmdtaW5nID0gdHJ1ZTsgfQ0KICAgIH0sDQoNCiAgICBpbml0VXNlckluZm8oKSB7DQogICAgICBpZiAoIXRoaXMudXNlclRhYmxlTmFtZSkgew0KICAgICAgICBpZiAoIXRoaXMucnVsZUZvcm0ueHVlaGFvKSB0aGlzLnJ1bGVGb3JtLnh1ZWhhbyA9ICIyMDIzMDAwMSI7DQogICAgICAgIGlmICghdGhpcy5ydWxlRm9ybS54aW5nbWluZykgdGhpcy5ydWxlRm9ybS54aW5nbWluZyA9ICLlvKDkuIkiOw0KICAgICAgICBpZiAoIXRoaXMucnVsZUZvcm0uc2hvdWppKSB0aGlzLnJ1bGVGb3JtLnNob3VqaSA9ICIxMzgwMDEzODAwMCI7DQogICAgICAgIHRoaXMucm8ueHVlaGFvID0gdHJ1ZTsgdGhpcy5yby54aW5nbWluZyA9IHRydWU7IHRoaXMucm8uc2hvdWppID0gdHJ1ZTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuJGh0dHApIHsNCiAgICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy51c2VyVGFibGVOYW1lICsgIi9zZXNzaW9uIiwgeyBlbXVsYXRlSlNPTjogdHJ1ZSB9KQ0KICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICBpZiAocmVzLmRhdGEgJiYgKHJlcy5kYXRhLmNvZGUgPT09IDAgfHwgcmVzLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICBjb25zdCB1c2VySW5mbyA9IHJlcy5kYXRhLmRhdGEgfHwge307DQogICAgICAgICAgICAgICAgaWYgKHVzZXJJbmZvLnh1ZWhhbykgeyB0aGlzLnJ1bGVGb3JtLnh1ZWhhbyA9IHVzZXJJbmZvLnh1ZWhhbzsgdGhpcy5yby54dWVoYW8gPSB0cnVlOyB9DQogICAgICAgICAgICAgICAgaWYgKHVzZXJJbmZvLnhpbmdtaW5nKSB7IHRoaXMucnVsZUZvcm0ueGluZ21pbmcgPSB1c2VySW5mby54aW5nbWluZzsgdGhpcy5yby54aW5nbWluZyA9IHRydWU7IH0NCiAgICAgICAgICAgICAgICBpZiAodXNlckluZm8uc2hvdWppKSB7IHRoaXMucnVsZUZvcm0uc2hvdWppID0gdXNlckluZm8uc2hvdWppOyB0aGlzLnJvLnNob3VqaSA9IHRydWU7IH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4geyBjb25zb2xlLndhcm4oIuiOt+WPlueUqOaIt+S/oeaBr+Wksei0pe+8miIsIGVycik7IH0pOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyA9PT09PT09PT09IOaPkOS6pOWIsOWQjuerryA9PT09PT09PT09DQogICAgYXN5bmMgb25TdWJtaXQoKSB7DQogICAgICB0aGlzLiRyZWZzWyJydWxlRm9ybSJdLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47DQogICAgICAgIGlmICh0aGlzLnN1Ym1pdHRpbmcpIHJldHVybjsNCiAgICAgICAgdGhpcy5zdWJtaXR0aW5nID0gdHJ1ZTsNCg0KICAgICAgICBsZXQgY3VycmVudCA9IHt9Ow0KICAgICAgICB0cnkgeyBjdXJyZW50ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFdlaWd1aU9iaiIpIHx8ICJ7fSIpOyB9IGNhdGNoIChlKSB7IGNvbnNvbGUud2FybigncGFyc2UgY3VycmVudFdlaWd1aU9iaiBmYWlsZWQnLCBlKTsgfQ0KDQogICAgICAgIGNvbnN0IHBheWxvYWQgPSB7DQogICAgICAgICAgc2hlbnN1RGFuaGFvOiB0aGlzLnJ1bGVGb3JtLnNoZW5zdWRhbmhhbywNCiAgICAgICAgICB4dWVoYW86IHRoaXMucnVsZUZvcm0ueHVlaGFvLA0KICAgICAgICAgIHhpbmdtaW5nOiB0aGlzLnJ1bGVGb3JtLnhpbmdtaW5nLA0KICAgICAgICAgIHNoZW5zdU5laXJvbmc6IHRoaXMucnVsZUZvcm0uc2hlbnN1UmVhc29uLA0KICAgICAgICAgIHNoZW5zdVN1cWl1OiB0aGlzLnJ1bGVGb3JtLnNoZW5zdVN1cWl1IHx8ICcnLA0KICAgICAgICAgIHNoZW5zdVNoaWppYW46IHRoaXMucnVsZUZvcm0uc2hlbnN1VGltZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxOSkucmVwbGFjZSgnVCcsJyAnKSwNCiAgICAgICAgICB3ZWlndWlSZWNvcmRJZDogY3VycmVudC5pZCB8fCBudWxsLA0KICAgICAgICAgIHdlaWd1aURhbmhhbzogdGhpcy5ydWxlRm9ybS53ZWlndWlkYW5oYW8gfHwgJycNCiAgICAgICAgfTsNCg0KICAgICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSDlj5HpgIHnlLPor4kgcGF5bG9hZD0nLCBwYXlsb2FkKTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL3NoZW5zdS9hZGQnLCBwYXlsb2FkLCB7DQogICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JywgLi4udGhpcy5nZXRBdXRoSGVhZGVycygpIH0sDQogICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUNCiAgICAgICAgICB9KTsNCg0KICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIC9hcGkvc2hlbnN1L2FkZCDov5Tlm57vvJonLCByZXNwICYmIHJlc3AuZGF0YSk7DQoNCiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcCAmJiByZXNwLmRhdGE7DQogICAgICAgICAgY29uc3Qgb2sgPSAoZGF0YSAmJiAoZGF0YS5jb2RlID09PSAwIHx8IGRhdGEuY29kZSA9PT0gMjAwIHx8IGRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkpIHx8IHJlc3Auc3RhdHVzID09PSAyMDA7DQoNCiAgICAgICAgICBpZiAob2spIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICBtZXNzYWdlOiAi55Sz6K+J5o+Q5Lqk5oiQ5Yqf77yM562J5b6F566h55CG5ZGY5a6h5qC45aSE55CGIiwNCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwNCiAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4geyB0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4L3dlaWd1aScpOyB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRXZWlndWlPYmoiKSB8fCAie30iKTsNCiAgICAgICAgICAgICAgaWYgKHN0b3JlZCkgeyBzdG9yZWQuc2hlbnN1U3RhdHVzID0gIuW3sueUs+iviSI7IHN0b3JlZC5zaGVuc3VIYW5kbGVTdGF0dXMgPSAi5aSE55CG5LitIjsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1cnJlbnRXZWlndWlPYmoiLCBKU09OLnN0cmluZ2lmeShzdG9yZWQpKTsgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBjb25zb2xlLndhcm4oJ3VwZGF0ZSBsb2NhbFN0b3JhZ2UgY3VycmVudFdlaWd1aU9iaiBmYWlsZWQnLCBlKTsgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjb25zdCBtc2cgPSAoZGF0YSAmJiAoZGF0YS5tc2cgfHwgZGF0YS5tZXNzYWdlKSkgfHwgJ+eUs+ivieaPkOS6pOWksei0pSc7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKG1zZyk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCfnlLPor4nmj5DkuqTor7fmsYLlh7rplJnvvJonLCBlcnIpOw0KICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UgJiYgZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOeZu+W9leWGjeaPkOS6pOeUs+iviScpOw0KICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKSwgODAwKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign572R57uc5oiW5pyN5Yqh5Zmo6ZSZ6K+v77yM5o+Q5Lqk5aSx6LSlJyk7DQogICAgICAgICAgfQ0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgIHRoaXMuc3VibWl0dGluZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgZ2V0VVVJRCgpIHsgcmV0dXJuICJTUyIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgfSwNCg0KICAgIGJhY2soKSB7IHRoaXMuJHJvdXRlci5wdXNoKCcvaW5kZXgvd2VpZ3VpJyk7IH0sDQoNCiAgICBmb3JtYXRBbnlUaW1lKHZhbCkgew0KICAgICAgaWYgKCF2YWwgJiYgdmFsICE9PSAwKSByZXR1cm4gJyc7DQogICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7IGNvbnN0IGFyciA9IHZhbC5tYXAodj0+U3RyaW5nKHYpLnBhZFN0YXJ0KDIsJzAnKSk7IGlmIChhcnIubGVuZ3RoPj02KSByZXR1cm4gYCR7YXJyWzBdfS0ke2FyclsxXX0tJHthcnJbMl19ICR7YXJyWzNdfToke2Fycls0XX06JHthcnJbNV19YDsgcmV0dXJuIGFyci5qb2luKCctJyk7IH0NCiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgeyBpZiAoU3RyaW5nKHZhbCkubGVuZ3RoPT09MTApIHJldHVybiBuZXcgRGF0ZSh2YWwqMTAwMCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdUJywnICcpLnNsaWNlKDAsMTkpOyByZXR1cm4gbmV3IERhdGUodmFsKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1QnLCcgJykuc2xpY2UoMCwxOSk7IH0NCiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBPYmplY3QgJiYgISh2YWwgaW5zdGFuY2VvZiBEYXRlKSkgeyB0cnkgeyBjb25zdCBhc1N0ciA9IFN0cmluZyh2YWwpOyBpZiAoYXNTdHIgJiYgYXNTdHIuaW5kZXhPZignWycpPT09MCkgcmV0dXJuIGFzU3RyOyByZXR1cm4gYXNTdHI7IH0gY2F0Y2goZSl7fSB9DQogICAgICB0cnkgeyBjb25zdCBzID0gU3RyaW5nKHZhbCkudHJpbSgpOyBpZiAoL15cZHs0fS1cZHsyfS1cZHsyfVRcZHsyfTpcZHsyfTpcZHsyfS8udGVzdChzKSkgcmV0dXJuIHMucmVwbGFjZSgnVCcsJyAnKS5zbGljZSgwLDE5KTsgcmV0dXJuIHM7IH0gY2F0Y2goZSl7IHJldHVybiBTdHJpbmcodmFsKTsgfQ0KICAgIH0sDQoNCiAgICBwYXJzZURhdGVTdHIoc3RyKSB7DQogICAgICBpZiAoIXN0ciAmJiBzdHIgIT09IDApIHJldHVybiBudWxsOw0KICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIERhdGUpIHJldHVybiBzdHI7DQogICAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ251bWJlcicpIHJldHVybiBuZXcgRGF0ZShzdHIpOw0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyKSkgeyBjb25zdCBhcnIgPSBzdHIubWFwKG49Pk51bWJlcihuKSk7IGlmIChhcnIubGVuZ3RoPj02KSByZXR1cm4gbmV3IERhdGUoYXJyWzBdLCBhcnJbMV0tMSwgYXJyWzJdLCBhcnJbM10sIGFycls0XSwgYXJyWzVdKTsgcmV0dXJuIG51bGw7IH0NCiAgICAgIGxldCBzID0gU3RyaW5nKHN0cikudHJpbSgpOw0KICAgICAgaWYgKC9eXGR7MTB9JC8udGVzdChzKSkgcmV0dXJuIG5ldyBEYXRlKE51bWJlcihzKSoxMDAwKTsNCiAgICAgIGlmICgvXlxkezEzfSQvLnRlc3QocykpIHJldHVybiBuZXcgRGF0ZShOdW1iZXIocykpOw0KICAgICAgaWYgKC9eXGR7NH0tXGR7Mn0tXGR7Mn0gXGR7Mn06XGR7Mn06XGR7Mn0kLy50ZXN0KHMpKSBzID0gcy5yZXBsYWNlKCcgJywgJ1QnKTsNCiAgICAgIGlmICgvXlxkezR9XC9cZHsyfVwvXGR7Mn0gXGR7Mn06XGR7Mn06XGR7Mn0kLy50ZXN0KHMpKSBzID0gcy5yZXBsYWNlKCcgJywgJ1QnKS5yZXBsYWNlKC9cLy9nLCAnLScpOw0KICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKHMpOyBpZiAoaXNOYU4oZC5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDsgcmV0dXJuIGQ7DQogICAgfSwNCg0KICAgIGZvcm1hdEVuZFRpbWUoZW5kRGF0ZSkgew0KICAgICAgY29uc3QgZCA9IGVuZERhdGUgaW5zdGFuY2VvZiBEYXRlID8gZW5kRGF0ZSA6IG5ldyBEYXRlKGVuZERhdGUpOyBpZiAoaXNOYU4oZC5nZXRUaW1lKCkpKSByZXR1cm4gJyc7IGNvbnN0IHBhZCA9IG49PiAobjwxMD8gJzAnK24gOiAnJytuKTsgcmV0dXJuIGAke2QuZ2V0RnVsbFllYXIoKX0tJHtwYWQoZC5nZXRNb250aCgpKzEpfS0ke3BhZChkLmdldERhdGUoKSl9ICR7cGFkKGQuZ2V0SG91cnMoKSl9OiR7cGFkKGQuZ2V0TWludXRlcygpKX06JHtwYWQoZC5nZXRTZWNvbmRzKCkpfWA7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["shensu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"shensu.vue","sourceRoot":"src/pages/weigui","sourcesContent":["<template>\r\n  <div\r\n      :style=\"{\r\n      width: '100%',\r\n      maxWidth: '1000px',\r\n      padding: '20px',\r\n      boxShadow: '0px 4px 10px 0px rgba(0,0,0,0.302)',\r\n      margin: '10px auto',\r\n      position: 'relative',\r\n      background: '#fff',\r\n      borderRadius: '8px',\r\n      boxSizing: 'border-box'\r\n    }\"\r\n  >\r\n    <!-- 面包屑导航 -->\r\n    <div :style=\"{ marginBottom: '20px', paddingBottom: '10px', borderBottom: '1px solid #e4e7ed' }\">\r\n      <el-breadcrumb :separator=\"'/'\" :style='{\"fontSize\":\"14px\",\"lineHeight\":\"1\",\"color\":\"#333\"}'>\r\n        <el-breadcrumb-item @click=\"$router.push('/index/home')\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item @click=\"$router.push('/index/weigui')\">违规记录</el-breadcrumb-item>\r\n        <el-breadcrumb-item>违规申诉</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <!-- 违规记录基本信息展示区域 -->\r\n    <div :style=\"{ width: '100%', maxWidth: '800px', padding: '20px', margin: '0 auto 20px', background: '#f8f9fa', borderRadius: '8px', boxShadow: '0 1px 3px rgba(0, 0, 0, .05)' }\">\r\n      <h3 :style=\"{ margin: '0 0 15px 0', fontSize: '16px', color: '#333', fontWeight: '500' }\">违规记录信息</h3>\r\n\r\n      <div class=\"info-item\" :style=\"{ padding: '10px 0', display: 'flex', borderBottom: '1px dashed #e4e7ed' }\">\r\n        <div :style=\"{ width: '120px', textAlign: 'right', paddingRight: '15px', color: '#666', fontSize: '14px' }\">违规单号：</div>\r\n        <div :style=\"{ flex: 1, color: '#333', fontSize: '14px' }\">{{ ruleForm.weiguidanhao || '-' }}</div>\r\n      </div>\r\n\r\n      <div class=\"info-item\" :style=\"{ padding: '10px 0', display: 'flex', borderBottom: '1px dashed #e4e7ed' }\">\r\n        <div :style=\"{ width: '120px', textAlign: 'right', paddingRight: '15px', color: '#666', fontSize: '14px' }\">违规类型：</div>\r\n        <div :style=\"{ flex: 1, color: '#333', fontSize: '14px' }\">{{ ruleForm.weiguileixing || '-' }}</div>\r\n      </div>\r\n\r\n      <div class=\"info-item\" :style=\"{ padding: '10px 0', display: 'flex', borderBottom: '1px dashed #e4e7ed' }\">\r\n        <div :style=\"{ width: '120px', textAlign: 'right', paddingRight: '15px', color: '#666', fontSize: '14px' }\">违规时间：</div>\r\n        <div :style=\"{ flex: 1, color: '#333', fontSize: '14px' }\">{{ ruleForm.weiguiTime || '-' }}</div>\r\n      </div>\r\n\r\n      <div class=\"info-item\" :style=\"{ padding: '10px 0', display: 'flex', borderBottom: '1px dashed #e4e7ed' }\">\r\n        <div :style=\"{ width: '120px', textAlign: 'right', paddingRight: '15px', color: '#666', fontSize: '14px' }\">违规原因：</div>\r\n        <div :style=\"{ flex: 1, color: '#333', fontSize: '14px', whiteSpace: 'pre-wrap' }\">{{ ruleForm.weiguiReason || '-' }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 申诉表单区域 -->\r\n    <el-form class=\"add-update-preview\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"rules\" label-width=\"120px\">\r\n      <el-form-item label=\"申诉单号\" prop=\"shensudanhao\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-input v-model=\"ruleForm.shensudanhao\" placeholder=\"申诉单号\" readonly></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"申诉人学号\" prop=\"xuehao\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-input v-model=\"ruleForm.xuehao\" placeholder=\"申诉人学号\" clearable :readonly=\"ro.xuehao\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"申诉人姓名\" prop=\"xingming\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-input v-model=\"ruleForm.xingming\" placeholder=\"申诉人姓名\" clearable :readonly=\"ro.xingming\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"申诉人手机\" prop=\"shouji\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-input v-model=\"ruleForm.shouji\" placeholder=\"申诉人手机\" clearable :readonly=\"ro.shouji\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"申诉时间\" prop=\"shensuTime\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-date-picker value-format=\"yyyy-MM-dd HH:mm:ss\" v-model=\"ruleForm.shensuTime\" type=\"datetime\" placeholder=\"选择申诉时间\" style=\"width: 100%;\" default-time=\"12:00:00\"></el-date-picker>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"申诉原因\" prop=\"shensuReason\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-input v-model=\"ruleForm.shensuReason\" type=\"textarea\" placeholder=\"请详细描述申诉原因\" clearable :rows=\"8\" style=\"width: 100%;\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"申诉诉求\" prop=\"shensuSuqiu\" :style=\"{ width: '100%', maxWidth: '800px', padding: '10px', margin: '0 auto 10px', display: 'block', boxSizing: 'border-box' }\">\r\n        <el-input v-model=\"ruleForm.shensuSuqiu\" type=\"textarea\" placeholder=\"请说明您的申诉诉求（如：撤销违规记录、减轻处罚等）\" clearable :rows=\"4\" style=\"width: 100%;\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item :style=\"{ padding: '20px 0 0', margin: '0', textAlign: 'center', width: '100%' }\">\r\n        <el-button :loading=\"submitting\" type=\"primary\" @click=\"onSubmit\" :style=\"{ margin: '0 10px 10px', padding: '0 24px', height: '40px', borderRadius: '4px', fontSize: '14px', background: '#2e61e1', color: '#fff', border: 'none' }\">提交申诉</el-button>\r\n        <el-button @click=\"back\" :style=\"{ margin: '0 10px 10px', padding: '0 24px', height: '40px', borderRadius: '4px', fontSize: '14px', background: '#f5f7fa', color: '#666', border: '1px solid #e4e7ed' }\">返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      submitting: false,\r\n      id: \"\",\r\n      baseUrl: \"\",\r\n      ro: {\r\n        shensudanhao: false,\r\n        weiguidanhao: true,\r\n        weiguileixing: true,\r\n        weiguiTime: true,\r\n        weiguiReason: true,\r\n        xuehao: false,\r\n        xingming: false,\r\n        shouji: false,\r\n        shensuTime: false,\r\n        shensuReason: false,\r\n        shensuSuqiu: false,\r\n      },\r\n      userTableName: localStorage.getItem(\"UserTableName\"),\r\n      ruleForm: {\r\n        shensudanhao: \"SS\" + new Date().getTime(),\r\n        weiguidanhao: \"\",\r\n        weiguileixing: \"\",\r\n        weiguiTime: \"\",\r\n        weiguiReason: \"\",\r\n        xuehao: \"\",\r\n        xingming: \"\",\r\n        shouji: \"\",\r\n        shensuTime: \"\",\r\n        shensuReason: \"\",\r\n        shensuSuqiu: \"\",\r\n        shensuStatus: \"申诉中\",\r\n        shensuHandleStatus: \"未处理\"\r\n      },\r\n      rules: {\r\n        shensudanhao: [],\r\n        weiguidanhao: [{ required: true, message: \"违规单号不能为空\", trigger: \"blur\" }],\r\n        xuehao: [{ required: true, message: \"申诉人学号不能为空\", trigger: \"blur\" }],\r\n        xingming: [{ required: true, message: \"申诉人姓名不能为空\", trigger: \"blur\" }],\r\n        shouji: [{ validator: (r, v, c) => { if (!v) c(); else { const reg = /^1[3-9]\\d{9}$/; if (!reg.test(v)) c(new Error('请输入正确的手机号')); else c(); } }, trigger: \"blur\" }],\r\n        shensuTime: [{ required: true, message: \"请选择申诉时间\", trigger: \"change\" }],\r\n        shensuReason: [{ required: true, message: \"请详细描述申诉原因\", trigger: \"blur\" }, { min: 20, message: \"申诉原因至少填写20个字\", trigger: \"blur\" }],\r\n        shensuSuqiu: [{ required: true, message: \"请说明您的申诉诉求\", trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.baseUrl = this.$config?.baseUrl || '';\r\n    this.ruleForm.shensuTime = new Date().toISOString().slice(0, 19).replace('T', ' ');\r\n    this.initShensuData();\r\n    this.initUserInfo();\r\n  },\r\n  methods: {\r\n    getAuthHeaders() {\r\n      const token = localStorage.getItem('Token') || localStorage.getItem('token') || localStorage.getItem('Authorization') || '';\r\n      const headers = {};\r\n      if (token) {\r\n        headers['Authorization'] = token.startsWith('Bearer ') ? token : `Bearer ${token}`;\r\n        headers['Token'] = token;\r\n      }\r\n      return headers;\r\n    },\r\n\r\n    async initShensuData() {\r\n      const routeId = this.$route && (this.$route.query.id || this.$route.params.id);\r\n      if (routeId) { await this.fetchWeiguiDetail(routeId); return; }\r\n\r\n      const stored = localStorage.getItem(\"currentWeiguiObj\");\r\n      if (stored) {\r\n        try {\r\n          const obj = JSON.parse(stored);\r\n          const id = obj.id || obj.ID;\r\n          if (id) { await this.fetchWeiguiDetail(id); return; }\r\n          this.fillRuleFormFromObj(obj);\r\n          return;\r\n        } catch (e) {\r\n          console.warn('currentWeiguiObj parse error', e);\r\n        }\r\n      }\r\n\r\n      this.$message.warning(\"未获取到违规记录信息，请选择要申诉的违规记录\");\r\n      setTimeout(() => this.$router.push('/index/weigui'), 1200);\r\n    },\r\n\r\n    async fetchWeiguiDetail(id) {\r\n      try {\r\n        console.log('[DEBUG] 正在请求 /api/weigui/detail id=', id);\r\n        const resp = await axios.get('/api/weigui/detail', {\r\n          params: { id },\r\n          headers: this.getAuthHeaders(),\r\n          withCredentials: true\r\n        });\r\n        console.log('[DEBUG] /api/weigui/detail 返回:', resp && resp.data);\r\n\r\n        const data = resp && resp.data;\r\n        if (data && (data.code === 401 || resp.status === 401)) {\r\n          this.$message.warning('请先登录，再查看违规详情');\r\n          setTimeout(() => { this.$router.push('/login'); }, 800);\r\n          return;\r\n        }\r\n\r\n        let record = null;\r\n        if (data) {\r\n          if (data.code === 0 && data.data) record = data.data;\r\n          else if (data.data && data.data.data) record = data.data.data;\r\n          else if (data.record) record = data.record;\r\n          else record = data;\r\n        }\r\n\r\n        if (!record || Object.keys(record).length === 0) {\r\n          console.warn('fetchWeiguiDetail: 未检测到 record，在 localStorage 回退');\r\n          const stored = localStorage.getItem(\"currentWeiguiObj\");\r\n          if (stored) { try { this.fillRuleFormFromObj(JSON.parse(stored)); } catch (e) { console.warn('回退 localStorage parse error', e); } return; }\r\n          this.$message.error('未能获取到违规详情');\r\n          setTimeout(() => this.$router.push('/index/weigui'), 1000);\r\n          return;\r\n        }\r\n\r\n        this.fillRuleFormFromObj(record);\r\n        try { localStorage.setItem(\"currentWeiguiObj\", JSON.stringify(record)); }\r\n        catch (e) { console.warn('localStorage set currentWeiguiObj failed', e); }\r\n\r\n      } catch (err) {\r\n        console.error('fetchWeiguiDetail 出错：', err);\r\n        if (err.response && err.response.status === 401) {\r\n          this.$message.warning('请先登录');\r\n          setTimeout(() => this.$router.push('/login'), 800);\r\n          return;\r\n        }\r\n        const stored = localStorage.getItem(\"currentWeiguiObj\");\r\n        if (stored) { try { this.fillRuleFormFromObj(JSON.parse(stored)); } catch (e) { console.warn('回退 localStorage parse error', e); } return; }\r\n        this.$message.error('无法获取违规详情，请稍后重试');\r\n        setTimeout(() => this.$router.push('/index/weigui'), 1200);\r\n      }\r\n    },\r\n\r\n    fillRuleFormFromObj(r) {\r\n      if (!r) return;\r\n      const getField = (...names) => {\r\n        for (const n of names) if (r[n] !== undefined && r[n] !== null && r[n] !== '') return r[n];\r\n        return null;\r\n      };\r\n      this.ruleForm.weiguidanhao = getField('weiguiDanhao','weiguidanhao','weigui_danhao') || this.ruleForm.weiguidanhao;\r\n      this.ruleForm.weiguileixing = getField('weiguileixingName','weiguileixing','weiguiLeixing') || '';\r\n      const rawTime = getField('weiguiShijian','weigui_shijian','addtime','addTime');\r\n      this.ruleForm.weiguiTime = this.formatAnyTime(rawTime) || '';\r\n      this.ruleForm.weiguiReason = getField('weiguiBeizhu','weigui_beizhu','otherWeiguiDesc') || '';\r\n      const recXuehao = getField('xuehao','XUEHAO');\r\n      const recXingming = getField('xingming','XINGMING','name');\r\n      if (recXuehao) { this.ruleForm.xuehao = recXuehao; this.ro.xuehao = true; }\r\n      if (recXingming) { this.ruleForm.xingming = recXingming; this.ro.xingming = true; }\r\n    },\r\n\r\n    initUserInfo() {\r\n      if (!this.userTableName) {\r\n        if (!this.ruleForm.xuehao) this.ruleForm.xuehao = \"20230001\";\r\n        if (!this.ruleForm.xingming) this.ruleForm.xingming = \"张三\";\r\n        if (!this.ruleForm.shouji) this.ruleForm.shouji = \"13800138000\";\r\n        this.ro.xuehao = true; this.ro.xingming = true; this.ro.shouji = true;\r\n        return;\r\n      }\r\n      if (this.$http) {\r\n        this.$http.get(this.userTableName + \"/session\", { emulateJSON: true })\r\n            .then((res) => {\r\n              if (res.data && (res.data.code === 0 || res.data.success === true)) {\r\n                const userInfo = res.data.data || {};\r\n                if (userInfo.xuehao) { this.ruleForm.xuehao = userInfo.xuehao; this.ro.xuehao = true; }\r\n                if (userInfo.xingming) { this.ruleForm.xingming = userInfo.xingming; this.ro.xingming = true; }\r\n                if (userInfo.shouji) { this.ruleForm.shouji = userInfo.shouji; this.ro.shouji = true; }\r\n              }\r\n            })\r\n            .catch(err => { console.warn(\"获取用户信息失败：\", err); });\r\n      }\r\n    },\r\n\r\n    // ========== 提交到后端 ==========\r\n    async onSubmit() {\r\n      this.$refs[\"ruleForm\"].validate(async (valid) => {\r\n        if (!valid) return;\r\n        if (this.submitting) return;\r\n        this.submitting = true;\r\n\r\n        let current = {};\r\n        try { current = JSON.parse(localStorage.getItem(\"currentWeiguiObj\") || \"{}\"); } catch (e) { console.warn('parse currentWeiguiObj failed', e); }\r\n\r\n        const payload = {\r\n          shensuDanhao: this.ruleForm.shensudanhao,\r\n          xuehao: this.ruleForm.xuehao,\r\n          xingming: this.ruleForm.xingming,\r\n          shensuNeirong: this.ruleForm.shensuReason,\r\n          shensuSuqiu: this.ruleForm.shensuSuqiu || '',\r\n          shensuShijian: this.ruleForm.shensuTime || new Date().toISOString().slice(0,19).replace('T',' '),\r\n          weiguiRecordId: current.id || null,\r\n          weiguiDanhao: this.ruleForm.weiguidanhao || ''\r\n        };\r\n\r\n        console.log('[DEBUG] 发送申诉 payload=', payload);\r\n\r\n        try {\r\n          const resp = await axios.post('/api/shensu/add', payload, {\r\n            headers: { 'Content-Type': 'application/json;charset=UTF-8', ...this.getAuthHeaders() },\r\n            withCredentials: true\r\n          });\r\n\r\n          console.log('[DEBUG] /api/shensu/add 返回：', resp && resp.data);\r\n\r\n          const data = resp && resp.data;\r\n          const ok = (data && (data.code === 0 || data.code === 200 || data.success === true)) || resp.status === 200;\r\n\r\n          if (ok) {\r\n            this.$message({\r\n              message: \"申诉提交成功，等待管理员审核处理\",\r\n              type: \"success\",\r\n              duration: 2000,\r\n              onClose: () => { this.$router.push('/index/weigui'); }\r\n            });\r\n            try {\r\n              const stored = JSON.parse(localStorage.getItem(\"currentWeiguiObj\") || \"{}\");\r\n              if (stored) { stored.shensuStatus = \"已申诉\"; stored.shensuHandleStatus = \"处理中\"; localStorage.setItem(\"currentWeiguiObj\", JSON.stringify(stored)); }\r\n            } catch (e) { console.warn('update localStorage currentWeiguiObj failed', e); }\r\n          } else {\r\n            const msg = (data && (data.msg || data.message)) || '申诉提交失败';\r\n            this.$message.error(msg);\r\n          }\r\n        } catch (err) {\r\n          console.error('申诉提交请求出错：', err);\r\n          if (err.response && err.response.status === 401) {\r\n            this.$message.warning('请先登录再提交申诉');\r\n            setTimeout(()=> this.$router.push('/login'), 800);\r\n          } else {\r\n            this.$message.error('网络或服务器错误，提交失败');\r\n          }\r\n        } finally {\r\n          this.submitting = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    getUUID() { return \"SS\" + new Date().getTime(); },\r\n\r\n    back() { this.$router.push('/index/weigui'); },\r\n\r\n    formatAnyTime(val) {\r\n      if (!val && val !== 0) return '';\r\n      if (Array.isArray(val)) { const arr = val.map(v=>String(v).padStart(2,'0')); if (arr.length>=6) return `${arr[0]}-${arr[1]}-${arr[2]} ${arr[3]}:${arr[4]}:${arr[5]}`; return arr.join('-'); }\r\n      if (typeof val === 'number') { if (String(val).length===10) return new Date(val*1000).toISOString().replace('T',' ').slice(0,19); return new Date(val).toISOString().replace('T',' ').slice(0,19); }\r\n      if (val instanceof Object && !(val instanceof Date)) { try { const asStr = String(val); if (asStr && asStr.indexOf('[')===0) return asStr; return asStr; } catch(e){} }\r\n      try { const s = String(val).trim(); if (/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/.test(s)) return s.replace('T',' ').slice(0,19); return s; } catch(e){ return String(val); }\r\n    },\r\n\r\n    parseDateStr(str) {\r\n      if (!str && str !== 0) return null;\r\n      if (str instanceof Date) return str;\r\n      if (typeof str === 'number') return new Date(str);\r\n      if (Array.isArray(str)) { const arr = str.map(n=>Number(n)); if (arr.length>=6) return new Date(arr[0], arr[1]-1, arr[2], arr[3], arr[4], arr[5]); return null; }\r\n      let s = String(str).trim();\r\n      if (/^\\d{10}$/.test(s)) return new Date(Number(s)*1000);\r\n      if (/^\\d{13}$/.test(s)) return new Date(Number(s));\r\n      if (/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/.test(s)) s = s.replace(' ', 'T');\r\n      if (/^\\d{4}\\/\\d{2}\\/\\d{2} \\d{2}:\\d{2}:\\d{2}$/.test(s)) s = s.replace(' ', 'T').replace(/\\//g, '-');\r\n      const d = new Date(s); if (isNaN(d.getTime())) return null; return d;\r\n    },\r\n\r\n    formatEndTime(endDate) {\r\n      const d = endDate instanceof Date ? endDate : new Date(endDate); if (isNaN(d.getTime())) return ''; const pad = n=> (n<10? '0'+n : ''+n); return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 样式调整：输入框白底、细边框，更接近图二样式 */\r\n@media (max-width: 768px) {\r\n  .add-update-preview .el-form-item >>> .el-form-item__label { width: 100% !important; text-align: left !important; line-height: 24px !important; padding: 0 0 8px 0 !important; }\r\n  .add-update-preview .el-form-item >>> .el-form-item__content { margin-left: 0 !important; }\r\n  .info-item { flex-direction: column !important; }\r\n  .info-item > div:first-child { width: 100% !important; text-align: left !important; padding-right: 0 !important; margin-bottom: 5px !important; }\r\n}\r\n.add-update-preview .el-input >>> .el-input__inner,\r\n.add-update-preview .el-select >>> .el-input__inner,\r\n.add-update-preview .el-date-editor >>> .el-input__inner {\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 4px;\r\n  padding: 0 12px;\r\n  outline: none;\r\n  color: #333;\r\n  background: #fff;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  height: 40px;\r\n  box-sizing: border-box;\r\n}\r\n.add-update-preview .el-textarea >>> .el-textarea__inner {\r\n  border: 1px solid #e6e6e6;\r\n  border-radius: 4px;\r\n  padding: 12px;\r\n  outline: none;\r\n  color: #333;\r\n  background: #fff;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  min-height: 100px;\r\n  box-sizing: border-box;\r\n}\r\n</style>"]}]}