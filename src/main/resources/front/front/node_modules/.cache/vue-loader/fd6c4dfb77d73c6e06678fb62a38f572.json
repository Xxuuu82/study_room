{"remainingRequest":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\register\\register.vue?vue&type=style&index=0&id=2d48598a&rel=stylesheet%2Fscss&lang=scss&scoped=true&","dependencies":[{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\register\\register.vue","mtime":1765363143041},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1765241852000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmNvbnRhaW5lciB7DQogIC5lbC1kYXRlLWVkaXRvci5lbC1pbnB1dCB7DQogICAgd2lkdGg6IDEwMCU7DQogIH0NCg0KICAucmdzLWZvcm0gLmVsLWlucHV0ID4+PiAuZWwtaW5wdXRfX2lubmVyIHsNCiAgICBib3JkZXI6IDA7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIHBhZGRpbmc6IDAgMTBweDsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIGNvbG9yOiAjMDAwOw0KICAgIGJhY2tncm91bmQ6ICNGOUY5Rjk7DQogICAgd2lkdGg6IDEwMCU7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGhlaWdodDogNDRweDsNCiAgfQ0KDQogIC5yZ3MtZm9ybSAuZWwtc2VsZWN0ID4+PiAuZWwtaW5wdXRfX2lubmVyIHsNCiAgICBib3JkZXI6IDA7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIHBhZGRpbmc6IDAgMTBweDsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIGNvbG9yOiAjMDAwOw0KICAgIGJhY2tncm91bmQ6ICNGOUY5Rjk7DQogICAgd2lkdGg6IDEwMCU7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGhlaWdodDogNDRweDsNCiAgfQ0KDQogIC5yZ3MtZm9ybSAuZWwtZGF0ZS1lZGl0b3IgPj4+IC5lbC1pbnB1dF9faW5uZXIgew0KICAgIGJvcmRlcjogMDsNCiAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgcGFkZGluZzogMCAxMHB4IDAgMzBweDsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIGNvbG9yOiAjMDAwOw0KICAgIGJhY2tncm91bmQ6ICNGOUY5Rjk7DQogICAgd2lkdGg6IDEwMCU7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIGhlaWdodDogNDRweDsNCiAgfQ0KDQogIC5yZ3MtZm9ybSA+Pj4gLmVsLXVwbG9hZC0tcGljdHVyZS1jYXJkIHsNCiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICBib3JkZXI6IDA7DQogICAgYm9yZGVyLXJhZGl1czogMDsNCiAgICB3aWR0aDogYXV0bzsNCiAgICBoZWlnaHQ6IGF1dG87DQogICAgbGluZS1oZWlnaHQ6IGluaXRpYWw7DQogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgfQ0KDQogIC5yZ3MtZm9ybSA+Pj4gLnVwbG9hZCAudXBsb2FkLWltZyB7DQogICAgYm9yZGVyOiAxcHggZGFzaGVkICM4ODg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICBjb2xvcjogIzg4ODsNCiAgICB3aWR0aDogMTAwcHg7DQogICAgZm9udC1zaXplOiAzMnB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAxMDBweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgaGVpZ2h0OiAxMDBweDsNCiAgfQ0KDQogIC5yZ3MtZm9ybSA+Pj4gLmVsLXVwbG9hZC1saXN0IC5lbC11cGxvYWQtbGlzdF9faXRlbSB7DQogICAgYm9yZGVyOiAxcHggZGFzaGVkICM4ODg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICBjb2xvcjogIzg4ODsNCiAgICB3aWR0aDogMTAwcHg7DQogICAgZm9udC1zaXplOiAzMnB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAxMDBweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgaGVpZ2h0OiAxMDBweDsNCiAgfQ0KDQogIC5yZ3MtZm9ybSA+Pj4gLmVsLXVwbG9hZCAuZWwtaWNvbi1wbHVzIHsNCiAgICBib3JkZXI6IDFweCBkYXNoZWQgIzg4ODsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgIGNvbG9yOiAjODg4Ow0KICAgIHdpZHRoOiAxMDBweDsNCiAgICBmb250LXNpemU6IDMycHg7DQogICAgbGluZS1oZWlnaHQ6IDEwMHB4Ow0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBoZWlnaHQ6IDEwMHB4Ow0KICB9DQp9DQo="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+OA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/pages/register","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container\" :style='{\r\n\t\t\tminHeight: \"100vh\",\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tjustifyContent: \"center\",\r\n\t\t\talignItems: \"center\",\r\n\t\t\tbackground: \"#f3f7fa\",\r\n\t\t\twidth: \"100%\"\r\n\t\t}'>\r\n      <el-form class='rgs-form' v-if=\"pageFlag=='register'\" :style='{\r\n\t\t\t\tpadding: \"20px\",\r\n\t\t\t\tboxShadow: \"0px 4px 10px 0px rgba(0,0,0,0.302)\",\r\n\t\t\t\tborderRadius: \"10px\",\r\n\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\twidth: \"400px\",\r\n\t\t\t\theight: \"auto\"\r\n\t\t\t}' ref=\"registerForm\" :model=\"registerForm\" :rules=\"rules\">\r\n        <!-- 标题改为黑色+黑体加粗 -->\r\n        <div v-if=\"true\" :style='{\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\tmargin: \"0 0 10px 0\",\r\n\t\t\t\t\tlineHeight: \"44px\",\r\n\t\t\t\t\tfontSize: \"20px\",\r\n\t\t\t\t\tcolor: \"#000\", /* 修改为黑色字体 */\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\tfontFamily: \"SimHei,黑体\",\r\n\t\t\t\t\tfontWeight: \"bold\"\r\n\t\t\t\t}'>智慧自习室预约系统 注册</div>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"xuehao\">\r\n          <el-input v-model=\"registerForm.xuehao\" placeholder=\"请输入学号\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"mima\">\r\n          <el-input v-model=\"registerForm.mima\" type=\"password\" placeholder=\"请输入密码\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\">\r\n          <el-input v-model=\"registerForm.mima2\" type=\"password\" placeholder=\"请再次输入密码\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"xingming\">\r\n          <el-input v-model=\"registerForm.xingming\" placeholder=\"请输入姓名\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"xingbie\">\r\n          <el-select v-model=\"registerForm.xingbie\" placeholder=\"请选择性别\">\r\n            <el-option\r\n                v-for=\"(item,index) in xueshengxingbieOptions\"\r\n                :key=\"index\"\r\n                :label=\"item\"\r\n                :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"touxiang\">\r\n          <file-upload\r\n              tip=\"点击上传头像\"\r\n              action=\"file/upload\"\r\n              :limit=\"1\"\r\n              :multiple=\"true\"\r\n              :fileUrls=\"registerForm.touxiang?registerForm.touxiang:''\"\r\n              @change=\"xueshengtouxiangUploadChange\"\r\n          ></file-upload>\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"shouji\">\r\n          <el-input v-model=\"registerForm.shouji\" placeholder=\"请输入手机\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item :style='{\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tpadding: \"0\",\r\n\t\t\t\t\tmargin: \"0 auto 15px\",\r\n\t\t\t\t\theight: \"auto\"\r\n\t\t\t\t}' v-if=\"tableName=='xuesheng'\" prop=\"banji\">\r\n          <el-input v-model=\"registerForm.banji\" placeholder=\"请输入班级\" />\r\n        </el-form-item>\r\n\r\n        <!-- 注册按钮（与登录按钮同色） -->\r\n        <el-button :style='{\r\n\t\t\t\t\tborder: \"0\",\r\n\t\t\t\t\tcursor: \"pointer\",\r\n\t\t\t\t\tpadding: \"0 10px\",\r\n\t\t\t\t\tmargin: \"20px auto 5px\",\r\n\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\tborderRadius: \"8px\",\r\n\t\t\t\t\tbackground: \"#78ABC3\",\r\n\t\t\t\t\tdisplay: \"block\",\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tfontSize: \"16px\",\r\n\t\t\t\t\theight: \"44px\"\r\n\t\t\t\t}' type=\"primary\" @click=\"submitForm('registerForm')\">注册</el-button>\r\n\r\n        <!-- 重置按钮（与登录按钮同色） -->\r\n        <el-button :style='{\r\n\t\t\t\t\tborder: \"0\",\r\n\t\t\t\t\tcursor: \"pointer\",\r\n\t\t\t\t\tpadding: \"0 10px\",\r\n\t\t\t\t\tmargin: \"0 auto 5px\",\r\n\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\tborderRadius: \"8px\",\r\n\t\t\t\t\tbackground: \"#78ABC3\",\r\n\t\t\t\t\tdisplay: \"block\",\r\n\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\tfontSize: \"16px\",\r\n\t\t\t\t\theight: \"44px\"\r\n\t\t\t\t}' @click=\"resetForm('registerForm')\">重置</el-button>\r\n\r\n        <router-link :style='{\r\n\t\t\t\t\tcursor: \"pointer\",\r\n\t\t\t\t\tpadding: \"0 10%\",\r\n\t\t\t\t\tcolor: \"rgba(159, 159, 159, 1)\",\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\tlineHeight: \"1\",\r\n\t\t\t\t\tfontSize: \"12px\",\r\n\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\tmarginTop: \"10px\"\r\n\t\t\t\t}' to=\"/login\">已有账户登录</router-link>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageFlag : '',\r\n      tableName: '',\r\n      registerForm: {\r\n        xingbie: '',\r\n      },\r\n      rules: {},\r\n      xueshengxingbieOptions: [],\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  created() {\r\n    this.pageFlag = this.$route.query.pageFlag;\r\n    this.tableName = this.$route.query.role;\r\n    if ('xuesheng' == this.tableName) {\r\n      this.rules.xuehao = [{ required: true, message: '请输入学号', trigger: 'blur' }];\r\n    }\r\n    if ('xuesheng' == this.tableName) {\r\n      this.rules.mima = [{ required: true, message: '请输入密码', trigger: 'blur' }];\r\n    }\r\n    if ('xuesheng' == this.tableName) {\r\n      this.rules.xingming = [{ required: true, message: '请输入姓名', trigger: 'blur' }];\r\n    }\r\n    this.xueshengxingbieOptions = \"男,女\".split(',');\r\n    if ('xuesheng' == this.tableName) {\r\n      this.rules.shouji = [{ required: true, validator: this.$validate.isMobile, trigger: 'blur' }];\r\n    }\r\n  },\r\n  methods: {\r\n    getUUID () {\r\n      return new Date().getTime();\r\n    },\r\n    xueshengtouxiangUploadChange(fileUrls) {\r\n      this.registerForm.touxiang = fileUrls.replace(new RegExp(this.$config.baseUrl,\"g\"),\"\");\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          const url = `${this.tableName}/register`;\r\n          if(`xuesheng` === this.tableName && this.registerForm.mima !== this.registerForm.mima2) {\r\n            this.$message.error(`两次密码输入不一致`);\r\n            return;\r\n          }\r\n          this.$http.post(url, this.registerForm).then(res => {\r\n            if (res.data.code === 0) {\r\n              this.$message({\r\n                message: '注册成功',\r\n                type: 'success',\r\n                duration: 1500,\r\n                onClose: () => {\r\n                  this.$router.push('/login');\r\n                }\r\n              });\r\n            } else {\r\n              this.$message.error(res.data.msg);\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.container {\r\n  .el-date-editor.el-input {\r\n    width: 100%;\r\n  }\r\n\r\n  .rgs-form .el-input >>> .el-input__inner {\r\n    border: 0;\r\n    border-radius: 8px;\r\n    padding: 0 10px;\r\n    outline: none;\r\n    color: #000;\r\n    background: #F9F9F9;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    height: 44px;\r\n  }\r\n\r\n  .rgs-form .el-select >>> .el-input__inner {\r\n    border: 0;\r\n    border-radius: 8px;\r\n    padding: 0 10px;\r\n    outline: none;\r\n    color: #000;\r\n    background: #F9F9F9;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    height: 44px;\r\n  }\r\n\r\n  .rgs-form .el-date-editor >>> .el-input__inner {\r\n    border: 0;\r\n    border-radius: 8px;\r\n    padding: 0 10px 0 30px;\r\n    outline: none;\r\n    color: #000;\r\n    background: #F9F9F9;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    height: 44px;\r\n  }\r\n\r\n  .rgs-form >>> .el-upload--picture-card {\r\n    background: transparent;\r\n    border: 0;\r\n    border-radius: 0;\r\n    width: auto;\r\n    height: auto;\r\n    line-height: initial;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .rgs-form >>> .upload .upload-img {\r\n    border: 1px dashed #888;\r\n    cursor: pointer;\r\n    border-radius: 8px;\r\n    color: #888;\r\n    width: 100px;\r\n    font-size: 32px;\r\n    line-height: 100px;\r\n    text-align: center;\r\n    height: 100px;\r\n  }\r\n\r\n  .rgs-form >>> .el-upload-list .el-upload-list__item {\r\n    border: 1px dashed #888;\r\n    cursor: pointer;\r\n    border-radius: 8px;\r\n    color: #888;\r\n    width: 100px;\r\n    font-size: 32px;\r\n    line-height: 100px;\r\n    text-align: center;\r\n    height: 100px;\r\n  }\r\n\r\n  .rgs-form >>> .el-upload .el-icon-plus {\r\n    border: 1px dashed #888;\r\n    cursor: pointer;\r\n    border-radius: 8px;\r\n    color: #888;\r\n    width: 100px;\r\n    font-size: 32px;\r\n    line-height: 100px;\r\n    text-align: center;\r\n    height: 100px;\r\n  }\r\n}\r\n</style>"]}]}