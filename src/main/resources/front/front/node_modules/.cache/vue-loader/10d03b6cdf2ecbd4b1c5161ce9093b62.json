{"remainingRequest":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\center\\center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\center\\center.vue","mtime":1765778923899},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnL2NvbmZpZycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIC8vIOWGhee9ruaJi+acuuWPt+mqjOivgeaWueazlQ0KICAgIGNvbnN0IHZhbGlkYXRlTW9iaWxlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgaWYgKCF2YWx1ZSkgew0KICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgbW9iaWxlUmVnID0gL14xWzMtOV1cZHs5fSQvOw0KICAgICAgICBpZiAoIW1vYmlsZVJlZy50ZXN0KHZhbHVlKSkgew0KICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+356CBIikpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGNhbGxiYWNrKCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9Ow0KDQogICAgcmV0dXJuIHsNCiAgICAgIHRpdGxlOiAn5Liq5Lq65Lit5b+DJywNCiAgICAgIGFjdGl2ZVRhYjogJ+S4quS6uuS/oeaBrycsDQogICAgICBiYXNlVXJsOiBjb25maWcuYmFzZVVybCwNCiAgICAgIHNlc3Npb25Gb3JtOiB7fSwNCiAgICAgIHB3ZEZvcm06IHsNCiAgICAgICAgb2xkUGFzc3dvcmQ6ICcnLA0KICAgICAgICBuZXdQYXNzd29yZDogJycsDQogICAgICAgIGNvbmZpcm1QYXNzd29yZDogJycNCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgICB4aW5nbWluZzogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlp5PlkI0nLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICAgIHNob3VqaTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZU1vYmlsZSwgdHJpZ2dlcjogJ2JsdXInIH1dDQogICAgICB9LA0KICAgICAgcHdkUnVsZXM6IHsNCiAgICAgICAgb2xkUGFzc3dvcmQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5Y6f5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgbmV3UGFzc3dvcmQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5paw5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgeyBtaW46IDYsIG1lc3NhZ2U6ICflr4bnoIHplb/luqbkuI3og73lsJHkuo425L2NJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+ehruiupOaWsOWvhueggScsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gew0KICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMucHdkRm9ybS5uZXdQYXNzd29yZCkgew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh5a+G56CB5LiN5LiA6Ie0JykpOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICB1cGxvYWRVcmw6IGNvbmZpZy5iYXNlVXJsICsgJ2ZpbGUvdXBsb2FkJywNCiAgICAgIGhlYWRlcnM6IHsgVG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUb2tlbicpIH0sDQogICAgICB1c2VyVGFibGVOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnVXNlclRhYmxlTmFtZScpLA0KICAgICAgLy8g5Y+W5raI6aKE57qm5L+h5oGv55u45YWz5pWw5o2uDQogICAgICBzZWFyY2hGb3JtOiB7IHl1eXVlZGFuaGFvOiAnJyB9LA0KICAgICAgY2FuY2VsT3JkZXJMaXN0OiBbXSwNCiAgICAgIGNhbmNlbE9yZGVyTG9hZGluZzogZmFsc2UsDQogICAgICBwYWdlSW5kZXg6IDEsDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgICB0b3RhbFBhZ2U6IDANCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRTZXNzaW9uKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyAxLiBnZXRTZXNzaW9u5pa55rOV5Lit5Yid5aeL5YyW5aS05YOPDQogICAgLy8gMSkg5L+u5pS5IGdldFNlc3Npb27vvJrlj5blkI7nq6/ov5Tlm57nmoTlpLTlg4/lrZfmrrXvvIzmj5Dlj5bmlofku7blkI3vvIjmnIDlkI7kuIDmrrXvvInvvIznlKggdGhpcy5iYXNlVXJsIOaLvOaOpSBnZXRBdmF0YXIg5o6l5Y+j77yM6YG/5YWN55u05o6l5oqK5bim6Lev5b6E55qE5YC85b2T5L2cIGZpbGVOYW1lIOmAoOaIkCA0MDQNCiAgICBnZXRTZXNzaW9uKCkgew0KICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy51c2VyVGFibGVOYW1lICsgJy9zZXNzaW9uJywgeyBlbXVsYXRlSlNPTjogdHJ1ZSB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy5zZXNzaW9uRm9ybSA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgLy8g5aaC5p6c5ZCO56uv6L+U5Zue55qE5piv55u45a+55paH5Lu26Lev5b6E77yI5aaCICJ1cGxvYWQveHh4LmpwZyIg5oiWICJ4eHguanBnIu+8ie+8jOWPluacgOWQjuS4gOauteS9nOS4uiBmaWxlTmFtZQ0KICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25Gb3JtLnRvdXhpYW5nKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAvLyDkvovlpoLlkI7nq6/lj6/og73lrZjnmoTmmK8gInVwbG9hZC94eHguanBnIu+8jOaIkeS7rOWPquS8oOacgOWQjuaWh+S7tuWQjee7mSBnZXRBdmF0YXINCiAgICAgICAgICAgICAgY29uc3QgcmF3ID0gdGhpcy5zZXNzaW9uRm9ybS50b3V4aWFuZy50b1N0cmluZygpOw0KICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHJhdy5zcGxpdCgnLycpLnBvcCgpOw0KICAgICAgICAgICAgICBpZiAoZmlsZU5hbWUpIHsNCiAgICAgICAgICAgICAgICAvLyDkvb/nlKjphY3nva7nmoQgYmFzZVVybO+8iOS4jeimgeehrOe8luegge+8ie+8jOW5tiBlbmNvZGVVUklDb21wb25lbnQg5paH5Lu25ZCNDQogICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uRm9ybS50b3V4aWFuZyA9IHRoaXMuYmFzZVVybCArICdmaWxlL2dldEF2YXRhcj9maWxlTmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVOYW1lKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25Gb3JtLnRvdXhpYW5nID0gJyc7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5aSE55CG5aS05YOP6Lev5b6E5aSx6LSl77yaJywgZSk7DQogICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkZvcm0udG91eGlhbmcgPSB0aGlzLmJhc2VVcmwgKyAnZmlsZS9nZXRBdmF0YXI/ZmlsZU5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnNlc3Npb25Gb3JtLnRvdXhpYW5nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Liq5Lq65L+h5oGv5aSx6LSlJyk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHN3aXRjaFRhYih0YWJOYW1lKSB7DQogICAgICB0aGlzLmFjdGl2ZVRhYiA9IHRhYk5hbWU7DQogICAgICB0aGlzLnRpdGxlID0gdGFiTmFtZSA9PT0gJ+S4quS6uuS/oeaBrycgPyAn5Liq5Lq65Lit5b+DJyA6IHRhYk5hbWU7DQogICAgICAvLyDliIfmjaLliLDlj5bmtojpooTnuqbkv6Hmga/ml7bliqDovb3mlbDmja4NCiAgICAgIGlmICh0YWJOYW1lID09PSAn5Y+W5raI6aKE57qm5L+h5oGvJykgew0KICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7DQogICAgICAgIHRoaXMuZ2V0Q2FuY2VsT3JkZXJMaXN0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBvblN1Ym1pdChmb3JtTmFtZSkgew0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICB0aGlzLiRodHRwLnBvc3QodGhpcy51c2VyVGFibGVOYW1lICsgJy91cGRhdGUnLCB0aGlzLnNlc3Npb25Gb3JtKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOaIkOWKnycpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YT8ubXNnIHx8ICfmm7TmlrDlpLHotKUnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnvZHnu5zor7fmsYLlpLHotKXvvIzor7fph43or5UnKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICB1cGRhdGVQYXNzd29yZCgpIHsNCiAgICAgIHRoaXMuJHJlZnNbJ3B3ZEZvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICghdGhpcy5zZXNzaW9uRm9ybS5taW1hKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmnKrojrflj5bliLDljp/lr4bnoIHkv6Hmga8nKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHRoaXMucHdkRm9ybS5vbGRQYXNzd29yZCAhPT0gdGhpcy5zZXNzaW9uRm9ybS5taW1hKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfljp/lr4bnoIHplJnor68nKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KHRoaXMudXNlclRhYmxlTmFtZSArICcvdXBkYXRlJywgew0KICAgICAgICAgICAgaWQ6IHRoaXMuc2Vzc2lvbkZvcm0uaWQsDQogICAgICAgICAgICBtaW1hOiB0aGlzLnB3ZEZvcm0ubmV3UGFzc3dvcmQNCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WvhueggeS/ruaUueaIkOWKnycpOw0KICAgICAgICAgICAgICB0aGlzLnB3ZEZvcm0gPSB7IG9sZFBhc3N3b3JkOiAnJywgbmV3UGFzc3dvcmQ6ICcnLCBjb25maXJtUGFzc3dvcmQ6ICcnIH07DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhPy5tc2cgfHwgJ+WvhueggeS/ruaUueWksei0pScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+e9kee7nOivt+axguWksei0pe+8jOivt+mHjeivlScpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOeCueWHu+WktOWDj+S7heaPkOekug0KICAgIGF2YXRhckNsaWNrVGlwKCkgew0KICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfor7fngrnlh7vlt6bkvqfjgIzkv67mlLnlpLTlg4/jgI3mjInpkq7vvIzlnKjlj7PkvqfpobXpnaLkuIrkvKDmlrDlpLTlg48nKTsNCiAgICB9LA0KICAgIC8vIOinpuWPkeaWh+S7tumAieaLqeahhg0KICAgIHRyaWdnZXJBdmF0YXJVcGxvYWQoKSB7DQogICAgICAvLyDmt7vliqDosIPor5Xml6Xlv5cNCiAgICAgIGNvbnNvbGUubG9nKCfop6blj5HkuIrkvKDvvIx1cGxvYWRlcuW8leeUqO+8micsIHRoaXMuJHJlZnMuYXZhdGFyVXBsb2FkZXIpOw0KICAgICAgaWYgKHRoaXMuJHJlZnMuYXZhdGFyVXBsb2FkZXIpIHsNCiAgICAgICAgY29uc3QgdXBsb2FkZXIgPSB0aGlzLiRyZWZzLmF2YXRhclVwbG9hZGVyOw0KICAgICAgICBjb25zdCBmaWxlSW5wdXQgPSB1cGxvYWRlci4kZWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT0iZmlsZSJdJyk7DQogICAgICAgIGNvbnNvbGUubG9nKCfmib7liLDmlofku7bovpPlhaXmoYbvvJonLCBmaWxlSW5wdXQpOw0KICAgICAgICBpZiAoZmlsZUlucHV0KSB7DQogICAgICAgICAgLy8g5riF56m65Y6G5Y+y5paH5Lu2DQogICAgICAgICAgZmlsZUlucHV0LnZhbHVlID0gJyc7DQogICAgICAgICAgLy8g57uR5a6aY2hhbmdl5LqL5Lu2DQogICAgICAgICAgZmlsZUlucHV0Lm9uY2hhbmdlID0gKGUpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpgInmi6nnmoTmlofku7bvvJonLCBmaWxlKTsNCiAgICAgICAgICAgIGlmIChmaWxlKSB7DQogICAgICAgICAgICAgIHRoaXMudXBsb2FkQXZhdGFyRmlsZShmaWxlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIOino+e7keS6i+S7tu+8jOmYsuatoumHjeWkjeinpuWPkQ0KICAgICAgICAgICAgZmlsZUlucHV0Lm9uY2hhbmdlID0gbnVsbDsNCiAgICAgICAgICB9Ow0KICAgICAgICAgIGZpbGVJbnB1dC5jbGljaygpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOe7hOS7tuWKoOi9veWksei0pScpOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDnu4Tku7bmnKrliJ3lp4vljJYnKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOaJi+WKqOS4iuS8oOWktOWDj+aWh+S7tg0KICAgIC8vIDIuIHVwbG9hZEF2YXRhckZpbGXmlrnms5XkuK3mi7zmjqXmlrDlpLTlg4/lnLDlnYANCiAgICAvLyAyKSDkv67mlLkgdXBsb2FkQXZhdGFyRmlsZe+8muS9v+eUqCB0aGlzLmJhc2VVcmzjgIHlpITnkIblkI7nq6/ov5Tlm57nmoQgZmlsZS9wYXRo77yM5bm25Zyo5pu05paw55So5oi35aS05YOP5pe25L2/55SoIHRoaXMuYmFzZVVybCArIHRoaXMudXNlclRhYmxlTmFtZSArICcvdXBkYXRlJw0KICAgIHVwbG9hZEF2YXRhckZpbGUoZmlsZSkgew0KICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpOw0KICAgICAgY29uc3QgdXBsb2FkVXJsID0gdGhpcy5iYXNlVXJsICsgJ2ZpbGUvdXBsb2FkJzsNCiAgICAgIHRoaXMuJGh0dHAucG9zdCh1cGxvYWRVcmwsIGZvcm1EYXRhLCB7DQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnLA0KICAgICAgICAgIFRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnVG9rZW4nKQ0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgLy8g5YW85a655LiN5ZCM5ZCO56uv6L+U5Zue5a2X5q6177yaZmlsZSAvIGRhdGEgLyB1cmwNCiAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHJlcy5kYXRhLmZpbGUgfHwgKHJlcy5kYXRhLmRhdGEgJiYgKHJlcy5kYXRhLmRhdGEuZmlsZSB8fCByZXMuZGF0YS5kYXRhKSkgfHwgcmVzLmRhdGEudXJsOw0KICAgICAgICAgIGlmICghZmlsZVBhdGgpIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WQjuerr+acqui/lOWbnuaWh+S7tui3r+W+hCcpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyDlj5bmnIDlkI7kuIDmrrXmlofku7blkI3nlKjkuo4gZ2V0QXZhdGFyDQogICAgICAgICAgY29uc3QgZmlsZW5hbWVPbmx5ID0gZmlsZVBhdGgudG9TdHJpbmcoKS5zcGxpdCgnLycpLnBvcCgpOw0KICAgICAgICAgIGNvbnN0IGZ1bGxBdmF0YXJVcmwgPSB0aGlzLmJhc2VVcmwgKyAnZmlsZS9nZXRBdmF0YXI/ZmlsZU5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZU9ubHkpOw0KICAgICAgICAgIHRoaXMuc2Vzc2lvbkZvcm0udG91eGlhbmcgPSBmdWxsQXZhdGFyVXJsOw0KDQogICAgICAgICAgLy8g5pu05paw55So5oi35aS05YOP5Yiw5pWw5o2u5bqT77yI5oqK5ZCO56uv5a2Y5YKo55qEIGZpbGVQYXRoIOWGmeWbnuWIsOeUqOaIt+ihqO+8iQ0KICAgICAgICAgIHRoaXMuJGh0dHAucG9zdCh0aGlzLmJhc2VVcmwgKyB0aGlzLnVzZXJUYWJsZU5hbWUgKyAnL3VwZGF0ZScsIHsNCiAgICAgICAgICAgIGlkOiB0aGlzLnNlc3Npb25Gb3JtLmlkLA0KICAgICAgICAgICAgdG91eGlhbmc6IGZpbGVQYXRoDQogICAgICAgICAgfSkudGhlbih1cGRhdGVSZXMgPT4gew0KICAgICAgICAgICAgaWYgKHVwZGF0ZVJlcy5kYXRhICYmIHVwZGF0ZVJlcy5kYXRhLmNvZGUgPT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflpLTlg4/kuIrkvKDmiJDlip8nKTsNCiAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hUYWIoJ+S4quS6uuS/oeaBrycpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih1cGRhdGVSZXMuZGF0YT8ubXNnIHx8ICflpLTlg4/mm7TmlrDlpLHotKXvvIzor7fph43or5UnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcign5aS05YOP5pu05paw6K+35rGC5aSx6LSl77yaJywgZXJyKTsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WktOWDj+abtOaWsOivt+axguWksei0pScpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGE/Lm1zZyB8fCAn5aS05YOP5LiK5Lyg5aSx6LSlJyk7DQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aWh+S7tuS4iuS8oOWksei0pe+8micsIGVycik7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+e9kee7nOW8guW4uO+8jOS4iuS8oOWksei0pScpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyDlj5bmtojpooTnuqbkv6Hmga/nm7jlhbPmlrnms5UNCiAgICBzZWFyY2hDYW5jZWxPcmRlcigpIHsNCiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsNCiAgICAgIHRoaXMuZ2V0Q2FuY2VsT3JkZXJMaXN0KCk7DQogICAgfSwNCiAgICBnZXRDYW5jZWxPcmRlckxpc3QoKSB7DQogICAgICBpZiAoIXRoaXMuc2Vzc2lvbkZvcm0ueHVlaGFvKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pyq6I635Y+W5Yiw5a2m5Y+35L+h5oGv77yM5peg5rOV5p+l6K+i5Y+W5raI6aKE57qm6K6w5b2VJyk7DQogICAgICAgIHRoaXMuY2FuY2VsT3JkZXJMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgdGhpcy5jYW5jZWxPcmRlckxvYWRpbmcgPSB0cnVlOw0KICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICBwYWdlOiB0aGlzLnBhZ2VJbmRleCwNCiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsDQogICAgICAgIHNvcnQ6ICdpZCcsDQogICAgICAgIG9yZGVyOiAnZGVzYycsDQogICAgICAgIHh1ZWhhbzogdGhpcy5zZXNzaW9uRm9ybS54dWVoYW8NCiAgICAgIH07DQogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLnl1eXVlZGFuaGFvKSB7DQogICAgICAgIHBhcmFtcy55dXl1ZWRhbmhhbyA9IGAlJHt0aGlzLnNlYXJjaEZvcm0ueXV5dWVkYW5oYW99JWA7DQogICAgICB9DQogICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgdXJsOiAncXV4aWFveXV5dWUvcGFnZScsDQogICAgICAgIG1ldGhvZDogJ2dldCcsDQogICAgICAgIHBhcmFtcw0KICAgICAgfSkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgdGhpcy5jYW5jZWxPcmRlckxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy5jYW5jZWxPcmRlckxpc3QgPSBkYXRhLmRhdGEubGlzdCB8fCBbXTsNCiAgICAgICAgICB0aGlzLnRvdGFsUGFnZSA9IGRhdGEuZGF0YS50b3RhbCB8fCAwOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuY2FuY2VsT3JkZXJMaXN0ID0gW107DQogICAgICAgICAgdGhpcy50b3RhbFBhZ2UgPSAwOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyhkYXRhPy5tc2cgfHwgJ+aaguaXoOWPlua2iOmihOe6puiusOW9lScpOw0KICAgICAgICB9DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuY2FuY2VsT3JkZXJMaXN0ID0gW107DQogICAgICAgIHRoaXMudG90YWxQYWdlID0gMDsNCiAgICAgICAgdGhpcy5jYW5jZWxPcmRlckxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Y+W5raI6aKE57qm6K6w5b2V5aSx6LSlJyk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHNpemVDaGFuZ2VIYW5kbGUodmFsKSB7DQogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOw0KICAgICAgdGhpcy5nZXRDYW5jZWxPcmRlckxpc3QoKTsNCiAgICB9LA0KICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7DQogICAgICB0aGlzLnBhZ2VJbmRleCA9IHZhbDsNCiAgICAgIHRoaXMuZ2V0Q2FuY2VsT3JkZXJMaXN0KCk7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["center.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2QA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"center.vue","sourceRoot":"src/pages/center","sourcesContent":["<template>\r\n  <div :style='{\"width\":\"80%\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"#fff\",\"boxShadow\":\"0px 4px 10px 0px rgba(0,0,0,0.302)\"}'>\r\n    <!-- 顶部标题 -->\r\n    <div class=\"title\" :style='{\"margin\":\"0\",\"color\":\"#333\",\"textAlign\":\"center\",\"background\":\"rgba(0,0,0,0.102)\",\"fontSize\":\"20px\",\"lineHeight\":\"54px\",\"fontWeight\":\"600\"}'>{{ title }}</div>\r\n\r\n    <!-- 主体：左侧栏 + 右侧内容 -->\r\n    <div :style='{\"display\":\"flex\",\"padding\":\"20px\"}'>\r\n      <!-- 左侧栏（头像+学号+按钮） -->\r\n      <div :style='{\"width\":\"180px\",\"textAlign\":\"center\",\"background\":\"#f5f7fa\",\"borderRadius\":\"8px\",\"padding\":\"20px\",\"marginRight\":\"20px\"}'>\r\n        <!-- 头像（仅展示，点击无上传操作） -->\r\n        <div :style='{\"marginBottom\":\"15px\",\"cursor\":\"pointer\"}' @click=\"avatarClickTip\">\r\n          <img\r\n              v-if=\"sessionForm.touxiang\"\r\n              :src=\"sessionForm.touxiang\"\r\n              :style='{\"width\":\"100px\",\"height\":\"100px\",\"borderRadius\":\"50%\",\"border\":\"2px solid #fff\",\"boxShadow\":\"0 2px 8px rgba(0,0,0,0.1)\"}'\r\n          />\r\n          <!-- 无头像时显示文字占位符（修复标签语法错误） -->\r\n          <div\r\n              v-else\r\n              :style='{\"width\":\"100px\",\"height\":\"100px\",\"borderRadius\":\"50%\",\"background\":\"#e6f0ff\",\"color\":\"#409eff\",\"fontSize\":\"36px\",\"lineHeight\":\"100px\",\"display\":\"inline-block\",\"textAlign\":\"center\"}'\r\n          >\r\n            <<i class=\"el-icon-user\"></</i>\r\n          </div>\r\n          <!-- 隐藏的上传组件：手动控制上传 -->\r\n          <el-upload\r\n              ref=\"avatarUploader\"\r\n              class=\"avatar-uploader\"\r\n              :action=\"uploadUrl\"\r\n              :headers=\"headers\"\r\n              :show-file-list=\"false\"\r\n              :auto-upload=\"false\"\r\n              style=\"display: none;\"\r\n          >\r\n            <input type=\"file\" accept=\"image/*\">\r\n          </el-upload>\r\n        </div>\r\n        <!-- 学号 -->\r\n        <div :style='{\"fontSize\":\"14px\",\"color\":\"#333\",\"padding\":\"8px 0\",\"background\":\"#fff\",\"borderRadius\":\"4px\",\"marginBottom\":\"20px\"}'>\r\n          学号：{{ sessionForm.xuehao || '未填写' }}\r\n        </div>\r\n        <!-- 按钮组 -->\r\n        <div :style='{\"display\":\"flex\",\"flexDirection\":\"column\",\"gap\":\"10px\"}'>\r\n          <el-button\r\n              type=\"primary\"\r\n              plain\r\n              @click=\"switchTab('个人信息')\"\r\n              :style='{\r\n              width:\"100%\",background:activeTab===\"个人信息\"?\"#409EFF\":\"#fff\",\r\n              color:activeTab===\"个人信息\"?\"#fff\":\"#409EFF\",\r\n              borderColor:activeTab===\"个人信息\"?\"#409EFF\":\"#dcdfe6\",\r\n              borderRadius:\"4px\"\r\n            }'\r\n          >\r\n            个人信息\r\n          </el-button>\r\n          <el-button\r\n              type=\"primary\"\r\n              plain\r\n              @click=\"switchTab('修改头像')\"\r\n              :style='{\r\n              width:\"100%\",background:activeTab===\"修改头像\"?\"#409EFF\":\"#fff\",\r\n              color:activeTab===\"修改头像\"?\"#fff\":\"#409EFF\",\r\n              borderColor:activeTab===\"修改头像\"?\"#409EFF\":\"#dcdfe6\",\r\n              borderRadius:\"4px\"\r\n            }'\r\n          >\r\n            修改头像\r\n          </el-button>\r\n          <el-button\r\n              type=\"primary\"\r\n              plain\r\n              @click=\"switchTab('修改密码')\"\r\n              :style='{\r\n              width:\"100%\",background:activeTab===\"修改密码\"?\"#409EFF\":\"#fff\",\r\n              color:activeTab===\"修改密码\"?\"#fff\":\"#409EFF\",\r\n              borderColor:activeTab===\"修改密码\"?\"#409EFF\":\"#dcdfe6\",\r\n              borderRadius:\"4px\"\r\n            }'\r\n          >\r\n            修改密码\r\n          </el-button>\r\n          <!-- 取消预约信息按钮 -->\r\n          <el-button\r\n              type=\"primary\"\r\n              plain\r\n              @click=\"switchTab('取消预约信息')\"\r\n              :style='{\r\n              width:\"100%\",background:activeTab===\"取消预约信息\"?\"#409EFF\":\"#fff\",\r\n              color:activeTab===\"取消预约信息\"?\"#fff\":\"#409EFF\",\r\n              borderColor:activeTab===\"取消预约信息\"?\"#409EFF\":\"#dcdfe6\",\r\n              borderRadius:\"4px\"\r\n            }'\r\n          >\r\n            取消预约信息\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 右侧内容区：统一布局容器 -->\r\n      <div :style='{\"flex\":\"1\",\"background\":\"#f5f7fa\",\"borderRadius\":\"8px\",\"padding\":\"20px\"}'>\r\n        <!-- 个人信息表单 -->\r\n        <div v-if=\"activeTab === '个人信息'\" :style='{\"background\":\"#fff\",\"borderRadius\":\"8px\",\"padding\":\"20px\",\"boxShadow\":\"0 2px 8px rgba(0,0,0,0.05)\"}'>\r\n          <el-form ref=\"sessionForm\" :model=\"sessionForm\" :rules=\"rules\" label-width=\"80px\" :style='{\"width\":\"100%\",\"maxWidth\":\"500px\",\"margin\":\"0 auto\"}'>\r\n            <el-form-item label=\"姓名\" prop=\"xingming\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-input v-model=\"sessionForm.xingming\" placeholder=\"姓名\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"性别\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-select v-model=\"sessionForm.xingbie\" placeholder=\"请选择性别\" style=\"width: 300px;\">\r\n                <el-option label=\"男\" value=\"男\"></el-option>\r\n                <el-option label=\"女\" value=\"女\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"手机\" prop=\"shouji\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-input v-model=\"sessionForm.shouji\" placeholder=\"手机\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"班级\" prop=\"banji\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-input v-model=\"sessionForm.banji\" placeholder=\"班级\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button\r\n                  type=\"primary\"\r\n                  @click=\"onSubmit('sessionForm')\"\r\n                  :style='{\"background\":\"#409EFF\",\"color\":\"#fff\",\"border\":\"none\",\"padding\":\"0 20px\",\"height\":\"40px\"}'\r\n              >\r\n                更新信息\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n\r\n        <!-- 修改头像区域：显示上传按钮 -->\r\n        <div v-if=\"activeTab === '修改头像'\" :style='{\"background\":\"#fff\",\"borderRadius\":\"8px\",\"padding\":\"50px 20px\",\"textAlign\":\"center\",\"boxShadow\":\"0 2px 8px rgba(0,0,0,0.05)\"}'>\r\n          <p :style='{\"fontSize\":\"16px\",\"color\":\"#666\",\"marginBottom\":\"30px\"}'>点击下方按钮选择新头像上传</p>\r\n          <el-button\r\n              type=\"primary\"\r\n              @click=\"triggerAvatarUpload\"\r\n              :style='{\r\n                background:\"#409EFF\",\r\n                color:\"#fff\",\r\n                border:\"none\",\r\n                padding:\"0 30px\",\r\n                height:\"48px\",\r\n                fontSize:\"16px\",\r\n                borderRadius:\"8px\"\r\n              }'\r\n          >\r\n            上传头像\r\n          </el-button>\r\n        </div>\r\n\r\n        <!-- 修改密码表单 -->\r\n        <div v-if=\"activeTab === '修改密码'\" :style='{\"background\":\"#fff\",\"borderRadius\":\"8px\",\"padding\":\"20px\",\"boxShadow\":\"0 2px 8px rgba(0,0,0,0.05)\"}'>\r\n          <el-form ref=\"pwdForm\" :model=\"pwdForm\" :rules=\"pwdRules\" label-width=\"80px\" :style='{\"width\":\"100%\",\"maxWidth\":\"500px\",\"margin\":\"0 auto\"}'>\r\n            <el-form-item label=\"原密码\" prop=\"oldPassword\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-input v-model=\"pwdForm.oldPassword\" type=\"password\" placeholder=\"请输入原密码\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"新密码\" prop=\"newPassword\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-input v-model=\"pwdForm.newPassword\" type=\"password\" placeholder=\"请输入新密码\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"确认密码\" prop=\"confirmPassword\" :style='{\"marginBottom\":\"20px\"}'>\r\n              <el-input v-model=\"pwdForm.confirmPassword\" type=\"password\" placeholder=\"请确认新密码\" style=\"width: 300px;\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button\r\n                  type=\"primary\"\r\n                  @click=\"updatePassword\"\r\n                  :style='{\"background\":\"#409EFF\",\"color\":\"#fff\",\"border\":\"none\",\"padding\":\"0 20px\",\"height\":\"40px\"}'\r\n              >\r\n                确认修改\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n\r\n        <!-- 取消预约信息标签页：重新布局 -->\r\n        <div v-if=\"activeTab === '取消预约信息'\" :style='{\"width\":\"100%\"}'>\r\n          <!-- 标题 -->\r\n          <div :style='{\"fontSize\":\"18px\",\"color\":\"#333\",\"fontWeight\":\"500\",\"marginBottom\":\"20px\",\"paddingBottom\":\"10px\",\"borderBottom\":\"1px solid #eee\"}'>\r\n            取消预约信息\r\n          </div>\r\n\r\n          <!-- 预约单号查询区域：调整布局 -->\r\n          <div :style='{\"background\":\"#fff\",\"borderRadius\":\"8px\",\"padding\":\"20px\",\"boxShadow\":\"0 2px 8px rgba(0,0,0,0.05)\",\"marginBottom\":\"20px\"}'>\r\n            <el-form\r\n                :style=\"{ width: '100%', display: 'flex', alignItems: 'center', gap: '15px' }\"\r\n                :inline=\"true\"\r\n                :model=\"searchForm\"\r\n            >\r\n              <div :style=\"{ display: 'flex', flexDirection: 'column', flex: 1 }\">\r\n                <label\r\n                    :style=\"{\r\n                      color: '#333',\r\n                      fontSize: '14px',\r\n                      fontWeight: '500',\r\n                      marginBottom: '4px'\r\n                    }\"\r\n                >预约单号</label>\r\n                <el-input\r\n                    v-model=\"searchForm.yuyuedanhao\"\r\n                    placeholder=\"输入预约单号查询\"\r\n                    clearable\r\n                    :style=\"{ width: '100%', borderColor: '#78abc3' }\"\r\n                ></el-input>\r\n              </div>\r\n              <el-button\r\n                  :style=\"{\r\n                    border: '1px solid #97C9D6',\r\n                    cursor: 'pointer',\r\n                    padding: '0 24px',\r\n                    boxShadow: '0px 2px 2px 0px #78ABC3',\r\n                    outline: 'none',\r\n                    color: '#78ABC3',\r\n                    borderRadius: '30px',\r\n                    background: '#fff',\r\n                    fontSize: '14px',\r\n                    height: '40px',\r\n                    alignSelf: 'flex-end'\r\n                  }\"\r\n                  type=\"success\"\r\n                  @click=\"searchCancelOrder\"\r\n              >查询</el-button>\r\n            </el-form>\r\n          </div>\r\n\r\n          <!-- 取消预约列表：修复样式 + 替换预约时间为开始/结束时间 -->\r\n          <div :style='{\"background\":\"#fff\",\"borderRadius\":\"8px\",\"boxShadow\":\"0 2px 8px rgba(0,0,0,0.05)\",\"overflow\":\"hidden\"}'>\r\n            <el-table\r\n                class=\"custom-table\"\r\n                :style=\"{ width: '100%' }\"\r\n                :data=\"cancelOrderList\"\r\n                v-loading=\"cancelOrderLoading\"\r\n                border\r\n                :header-cell-style=\"{ background: '#f8f9fa', color: '#495057', fontWeight: '600' }\"\r\n                :row-style=\"{ height: '45px' }\"\r\n            >\r\n              <el-table-column type=\"index\" label=\"索引\" width=\"80\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"yuyuedanhao\" label=\"预约单号\" min-width=\"150\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"mingcheng\" label=\"名称\" min-width=\"120\" align=\"center\"></el-table-column>\r\n              <!-- 修改为驼峰命名（与后端返回的字段名一致） -->\r\n              <el-table-column prop=\"yuyueStart\" label=\"预约开始时间\" min-width=\"180\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"yuyueEnd\" label=\"预约结束时间\" min-width=\"180\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"quxiaoshijian\" label=\"取消时间\" min-width=\"180\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"xuehao\" label=\"学号\" min-width=\"120\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"xingming\" label=\"姓名\" min-width=\"120\" align=\"center\"></el-table-column>\r\n              <el-table-column prop=\"shouji\" label=\"手机\" min-width=\"150\" align=\"center\"></el-table-column>\r\n            </el-table>\r\n          </div>\r\n\r\n          <!-- 分页：调整位置 -->\r\n          <el-pagination\r\n              @size-change=\"sizeChangeHandle\"\r\n              @current-change=\"currentChangeHandle\"\r\n              :current-page=\"pageIndex\"\r\n              background\r\n              :page-sizes=\"[10, 20, 30, 50]\"\r\n              :page-size=\"pageSize\"\r\n              :layout=\"'total, prev, pager, next, sizes, jumper'\"\r\n              :total=\"totalPage\"\r\n              :style=\"{ width: '100%', margin: '20px 0 0', textAlign: 'right' }\"\r\n          ></el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport config from '@/config/config'\r\n\r\nexport default {\r\n  data() {\r\n    // 内置手机号验证方法\r\n    const validateMobile = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback();\r\n      } else {\r\n        const mobileReg = /^1[3-9]\\d{9}$/;\r\n        if (!mobileReg.test(value)) {\r\n          callback(new Error(\"请输入正确的手机号码\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n\r\n    return {\r\n      title: '个人中心',\r\n      activeTab: '个人信息',\r\n      baseUrl: config.baseUrl,\r\n      sessionForm: {},\r\n      pwdForm: {\r\n        oldPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      },\r\n      rules: {\r\n        xingming: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\r\n        shouji: [{ validator: validateMobile, trigger: 'blur' }]\r\n      },\r\n      pwdRules: {\r\n        oldPassword: [\r\n          { required: true, message: '请输入原密码', trigger: 'blur' }\r\n        ],\r\n        newPassword: [\r\n          { required: true, message: '请输入新密码', trigger: 'blur' },\r\n          { min: 6, message: '密码长度不能少于6位', trigger: 'blur' }\r\n        ],\r\n        confirmPassword: [\r\n          { required: true, message: '请确认新密码', trigger: 'blur' },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (value !== this.pwdForm.newPassword) {\r\n                callback(new Error('两次密码不一致'));\r\n              } else {\r\n                callback();\r\n              }\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      uploadUrl: config.baseUrl + 'file/upload',\r\n      headers: { Token: localStorage.getItem('Token') },\r\n      userTableName: localStorage.getItem('UserTableName'),\r\n      // 取消预约信息相关数据\r\n      searchForm: { yuyuedanhao: '' },\r\n      cancelOrderList: [],\r\n      cancelOrderLoading: false,\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      totalPage: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.getSession();\r\n  },\r\n  methods: {\r\n    // 1. getSession方法中初始化头像\r\n    // 1) 修改 getSession：取后端返回的头像字段，提取文件名（最后一段），用 this.baseUrl 拼接 getAvatar 接口，避免直接把带路径的值当作 fileName 造成 404\r\n    getSession() {\r\n      this.$http.get(this.userTableName + '/session', { emulateJSON: true }).then(res => {\r\n        if (res.data && res.data.code === 0) {\r\n          this.sessionForm = res.data.data;\r\n          // 如果后端返回的是相对文件路径（如 \"upload/xxx.jpg\" 或 \"xxx.jpg\"），取最后一段作为 fileName\r\n          if (this.sessionForm.touxiang) {\r\n            try {\r\n              // 例如后端可能存的是 \"upload/xxx.jpg\"，我们只传最后文件名给 getAvatar\r\n              const raw = this.sessionForm.touxiang.toString();\r\n              const fileName = raw.split('/').pop();\r\n              if (fileName) {\r\n                // 使用配置的 baseUrl（不要硬编码），并 encodeURIComponent 文件名\r\n                this.sessionForm.touxiang = this.baseUrl + 'file/getAvatar?fileName=' + encodeURIComponent(fileName);\r\n              } else {\r\n                this.sessionForm.touxiang = '';\r\n              }\r\n            } catch (e) {\r\n              console.error('处理头像路径失败：', e);\r\n              this.sessionForm.touxiang = this.baseUrl + 'file/getAvatar?fileName=' + encodeURIComponent(this.sessionForm.touxiang);\r\n            }\r\n          }\r\n        }\r\n      }).catch(() => {\r\n        this.$message.error('获取个人信息失败');\r\n      });\r\n    },\r\n    switchTab(tabName) {\r\n      this.activeTab = tabName;\r\n      this.title = tabName === '个人信息' ? '个人中心' : tabName;\r\n      // 切换到取消预约信息时加载数据\r\n      if (tabName === '取消预约信息') {\r\n        this.pageIndex = 1;\r\n        this.getCancelOrderList();\r\n      }\r\n    },\r\n    onSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.$http.post(this.userTableName + '/update', this.sessionForm).then(res => {\r\n            if (res.data && res.data.code === 0) {\r\n              this.$message.success('更新成功');\r\n            } else {\r\n              this.$message.error(res.data?.msg || '更新失败');\r\n            }\r\n          }).catch(() => {\r\n            this.$message.error('网络请求失败，请重试');\r\n          });\r\n        }\r\n      });\r\n    },\r\n    updatePassword() {\r\n      this.$refs['pwdForm'].validate(valid => {\r\n        if (valid) {\r\n          if (!this.sessionForm.mima) {\r\n            this.$message.error('未获取到原密码信息');\r\n            return;\r\n          }\r\n          if (this.pwdForm.oldPassword !== this.sessionForm.mima) {\r\n            this.$message.error('原密码错误');\r\n            return;\r\n          }\r\n          this.$http.post(this.userTableName + '/update', {\r\n            id: this.sessionForm.id,\r\n            mima: this.pwdForm.newPassword\r\n          }).then(res => {\r\n            if (res.data && res.data.code === 0) {\r\n              this.$message.success('密码修改成功');\r\n              this.pwdForm = { oldPassword: '', newPassword: '', confirmPassword: '' };\r\n            } else {\r\n              this.$message.error(res.data?.msg || '密码修改失败');\r\n            }\r\n          }).catch(() => {\r\n            this.$message.error('网络请求失败，请重试');\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 点击头像仅提示\r\n    avatarClickTip() {\r\n      this.$message.info('请点击左侧「修改头像」按钮，在右侧页面上传新头像');\r\n    },\r\n    // 触发文件选择框\r\n    triggerAvatarUpload() {\r\n      // 添加调试日志\r\n      console.log('触发上传，uploader引用：', this.$refs.avatarUploader);\r\n      if (this.$refs.avatarUploader) {\r\n        const uploader = this.$refs.avatarUploader;\r\n        const fileInput = uploader.$el.querySelector('input[type=\"file\"]');\r\n        console.log('找到文件输入框：', fileInput);\r\n        if (fileInput) {\r\n          // 清空历史文件\r\n          fileInput.value = '';\r\n          // 绑定change事件\r\n          fileInput.onchange = (e) => {\r\n            const file = e.target.files[0];\r\n            console.log('选择的文件：', file);\r\n            if (file) {\r\n              this.uploadAvatarFile(file);\r\n            }\r\n            // 解绑事件，防止重复触发\r\n            fileInput.onchange = null;\r\n          };\r\n          fileInput.click();\r\n        } else {\r\n          this.$message.error('上传组件加载失败');\r\n        }\r\n      } else {\r\n        this.$message.error('上传组件未初始化');\r\n      }\r\n    },\r\n    // 手动上传头像文件\r\n    // 2. uploadAvatarFile方法中拼接新头像地址\r\n    // 2) 修改 uploadAvatarFile：使用 this.baseUrl、处理后端返回的 file/path，并在更新用户头像时使用 this.baseUrl + this.userTableName + '/update'\r\n    uploadAvatarFile(file) {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      const uploadUrl = this.baseUrl + 'file/upload';\r\n      this.$http.post(uploadUrl, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Token: localStorage.getItem('Token')\r\n        }\r\n      }).then(res => {\r\n        if (res.data && res.data.code === 0) {\r\n          // 兼容不同后端返回字段：file / data / url\r\n          const filePath = res.data.file || (res.data.data && (res.data.data.file || res.data.data)) || res.data.url;\r\n          if (!filePath) {\r\n            this.$message.error('后端未返回文件路径');\r\n            return;\r\n          }\r\n          // 取最后一段文件名用于 getAvatar\r\n          const filenameOnly = filePath.toString().split('/').pop();\r\n          const fullAvatarUrl = this.baseUrl + 'file/getAvatar?fileName=' + encodeURIComponent(filenameOnly);\r\n          this.sessionForm.touxiang = fullAvatarUrl;\r\n\r\n          // 更新用户头像到数据库（把后端存储的 filePath 写回到用户表）\r\n          this.$http.post(this.baseUrl + this.userTableName + '/update', {\r\n            id: this.sessionForm.id,\r\n            touxiang: filePath\r\n          }).then(updateRes => {\r\n            if (updateRes.data && updateRes.data.code === 0) {\r\n              this.$message.success('头像上传成功');\r\n              this.switchTab('个人信息');\r\n            } else {\r\n              this.$message.error(updateRes.data?.msg || '头像更新失败，请重试');\r\n            }\r\n          }).catch(err => {\r\n            console.error('头像更新请求失败：', err);\r\n            this.$message.error('头像更新请求失败');\r\n          });\r\n        } else {\r\n          this.$message.error(res.data?.msg || '头像上传失败');\r\n        }\r\n      }).catch(err => {\r\n        console.error('文件上传失败：', err);\r\n        this.$message.error('网络异常，上传失败');\r\n      });\r\n    },\r\n    // 取消预约信息相关方法\r\n    searchCancelOrder() {\r\n      this.pageIndex = 1;\r\n      this.getCancelOrderList();\r\n    },\r\n    getCancelOrderList() {\r\n      if (!this.sessionForm.xuehao) {\r\n        this.$message.warning('未获取到学号信息，无法查询取消预约记录');\r\n        this.cancelOrderLoading = false;\r\n        return;\r\n      }\r\n\r\n      this.cancelOrderLoading = true;\r\n      const params = {\r\n        page: this.pageIndex,\r\n        limit: this.pageSize,\r\n        sort: 'id',\r\n        order: 'desc',\r\n        xuehao: this.sessionForm.xuehao\r\n      };\r\n      if (this.searchForm.yuyuedanhao) {\r\n        params.yuyuedanhao = `%${this.searchForm.yuyuedanhao}%`;\r\n      }\r\n      this.$http({\r\n        url: 'quxiaoyuyue/page',\r\n        method: 'get',\r\n        params\r\n      }).then(({ data }) => {\r\n        this.cancelOrderLoading = false;\r\n        if (data && data.code === 0) {\r\n          this.cancelOrderList = data.data.list || [];\r\n          this.totalPage = data.data.total || 0;\r\n        } else {\r\n          this.cancelOrderList = [];\r\n          this.totalPage = 0;\r\n          this.$message.warning(data?.msg || '暂无取消预约记录');\r\n        }\r\n      }).catch(() => {\r\n        this.cancelOrderList = [];\r\n        this.totalPage = 0;\r\n        this.cancelOrderLoading = false;\r\n        this.$message.error('获取取消预约记录失败');\r\n      });\r\n    },\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.getCancelOrderList();\r\n    },\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.getCancelOrderList();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 全局样式调整 */\r\n.el-form-item >>> .el-form-item__label {\r\n  color: #333;\r\n  font-weight: 500;\r\n  text-align: right;\r\n  line-height: 40px;\r\n}\r\n.el-input >>> .el-input__inner {\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  height: 40px;\r\n  padding: 0 12px;\r\n}\r\n.el-select >>> .el-input__inner {\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  height: 40px;\r\n  padding: 0 12px;\r\n}\r\n.el-icon-user {\r\n  font-size: 36px !important;\r\n  line-height: 100px !important;\r\n}\r\n.avatar-wrap:hover {\r\n  opacity: 0.9;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n/* 取消预约列表样式优化 */\r\n.custom-table {\r\n  .el-table__body-wrapper tr:hover td {\r\n    background: rgba(147, 199, 179, 0.1);\r\n  }\r\n}\r\n</style>"]}]}