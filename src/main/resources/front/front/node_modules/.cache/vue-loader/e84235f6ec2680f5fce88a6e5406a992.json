{"remainingRequest":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\yuyuexinxi\\quxiaoyuyue.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\yuyuexinxi\\quxiaoyuyue.vue","mtime":1765296082432},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDmlbDlrZfvvIzpgq7ku7bvvIzmiYvmnLrvvIx1cmzvvIzouqvku73or4HmoKHpqowNCmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAiQC91dGlscy92YWxpZGF0ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgbGV0IHNlbGYgPSB0aGlzOw0KICAgIHZhciB2YWxpZGF0ZU1vYmlsZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICghdmFsdWUpIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0gZWxzZSBpZiAoIWlzTW9iaWxlKHZhbHVlKSkgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+eggSIpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICByZXR1cm4gew0KICAgICAgYmFzZVVybDogJycsDQogICAgICBydWxlRm9ybTogew0KICAgICAgICB5dXl1ZWRhbmhhbzogIiIsDQogICAgICAgIG1pbmdjaGVuZzogIiIsDQogICAgICAgIHR1cGlhbjogIiIsDQogICAgICAgIHp1b3dlaTogIiIsDQogICAgICAgIHl1eXVlc2hpamlhbjogIiIsDQogICAgICAgIHF1eGlhb3NoaWppYW46ICIiLA0KICAgICAgICBxdXhpYW95dWFueWluOiAiIiwNCiAgICAgICAgeHVlaGFvOiAiIiwNCiAgICAgICAgeGluZ21pbmc6ICIiLA0KICAgICAgICBzaG91amk6ICIiLA0KICAgICAgICB5dXl1ZUlkOiAiIiwgLy8g5YWz6IGU6aKE57qm5Y2VSUQNCiAgICAgICAgeml4aXNoaWlkOiAiIiAvLyDmlrDlop7vvJroh6rkuaDlrqRJRO+8jOino+WGs+mdnuazleihqOWQjemXrumimA0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHF1eGlhb3l1YW55aW46IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5Y+W5raI5Y6f5ZugJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgeyBtaW46IDUsIG1heDogMjAwLCBtZXNzYWdlOiAn5Y+W5raI5Y6f5Zug6ZW/5bqm5ZyoNS0yMDDlrZfkuYvpl7QnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICBzaG91amk6IFt7IHZhbGlkYXRvcjogdmFsaWRhdGVNb2JpbGUsIHRyaWdnZXI6ICJibHVyIiB9XQ0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5iYXNlVXJsID0gdGhpcy4kY29uZmlnLmJhc2VVcmw7DQogICAgLy8g5Yid5aeL5YyW5b2T5YmN5pe26Ze0DQogICAgdGhpcy5ydWxlRm9ybS5xdXhpYW9zaGlqaWFuID0gdGhpcy5nZXRDdXJEYXRlVGltZSgpOw0KICAgIC8vIOaOpeaUtmxpc3QudnVl5Lyg6YCS55qE6aKE57qm5Y2V5pWw5o2uDQogICAgdGhpcy5pbml0T3JkZXJEYXRhKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDojrflj5blvZPliY3ml7bpl7TvvIh5eXl5LU1NLWRkIEhIOm1tOnNz77yJDQogICAgZ2V0Q3VyRGF0ZVRpbWUoKSB7DQogICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTsNCiAgICAgIGNvbnN0IHkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICBjb25zdCBtID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsNCiAgICAgIGNvbnN0IGQgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7DQogICAgICBjb25zdCBoID0gZGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsNCiAgICAgIGNvbnN0IG1pbiA9IGRhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsNCiAgICAgIGNvbnN0IHMgPSBkYXRlLmdldFNlY29uZHMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7DQogICAgICByZXR1cm4gYCR7eX0tJHttfS0ke2R9ICR7aH06JHttaW59OiR7c31gOw0KICAgIH0sDQoNCiAgICAvLyDliJ3lp4vljJbpooTnuqbljZXmlbDmja4NCiAgICBpbml0T3JkZXJEYXRhKCkgew0KICAgICAgY29uc29sZS5sb2coJ+i3r+eUseWPguaVsDonLCB0aGlzLiRyb3V0ZS5xdWVyeSk7DQoNCiAgICAgIGxldCBvcmRlciA9IG51bGw7DQoNCiAgICAgIC8vIOS7jm9yZGVyRGF0YeWtl+auteiOt+WPlg0KICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yZGVyRGF0YSkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgIG9yZGVyID0gSlNPTi5wYXJzZSh0aGlzLiRyb3V0ZS5xdWVyeS5vcmRlckRhdGEpOw0KICAgICAgICAgIGNvbnNvbGUubG9nKCfop6PmnpDliLDnmoTorqLljZXmlbDmja46Jywgb3JkZXIpOw0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcign6Kej5p6Qb3JkZXJEYXRh5aSx6LSlOicsIGUpOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIOWmguaenOayoeacieiOt+WPluWIsOaVsOaNru+8jOaYvuekuumUmeivr+W5tui/lOWbng0KICAgICAgaWYgKCFvcmRlcikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmnKrojrflj5bliLDpooTnuqbljZXkv6Hmga8nKTsNCiAgICAgICAgdGhpcy5iYWNrKCk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgLy8g6LWL5YC86aKE57qm5Y2V5L+h5oGvDQogICAgICB0aGlzLnJ1bGVGb3JtLnl1eXVlZGFuaGFvID0gb3JkZXIueXV5dWVkYW5oYW8gfHwgJyc7DQogICAgICB0aGlzLnJ1bGVGb3JtLm1pbmdjaGVuZyA9IG9yZGVyLm1pbmdjaGVuZyB8fCAnJzsNCiAgICAgIHRoaXMucnVsZUZvcm0udHVwaWFuID0gb3JkZXIudHVwaWFuIHx8ICcnOw0KICAgICAgdGhpcy5ydWxlRm9ybS56dW93ZWkgPSBvcmRlci56dW93ZWkgfHwgJyc7DQogICAgICB0aGlzLnJ1bGVGb3JtLnl1eXVlc2hpamlhbiA9IG9yZGVyLnl1eXVlc2hpamlhbiB8fCAnJzsNCiAgICAgIHRoaXMucnVsZUZvcm0ueHVlaGFvID0gb3JkZXIueHVlaGFvIHx8ICcnOw0KICAgICAgdGhpcy5ydWxlRm9ybS54aW5nbWluZyA9IG9yZGVyLnhpbmdtaW5nIHx8ICcnOw0KICAgICAgdGhpcy5ydWxlRm9ybS5zaG91amkgPSBvcmRlci5zaG91amkgfHwgJyc7DQogICAgICB0aGlzLnJ1bGVGb3JtLnl1eXVlSWQgPSBvcmRlci5pZCB8fCAnJzsNCiAgICAgIC8vIOaWsOWinu+8mui1i+WAvOiHquS5oOWupElE77yM6Kej5Yaz6Z2e5rOV6KGo5ZCN6Zeu6aKYDQogICAgICB0aGlzLnJ1bGVGb3JtLnppeGlzaGlpZCA9IG9yZGVyLnppeGlzaGlpZCB8fCAnJzsNCg0KICAgICAgY29uc29sZS5sb2coJ+WIneWni+WMluWQjueahOihqOWNleaVsOaNrjonLCB0aGlzLnJ1bGVGb3JtKTsNCiAgICB9LA0KDQogICAgLy8g5o+Q5Lqk5Y+W5raI6aKE57qmDQogICAgb25TdWJtaXQoKSB7DQogICAgICB0aGlzLiRyZWZzWyJydWxlRm9ybSJdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAvLyDmnoTpgKDmj5DkuqTmlbDmja7vvIjlhbPplK7kv67mlLnvvJrmt7vliqBjcm9zc3JlZmlk5a2X5q6177yM5YC85Li65Y6f6aKE57qmSUTvvIkNCiAgICAgICAgICBjb25zdCBzdWJtaXREYXRhID0gew0KICAgICAgICAgICAgY3Jvc3NyZWZpZDogdGhpcy5ydWxlRm9ybS55dXl1ZUlkLCAvLyDmoLjlv4PvvJrkvKDpgJLljp/pooTnuqZJROe7meWQjuerr2Nyb3NzcmVmaWQNCiAgICAgICAgICAgIHl1eXVlSWQ6IHRoaXMucnVsZUZvcm0ueXV5dWVJZCwNCiAgICAgICAgICAgIHl1eXVlZGFuaGFvOiB0aGlzLnJ1bGVGb3JtLnl1eXVlZGFuaGFvLA0KICAgICAgICAgICAgbWluZ2NoZW5nOiB0aGlzLnJ1bGVGb3JtLm1pbmdjaGVuZywNCiAgICAgICAgICAgIHp1b3dlaTogdGhpcy5ydWxlRm9ybS56dW93ZWksDQogICAgICAgICAgICBxdXhpYW9zaGlqaWFuOiB0aGlzLnJ1bGVGb3JtLnF1eGlhb3NoaWppYW4sDQogICAgICAgICAgICBxdXhpYW95dWFueWluOiB0aGlzLnJ1bGVGb3JtLnF1eGlhb3l1YW55aW4sDQogICAgICAgICAgICB4dWVoYW86IHRoaXMucnVsZUZvcm0ueHVlaGFvLA0KICAgICAgICAgICAgeGluZ21pbmc6IHRoaXMucnVsZUZvcm0ueGluZ21pbmcsDQogICAgICAgICAgICBzaG91amk6IHRoaXMucnVsZUZvcm0uc2hvdWppLA0KICAgICAgICAgICAgeml4aXNoaWlkOiB0aGlzLnJ1bGVGb3JtLnppeGlzaGlpZCAvLyDkvKDpgJLoh6rkuaDlrqRJROWIsOWQjuerrw0KICAgICAgICAgIH07DQoNCiAgICAgICAgICBjb25zb2xlLmxvZygn5o+Q5Lqk5Y+W5raI6aKE57qm5pWw5o2uOicsIHN1Ym1pdERhdGEpOw0KDQogICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCdxdXhpYW95dXl1ZS9zYXZlJywgc3VibWl0RGF0YSkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Y+W5raI6aKE57qm5o+Q5Lqk5oiQ5Yqf77yBIiwNCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsDQogICAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgLy8g6L+U5Zue6aKE57qm5L+h5oGv5YiX6KGo6aG1DQogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4L3l1eXVleGlueGknKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyB8fCAn5Y+W5raI6aKE57qm5o+Q5Lqk5aSx6LSl77yBJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfor7fmsYLlpLHotKU6JywgZXJyb3IpOw0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign572R57uc6K+35rGC5aSx6LSl77yM6K+36YeN6K+VJyk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35a6M5ZaE6KGo5Y2V5L+h5oGvJyk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyDov5Tlm57liJfooajpobUNCiAgICBiYWNrKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC95dXl1ZXhpbnhpJyk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["quxiaoyuyue.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"quxiaoyuyue.vue","sourceRoot":"src/pages/yuyuexinxi","sourcesContent":["<template>\r\n  <div class=\"addEdit-block\" style=\"width: 100%\">\r\n    <!-- 面包屑 -->\r\n    <div :style='{\"width\":\"100%\",\"padding\":\"20px\",\"margin\":\"10px auto\",\"borderRadius\":\"27px\",\"background\":\"#bfd2fc\",\"boxSizing\":\"border-box\"}' class=\"breadcrumb-preview\">\r\n      <el-breadcrumb :separator=\"'Ξ'\" :style='{\"fontSize\":\"14px\",\"lineHeight\":\"1\"}'>\r\n        <el-breadcrumb-item>首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>预约信息</el-breadcrumb-item>\r\n        <el-breadcrumb-item>取消预约</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <el-form\r\n        :style=\"{\r\n        padding: '30px',\r\n        boxShadow: '0 0px 0px rgba(64, 158, 255, .3)',\r\n        borderRadius: '6px',\r\n        flexWrap: 'wrap',\r\n        background: '#fff',\r\n        display: 'flex',\r\n        width: '100%',\r\n        maxWidth: '1200px',\r\n        margin: '20px auto'\r\n      }\"\r\n        class=\"add-update-preview\"\r\n        ref=\"ruleForm\"\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        label-width=\"100px\"\r\n    >\r\n      <template>\r\n        <!-- 预约单号 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"预约单号\"\r\n            prop=\"yuyuedanhao\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.yuyuedanhao\"\r\n              placeholder=\"预约单号\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 名称 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"名称\"\r\n            prop=\"mingcheng\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.mingcheng\"\r\n              placeholder=\"名称\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 图片 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"upload\"\r\n            label=\"图片\"\r\n            prop=\"tupian\"\r\n        >\r\n          <img\r\n              v-if=\"ruleForm.tupian && ruleForm.tupian.substring(0, 4) == 'http'\"\r\n              :src=\"ruleForm.tupian.split(',')[0]\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              style=\"objectFit: cover; borderRadius: 4px;\"\r\n          />\r\n          <img\r\n              v-else-if=\"ruleForm.tupian\"\r\n              :src=\"baseUrl + ruleForm.tupian.split(',')[0]\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              style=\"objectFit: cover; borderRadius: 4px;\"\r\n          />\r\n          <span v-else>无图片</span>\r\n        </el-form-item>\r\n\r\n        <!-- 座位号 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"座位号\"\r\n            prop=\"zuowei\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.zuowei\"\r\n              placeholder=\"座位号\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 预约时间 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"预约时间\"\r\n            prop=\"yuyueshijian\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.yuyueshijian\"\r\n              placeholder=\"预约时间\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 取消时间 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"date\"\r\n            label=\"取消时间\"\r\n            prop=\"quxiaoshijian\"\r\n        >\r\n          <el-date-picker\r\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n              v-model=\"ruleForm.quxiaoshijian\"\r\n              type=\"datetime\"\r\n              placeholder=\"取消时间\"\r\n              readonly\r\n          ></el-date-picker>\r\n        </el-form-item>\r\n\r\n        <!-- 学号 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"学号\"\r\n            prop=\"xuehao\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.xuehao\"\r\n              placeholder=\"学号\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 姓名 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"姓名\"\r\n            prop=\"xingming\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.xingming\"\r\n              placeholder=\"姓名\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 手机 -->\r\n        <el-form-item\r\n            :style=\"{ width: '50%', margin: '0 0 20px 0' }\"\r\n            class=\"input\"\r\n            label=\"手机\"\r\n            prop=\"shouji\"\r\n        >\r\n          <el-input\r\n              v-model=\"ruleForm.shouji\"\r\n              placeholder=\"手机\"\r\n              readonly\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 取消原因（必填） -->\r\n        <el-form-item\r\n            :style=\"{ width: '100%', margin: '0 0 20px 0' }\"\r\n            class=\"textarea\"\r\n            label=\"取消原因\"\r\n            prop=\"quxiaoyuanyin\"\r\n        >\r\n          <el-input\r\n              style=\"width: 100%; max-width: 800px\"\r\n              type=\"textarea\"\r\n              :rows=\"5\"\r\n              placeholder=\"请输入取消预约的原因\"\r\n              v-model=\"ruleForm.quxiaoyuanyin\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n      </template>\r\n\r\n      <!-- 按钮区域 -->\r\n      <el-form-item\r\n          :style=\"{ width: '100%', padding: '0', margin: '0', textAlign: 'center' }\"\r\n          class=\"btn\"\r\n      >\r\n        <el-button\r\n            :style=\"{\r\n            border: '0',\r\n            cursor: 'pointer',\r\n            padding: '0',\r\n            margin: '0 20px 0 0',\r\n            outline: 'none',\r\n            color: 'rgba(255, 255, 255, 1)',\r\n            borderRadius: '30px',\r\n            background: '#93C7B3',\r\n            width: '128px',\r\n            lineHeight: '40px',\r\n            fontSize: '14px',\r\n            height: '40px',\r\n          }\"\r\n            type=\"primary\"\r\n            class=\"btn-success\"\r\n            @click=\"onSubmit\"\r\n        >提交</el-button\r\n        >\r\n        <el-button\r\n            :style=\"{\r\n            border: '0px solid rgba(64, 158, 255, 1)',\r\n            cursor: 'pointer',\r\n            padding: '0',\r\n            margin: '0',\r\n            outline: 'none',\r\n            color: '#fff',\r\n            borderRadius: '30px',\r\n            background: '#93C7B3',\r\n            width: '128px',\r\n            lineHeight: '40px',\r\n            fontSize: '14px',\r\n            height: '40px',\r\n          }\"\r\n            class=\"btn-close\"\r\n            @click=\"back()\"\r\n        >返回</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\n// 数字，邮件，手机，url，身份证校验\r\nimport { isMobile } from \"@/utils/validate\";\r\nexport default {\r\n  data() {\r\n    let self = this;\r\n    var validateMobile = (rule, value, callback) => {\r\n      if (!value) {\r\n        callback();\r\n      } else if (!isMobile(value)) {\r\n        callback(new Error(\"请输入正确的手机号码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      baseUrl: '',\r\n      ruleForm: {\r\n        yuyuedanhao: \"\",\r\n        mingcheng: \"\",\r\n        tupian: \"\",\r\n        zuowei: \"\",\r\n        yuyueshijian: \"\",\r\n        quxiaoshijian: \"\",\r\n        quxiaoyuanyin: \"\",\r\n        xuehao: \"\",\r\n        xingming: \"\",\r\n        shouji: \"\",\r\n        yuyueId: \"\", // 关联预约单ID\r\n        zixishiid: \"\" // 新增：自习室ID，解决非法表名问题\r\n      },\r\n      rules: {\r\n        quxiaoyuanyin: [\r\n          { required: true, message: '请输入取消原因', trigger: 'blur' },\r\n          { min: 5, max: 200, message: '取消原因长度在5-200字之间', trigger: 'blur' }\r\n        ],\r\n        shouji: [{ validator: validateMobile, trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.baseUrl = this.$config.baseUrl;\r\n    // 初始化当前时间\r\n    this.ruleForm.quxiaoshijian = this.getCurDateTime();\r\n    // 接收list.vue传递的预约单数据\r\n    this.initOrderData();\r\n  },\r\n  methods: {\r\n    // 获取当前时间（yyyy-MM-dd HH:mm:ss）\r\n    getCurDateTime() {\r\n      const date = new Date();\r\n      const y = date.getFullYear();\r\n      const m = (date.getMonth() + 1).toString().padStart(2, '0');\r\n      const d = date.getDate().toString().padStart(2, '0');\r\n      const h = date.getHours().toString().padStart(2, '0');\r\n      const min = date.getMinutes().toString().padStart(2, '0');\r\n      const s = date.getSeconds().toString().padStart(2, '0');\r\n      return `${y}-${m}-${d} ${h}:${min}:${s}`;\r\n    },\r\n\r\n    // 初始化预约单数据\r\n    initOrderData() {\r\n      console.log('路由参数:', this.$route.query);\r\n\r\n      let order = null;\r\n\r\n      // 从orderData字段获取\r\n      if (this.$route.query.orderData) {\r\n        try {\r\n          order = JSON.parse(this.$route.query.orderData);\r\n          console.log('解析到的订单数据:', order);\r\n        } catch (e) {\r\n          console.error('解析orderData失败:', e);\r\n        }\r\n      }\r\n\r\n      // 如果没有获取到数据，显示错误并返回\r\n      if (!order) {\r\n        this.$message.error('未获取到预约单信息');\r\n        this.back();\r\n        return;\r\n      }\r\n\r\n      // 赋值预约单信息\r\n      this.ruleForm.yuyuedanhao = order.yuyuedanhao || '';\r\n      this.ruleForm.mingcheng = order.mingcheng || '';\r\n      this.ruleForm.tupian = order.tupian || '';\r\n      this.ruleForm.zuowei = order.zuowei || '';\r\n      this.ruleForm.yuyueshijian = order.yuyueshijian || '';\r\n      this.ruleForm.xuehao = order.xuehao || '';\r\n      this.ruleForm.xingming = order.xingming || '';\r\n      this.ruleForm.shouji = order.shouji || '';\r\n      this.ruleForm.yuyueId = order.id || '';\r\n      // 新增：赋值自习室ID，解决非法表名问题\r\n      this.ruleForm.zixishiid = order.zixishiid || '';\r\n\r\n      console.log('初始化后的表单数据:', this.ruleForm);\r\n    },\r\n\r\n    // 提交取消预约\r\n    onSubmit() {\r\n      this.$refs[\"ruleForm\"].validate((valid) => {\r\n        if (valid) {\r\n          // 构造提交数据（关键修改：添加crossrefid字段，值为原预约ID）\r\n          const submitData = {\r\n            crossrefid: this.ruleForm.yuyueId, // 核心：传递原预约ID给后端crossrefid\r\n            yuyueId: this.ruleForm.yuyueId,\r\n            yuyuedanhao: this.ruleForm.yuyuedanhao,\r\n            mingcheng: this.ruleForm.mingcheng,\r\n            zuowei: this.ruleForm.zuowei,\r\n            quxiaoshijian: this.ruleForm.quxiaoshijian,\r\n            quxiaoyuanyin: this.ruleForm.quxiaoyuanyin,\r\n            xuehao: this.ruleForm.xuehao,\r\n            xingming: this.ruleForm.xingming,\r\n            shouji: this.ruleForm.shouji,\r\n            zixishiid: this.ruleForm.zixishiid // 传递自习室ID到后端\r\n          };\r\n\r\n          console.log('提交取消预约数据:', submitData);\r\n\r\n          this.$http.post('quxiaoyuyue/save', submitData).then(({ data }) => {\r\n            if (data && data.code === 0) {\r\n              this.$message({\r\n                message: \"取消预约提交成功！\",\r\n                type: \"success\",\r\n                duration: 1500,\r\n                onClose: () => {\r\n                  // 返回预约信息列表页\r\n                  this.$router.push('/index/yuyuexinxi');\r\n                }\r\n              });\r\n            } else {\r\n              this.$message.error(data.msg || '取消预约提交失败！');\r\n            }\r\n          }).catch((error) => {\r\n            console.error('请求失败:', error);\r\n            this.$message.error('网络请求失败，请重试');\r\n          });\r\n        } else {\r\n          this.$message.error('请完善表单信息');\r\n        }\r\n      });\r\n    },\r\n\r\n    // 返回列表页\r\n    back() {\r\n      this.$router.push('/index/yuyuexinxi');\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.amap-wrapper {\r\n  width: 100%;\r\n  height: 500px;\r\n}\r\n\r\n.search-box {\r\n  position: absolute;\r\n}\r\n\r\n.el-date-editor.el-input {\r\n  width: auto;\r\n}\r\n\r\n.add-update-preview .el-form-item >>> .el-form-item__label {\r\n  padding: 0 10px 0 0;\r\n  color: #666;\r\n  font-weight: 500;\r\n  width: 100px;\r\n  font-size: 14px;\r\n  line-height: 40px;\r\n  text-align: right;\r\n}\r\n\r\n.add-update-preview .el-form-item >>> .el-form-item__content {\r\n  margin-left: 100px;\r\n}\r\n\r\n.add-update-preview .el-input >>> .el-input__inner {\r\n  border: 2px solid #797979;\r\n  border-radius: 0;\r\n  padding: 0 12px;\r\n  box-shadow: 0 0 0px rgba(64, 158, 255, 0.5);\r\n  outline: none;\r\n  color: #000;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  font-size: 14px;\r\n  height: 40px;\r\n}\r\n\r\n.add-update-preview .el-select >>> .el-input__inner {\r\n  border: 2px solid #797979;\r\n  border-radius: 0;\r\n  padding: 0 10px;\r\n  box-shadow: 0 0 0px rgba(64, 158, 255, 0.5);\r\n  outline: none;\r\n  color: #000;\r\n  width: 200px;\r\n  font-size: 14px;\r\n  height: 40px;\r\n}\r\n\r\n.add-update-preview .el-date-editor >>> .el-input__inner {\r\n  border: 2px solid #797979;\r\n  border-radius: 0;\r\n  padding: 0 10px 0 30px;\r\n  box-shadow: 0 0 0px rgba(64, 158, 255, 0.5);\r\n  outline: none;\r\n  color: #000;\r\n  width: 200px;\r\n  font-size: 14px;\r\n  height: 40px;\r\n}\r\n\r\n.add-update-preview >>> .el-upload--picture-card {\r\n  background: transparent;\r\n  border: 0;\r\n  border-radius: 0;\r\n  width: auto;\r\n  height: auto;\r\n  line-height: initial;\r\n  vertical-align: middle;\r\n}\r\n\r\n.add-update-preview >>> .upload .upload-img {\r\n  border: 1px dashed #797979;\r\n  cursor: pointer;\r\n  border-radius: 6px;\r\n  color: #797979;\r\n  width: 90px;\r\n  font-size: 32px;\r\n  line-height: 90px;\r\n  text-align: center;\r\n  height: 90px;\r\n}\r\n\r\n.add-update-preview >>> .el-upload-list .el-upload-list__item {\r\n  border: 1px dashed #797979;\r\n  cursor: pointer;\r\n  border-radius: 6px;\r\n  color: #797979;\r\n  width: 90px;\r\n  font-size: 32px;\r\n  line-height: 90px;\r\n  text-align: center;\r\n  height: 90px;\r\n}\r\n\r\n.add-update-preview >>> .el-upload .el-icon-plus {\r\n  border: 1px dashed #797979;\r\n  cursor: pointer;\r\n  border-radius: 6px;\r\n  color: #797979;\r\n  width: 90px;\r\n  font-size: 32px;\r\n  line-height: 90px;\r\n  text-align: center;\r\n  height: 90px;\r\n}\r\n\r\n.add-update-preview .el-textarea >>> .el-textarea__inner {\r\n  border: 2px solid #797979;\r\n  border-radius: 0;\r\n  padding: 12px;\r\n  box-shadow: 0 0 0px rgba(64, 158, 255, 0.5);\r\n  outline: none;\r\n  color: #000;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  height: 120px;\r\n}\r\n</style>"]}]}