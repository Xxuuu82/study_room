{"remainingRequest":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\weigui\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\weigui\\list.vue","mtime":1766223126693},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6LzMvXHU4RjZGXHU0RUY2XHU1REU1XHU3QTBCL1x1OTg3OVx1NzZFRS9zdHVkeV9yb29tL3NyYy9tYWluL3Jlc291cmNlcy9mcm9udC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi8zL1x1OEY2Rlx1NEVGNlx1NURFNVx1N0EwQi9cdTk4NzlcdTc2RUUvc3R1ZHlfcm9vbS9zcmMvbWFpbi9yZXNvdXJjZXMvZnJvbnQvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOi8zL1x1OEY2Rlx1NEVGNlx1NURFNVx1N0EwQi9cdTk4NzlcdTc2RUUvc3R1ZHlfcm9vbS9zcmMvbWFpbi9yZXNvdXJjZXMvZnJvbnQvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0luQmxhY2tsaXN0OiBmYWxzZSwKICAgICAgYmFuRW5kVGltZTogIiIsCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICB4dWVoYW86ICcnLAogICAgICAgIHdlaWd1aWxlaXhpbmc6ICcnCiAgICAgIH0sCiAgICAgIHZpb2xhdGlvbkxpc3Q6IFtdLAogICAgICBwYWdlSW5kZXg6IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIGRhdGFMaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIGxheW91dHM6IFsidG90YWwiLCAicHJldiIsICJwYWdlciIsICJuZXh0IiwgInNpemVzIiwgImp1bXBlciJdLAogICAgICB3ZWlndWlsZWl4aW5nT3B0aW9uczogIuWkp+WjsOWWp+WTlyzmnKrnrb7liLAs5pWZ5a6k5Lmx5ZCD5Lmx5ZadLOi/n+WIsOetvuWIsCzmnKrnrb7pgIAs5aSa5qyh5Y+W5raILOWNoOW6p+i2heaXtizov53op4TljaDkvY0iLnNwbGl0KCIsIikKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEJsYWNrbGlzdFN0YXR1cygpOwogICAgdGhpcy5mZXRjaFZpb2xhdGlvbkxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFZpb2xhdGlvblRhZ1R5cGU6IGZ1bmN0aW9uIGdldFZpb2xhdGlvblRhZ1R5cGUodHlwZSkgewogICAgICB2YXIgdHlwZU1hcCA9IHsKICAgICAgICAi5aSn5aOw5Zan5ZOXIjogIndhcm5pbmciLAogICAgICAgICLmnKrnrb7liLAiOiAiZGFuZ2VyIiwKICAgICAgICAi5pWZ5a6k5Lmx5ZCD5Lmx5ZadIjogImRhbmdlciIsCiAgICAgICAgIui/n+WIsOetvuWIsCI6ICJ3YXJuaW5nIiwKICAgICAgICAi5pyq562+6YCAIjogImRhbmdlciIsCiAgICAgICAgIuWkmuasoeWPlua2iCI6ICJpbmZvIiwKICAgICAgICAi5Y2g5bqn6LaF5pe2IjogImRhbmdlciIsCiAgICAgICAgIui/neinhOWNoOS9jSI6ICJkYW5nZXIiCiAgICAgIH07CiAgICAgIHJldHVybiB0eXBlTWFwW3R5cGVdIHx8ICJpbmZvIjsKICAgIH0sCiAgICBnZXRTaGVuc3VIYW5kbGVUYWdUeXBlOiBmdW5jdGlvbiBnZXRTaGVuc3VIYW5kbGVUYWdUeXBlKHN0YXR1cykgewogICAgICB2YXIgc3RhdHVzTWFwID0gewogICAgICAgICLmnKrlpITnkIYiOiAiZGVmYXVsdCIsCiAgICAgICAgIuWkhOeQhuS4rSI6ICJ3YXJuaW5nIiwKICAgICAgICAi5bey5aSE55CGIjogInN1Y2Nlc3MiCiAgICAgIH07CiAgICAgIHJldHVybiBzdGF0dXNNYXBbc3RhdHVzXSB8fCAiZGVmYXVsdCI7CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5mZXRjaFZpb2xhdGlvbkxpc3QoKTsKICAgIH0sCiAgICBzaXplQ2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7CiAgICAgIHRoaXMuZmV0Y2hWaW9sYXRpb25MaXN0KCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUhhbmRsZTogZnVuY3Rpb24gY3VycmVudENoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlSW5kZXggPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hWaW9sYXRpb25MaXN0KCk7CiAgICB9LAogICAgdG9TaGVuc3U6IGZ1bmN0aW9uIHRvU2hlbnN1KHJvdykgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY3VycmVudFdlaWd1aU9iaiIsIEpTT04uc3RyaW5naWZ5KHJvdykpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4L3dlaWd1aVNoZW5zdScpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIlx1NkI2M1x1NTcyOFx1OERGM1x1OEY2Q1x1NTIzMFx1MzAxMCIuY29uY2F0KHJvdy54dWVoYW8sICJcdTMwMTFcdTc2ODRcdTc1MzNcdThCQzlcdTk4NzVcdTk3NjIiKSk7CiAgICAgIHJvdy5zaGVuc3VTdGF0dXMgPSAi5bey55Sz6K+JIjsKICAgIH0sCiAgICBnZXRDdXJyZW50WHVlaGFvOiBmdW5jdGlvbiBnZXRDdXJyZW50WHVlaGFvKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIGxvY2FsU3RvcmFnZSBrZXlzOicsIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkpOwogICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgdmFyIHRyeUtleXMgPSBbJ2N1cnJlbnRVc2VyJywgJ3VzZXInLCAndXNlckluZm8nLCAndXNlcmluZm8nLCAnbG9naW5Vc2VyJywgJ3h1ZWhhbycsICdYVUVIQU8nLCAndXNlckluZm9SZXMnLCAnbG9naW5JbmZvJywgJ3VzZXJuYW1lJywgJ2FkbWluTmFtZSddOwoKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfdHJ5S2V5cyA9IHRyeUtleXM7IF9pIDwgX3RyeUtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGsgPSBfdHJ5S2V5c1tfaV07CiAgICAgICAgdmFyIHYgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrKTsKICAgICAgICBpZiAoIXYpIGNvbnRpbnVlOwoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwYXJzZWQgPSBKU09OLnBhcnNlKHYpOwoKICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwYXJzZWQgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgdmFyIHMgPSBTdHJpbmcocGFyc2VkKS50cmltKCk7CiAgICAgICAgICAgICAgaWYgKC9eXGR7NiwxMn0kLy50ZXN0KHMpKSByZXR1cm4gewogICAgICAgICAgICAgICAgdjogcwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBmaW5kWCA9IGZ1bmN0aW9uIGZpbmRYKG9iaikgewogICAgICAgICAgICAgIGlmICghb2JqIHx8IF90eXBlb2Yob2JqKSAhPT0gJ29iamVjdCcpIHJldHVybiBudWxsOwogICAgICAgICAgICAgIHZhciBjYW5kaWRhdGVzID0gWyd4dWVoYW8nLCAneHVlSGFvJywgJ3N0dWRlbnRJZCcsICd1c2VybmFtZScsICdpZCcsICd1c2VySWQnXTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMCwgX2NhbmRpZGF0ZXMgPSBjYW5kaWRhdGVzOyBfaTIgPCBfY2FuZGlkYXRlcy5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgICB2YXIgYyA9IF9jYW5kaWRhdGVzW19pMl07CiAgICAgICAgICAgICAgICBpZiAob2JqW2NdKSByZXR1cm4gb2JqW2NdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMob2JqKTsgX2kzIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfT2JqZWN0JGtleXNbX2kzXTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzID0gZmluZFgob2JqW2tleV0pOwogICAgICAgICAgICAgICAgICBpZiAocmVzKSByZXR1cm4gcmVzOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIGZvdW5kID0gZmluZFgocGFyc2VkKTsKICAgICAgICAgICAgaWYgKGZvdW5kKSByZXR1cm4gewogICAgICAgICAgICAgIHY6IFN0cmluZyhmb3VuZCkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKTsKCiAgICAgICAgICBpZiAoX3R5cGVvZihfcmV0KSA9PT0gIm9iamVjdCIpIHJldHVybiBfcmV0LnY7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdmFyIHMgPSB2LnRyaW0oKTsKICAgICAgICAgIGlmICgvXlxkezYsMTJ9JC8udGVzdChzKSkgcmV0dXJuIHM7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZGlyZWN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3h1ZWhhbycpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdYVUVIQU8nKTsKICAgICAgaWYgKGRpcmVjdCAmJiAvXlxkezYsMTJ9JC8udGVzdChTdHJpbmcoZGlyZWN0KS50cmltKCkpKSByZXR1cm4gU3RyaW5nKGRpcmVjdCkudHJpbSgpOwogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnVG9rZW4nKSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQXV0aG9yaXphdGlvbicpOwoKICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciByYXcgPSB0b2tlbi5zcGxpdCgnICcpWzFdIHx8IHRva2VuOwogICAgICAgICAgdmFyIHBheWxvYWQgPSByYXcuc3BsaXQoJy4nKVsxXTsKCiAgICAgICAgICBpZiAocGF5bG9hZCkgewogICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoYXRvYihwYXlsb2FkLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJykpKTsKICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZXMgPSBqc29uLnh1ZWhhbyB8fCBqc29uLnVzZXJuYW1lIHx8IGpzb24uc3R1ZGVudElkIHx8IGpzb24udXNlcklkOwogICAgICAgICAgICBpZiAoY2FuZGlkYXRlcykgcmV0dXJuIFN0cmluZyhjYW5kaWRhdGVzKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CgogICAgICBjb25zb2xlLndhcm4oJ+acquiDveS7jiBsb2NhbFN0b3JhZ2Ug5Lit6K+G5Yir5Ye65b2T5YmN55So5oi35a2m5Y+3Jyk7CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGdldEF1dGhIZWFkZXJzOiBmdW5jdGlvbiBnZXRBdXRoSGVhZGVycygpIHsKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1Rva2VuJykgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0F1dGhvcml6YXRpb24nKSB8fCAnJzsKICAgICAgdmFyIGhlYWRlcnMgPSB7fTsKCiAgICAgIGlmICh0b2tlbikgewogICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSA/IHRva2VuIDogIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgICAgICAgaGVhZGVyc1snVG9rZW4nXSA9IHRva2VuOwogICAgICB9CgogICAgICByZXR1cm4gaGVhZGVyczsKICAgIH0sCiAgICAvLyDmoLzlvI/ljJblkI7nq6/lj6/og73ov5Tlm57nmoTlkITnp43ml7bpl7TnsbvlnovvvIjmlbDnu4Qv5pWw5a2XL+Wtl+espuS4si9EYXRl77yJCiAgICBmb3JtYXRBbnlUaW1lOiBmdW5jdGlvbiBmb3JtYXRBbnlUaW1lKHZhbCkgewogICAgICBpZiAoIXZhbCAmJiB2YWwgIT09IDApIHJldHVybiAnJzsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHsKICAgICAgICB2YXIgYXJyID0gdmFsLm1hcChmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIFN0cmluZyh2KS5wYWRTdGFydCgyLCAnMCcpOwogICAgICAgIH0pOwogICAgICAgIGlmIChhcnIubGVuZ3RoID49IDYpIHJldHVybiAiIi5jb25jYXQoYXJyWzBdLCAiLSIpLmNvbmNhdChhcnJbMV0sICItIikuY29uY2F0KGFyclsyXSwgIiAiKS5jb25jYXQoYXJyWzNdLCAiOiIpLmNvbmNhdChhcnJbNF0sICI6IikuY29uY2F0KGFycls1XSk7CiAgICAgICAgcmV0dXJuIGFyci5qb2luKCctJyk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgewogICAgICAgIGlmIChTdHJpbmcodmFsKS5sZW5ndGggPT09IDEwKSByZXR1cm4gbmV3IERhdGUodmFsICogMTAwMCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdUJywgJyAnKS5zbGljZSgwLCAxOSk7CiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdUJywgJyAnKS5zbGljZSgwLCAxOSk7CiAgICAgIH0KCiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBPYmplY3QgJiYgISh2YWwgaW5zdGFuY2VvZiBEYXRlKSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgYXNTdHIgPSBTdHJpbmcodmFsKTsKICAgICAgICAgIGlmIChhc1N0ciAmJiBhc1N0ci5pbmRleE9mKCdbJykgPT09IDApIHJldHVybiBhc1N0cjsKICAgICAgICAgIHJldHVybiBhc1N0cjsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CgogICAgICB0cnkgewogICAgICAgIHZhciBzID0gU3RyaW5nKHZhbCkudHJpbSgpOwogICAgICAgIGlmICgvXlxkezR9LVxkezJ9LVxkezJ9VFxkezJ9OlxkezJ9OlxkezJ9Ly50ZXN0KHMpKSByZXR1cm4gcy5yZXBsYWNlKCdUJywgJyAnKS5zbGljZSgwLCAxOSk7CiAgICAgICAgcmV0dXJuIHM7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gU3RyaW5nKHZhbCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDku47lkI7nq6/liqDovb3lvZPliY3lrabnlJ/nmoTov53op4TliJfooajvvIjlj6rmmL7npLrlvZPliY3nmbvlvZXlrablj7fnmoTorrDlvZXvvIkKICAgIGZldGNoVmlvbGF0aW9uTGlzdDogZnVuY3Rpb24gZmV0Y2hWaW9sYXRpb25MaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgeHVlaGFvLCByZXNwLCBkYXRhLCByZWNvcmRzLCBtYXBwZWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgeHVlaGFvID0gX3RoaXMuZ2V0Q3VycmVudFh1ZWhhbygpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tERUJVR10gZmV0Y2hWaW9sYXRpb25MaXN0IOS9v+eUqOWtpuWPt++8micsIHh1ZWhhbyk7CgogICAgICAgICAgICAgICAgaWYgKHh1ZWhhbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMudmlvbGF0aW9uTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSAwOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9hcGkvd2VpZ3VpL2xpc3QnLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzLnBhZ2VJbmRleCwKICAgICAgICAgICAgICAgICAgICBzaXplOiBfdGhpcy5wYWdlU2l6ZSwKICAgICAgICAgICAgICAgICAgICB4dWVoYW86IHh1ZWhhbywKICAgICAgICAgICAgICAgICAgICB3ZWlndWlMZWl4aW5nOiBfdGhpcy5zZWFyY2hGb3JtLndlaWd1aWxlaXhpbmcgfHwgdW5kZWZpbmVkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IF90aGlzLmdldEF1dGhIZWFkZXJzKCksCiAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIC9hcGkvd2VpZ3VpL2xpc3Qg5ZON5bqU77yaJywgcmVzcCAmJiByZXNwLmRhdGEpOwogICAgICAgICAgICAgICAgZGF0YSA9IHJlc3AgJiYgcmVzcC5kYXRhOwogICAgICAgICAgICAgICAgcmVjb3JkcyA9IEFycmF5LmlzQXJyYXkoZGF0YS5kYXRhKSA/IGRhdGEuZGF0YSA6IGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEucmVjb3JkcyB8fCBbXTsKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gZGF0YS50b3RhbCB8fCBkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLnRvdGFsIHx8IHJlY29yZHMubGVuZ3RoIHx8IDA7CiAgICAgICAgICAgICAgICBtYXBwZWQgPSByZWNvcmRzLm1hcChmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICB2YXIgZ2V0RmllbGQgPSBmdW5jdGlvbiBnZXRGaWVsZCgpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbmFtZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICBuYW1lc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pNCA9IDAsIF9uYW1lcyA9IG5hbWVzOyBfaTQgPCBfbmFtZXMubGVuZ3RoOyBfaTQrKykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBfbmFtZXNbX2k0XTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyW25dICE9PSB1bmRlZmluZWQgJiYgcltuXSAhPT0gbnVsbCkgcmV0dXJuIHJbbl07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIHZhciByYXdUeXBlID0gZ2V0RmllbGQoJ3dlaWd1aWxlaXhpbmdOYW1lJywgJ3dlaWd1aUxlaXhpbmcnLCAnd2VpZ3VpbGVpeGluZycsICd3ZWlndWlsZWl4aW5nTmFtZScpIHx8ICcnOwogICAgICAgICAgICAgICAgICB2YXIgcmF3VGltZSA9IGdldEZpZWxkKCd3ZWlndWlTaGlqaWFuJywgJ3dlaWd1aV9zaGlqaWFuJywgJ2FkZHRpbWUnLCAnYWRkVGltZScpOwogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGlkOiBnZXRGaWVsZCgnaWQnKSwKICAgICAgICAgICAgICAgICAgICB4dWVoYW86IGdldEZpZWxkKCd4dWVoYW8nKSB8fCB4dWVoYW8sCiAgICAgICAgICAgICAgICAgICAgeGluZ21pbmc6IGdldEZpZWxkKCd4aW5nbWluZycpIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIHdlaWd1aWxlaXhpbmc6IHJhd1R5cGUsCiAgICAgICAgICAgICAgICAgICAgd2VpZ3VpVGltZTogX3RoaXMuZm9ybWF0QW55VGltZShyYXdUaW1lKSwKICAgICAgICAgICAgICAgICAgICB3ZWlndWlaaXhpc2hpOiBnZXRGaWVsZCgneml4aXNoaU1pbmdjaGVuZycsICd6aXhpc2hpX21pbmdjaGVuZycpIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIHdlaWd1aVhpYW5ncWluZzogZ2V0RmllbGQoJ3dlaWd1aUJlaXpodScsICd3ZWlndWlfYmVpemh1JywgJ290aGVyV2VpZ3VpRGVzYycpIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIHNoZW5zdVN0YXR1czogZ2V0RmllbGQoJ3NoZW5zdVN0YXR1cycpIHx8ICfmnKrnlLPor4knLAogICAgICAgICAgICAgICAgICAgIHNoZW5zdUhhbmRsZVN0YXR1czogZ2V0RmllbGQoJ3NoZW5zdUhhbmRsZVN0YXR1cycpIHx8ICfmnKrlpITnkIYnCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLnZpb2xhdGlvbkxpc3QgPSBtYXBwZWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmZXRjaFZpb2xhdGlvbkxpc3Qg5Ye66ZSZ77yaJywgX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgX3RoaXMudmlvbGF0aW9uTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI0OwogICAgICAgICAgICAgICAgX3RoaXMuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDI0KTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNywgMTksIDI0LCAyN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6buR5ZCN5Y2V77ya5Y+q5bGV56S64oCc6Kej56aB5pe26Ze04oCd77yI5LiN5YGa5a6e5pe25YCS6K6h5pe277yJCiAgICBmZXRjaEJsYWNrbGlzdFN0YXR1czogZnVuY3Rpb24gZmV0Y2hCbGFja2xpc3RTdGF0dXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHh1ZWhhbywgcmVzcCwgZGF0YSwgcmVjb3Jkcywgbm93LCBhY3RpdmUsIF9pdGVyYXRvciwgX3N0ZXAsIHIsIGVuZFN0ciwgZW5kRGF0ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHh1ZWhhbyA9IF90aGlzMi5nZXRDdXJyZW50WHVlaGFvKCk7CgogICAgICAgICAgICAgICAgaWYgKHh1ZWhhbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5pc0luQmxhY2tsaXN0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczIuYmFuRW5kVGltZSA9ICIiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvYXBpL2hlaW1pbmdkYW4vbGlzdCcsIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgeHVlaGFvOiB4dWVoYW8sCiAgICAgICAgICAgICAgICAgICAgcGFnZTogMSwKICAgICAgICAgICAgICAgICAgICBzaXplOiAxMAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiBfdGhpczIuZ2V0QXV0aEhlYWRlcnMoKSwKICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IHJlc3AgJiYgcmVzcC5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKCFkYXRhIHx8IGRhdGEuY29kZSAhPT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLmlzSW5CbGFja2xpc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMi5iYW5FbmRUaW1lID0gIiI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICByZWNvcmRzID0gZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5yZWNvcmRzIHx8IFtdOwoKICAgICAgICAgICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuaXNJbkJsYWNrbGlzdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMyLmJhbkVuZFRpbWUgPSAiIjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgICAgICAgICBhY3RpdmUgPSBudWxsOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVjb3Jkcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICBlbmRTdHIgPSByLmhlaW1pbmdkYW5FbmRUaW1lIHx8IHIuaGVpbWluZ2Rhbl9lbmRfdGltZSB8fCByLmVuZFRpbWUgfHwgci5lbmRfdGltZSB8fCByLmhlaW1pbmdkYW5fZW5kOwoKICAgICAgICAgICAgICAgIGlmIChlbmRTdHIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYWN0aXZlID0gewogICAgICAgICAgICAgICAgICByZWNvcmQ6IHIsCiAgICAgICAgICAgICAgICAgIGVuZERhdGU6IG51bGwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgiYnJlYWsiLCAzOCk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBlbmREYXRlID0gX3RoaXMyLnBhcnNlRGF0ZVN0cihlbmRTdHIpOwoKICAgICAgICAgICAgICAgIGlmIChlbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJjb250aW51ZSIsIDM2KTsKCiAgICAgICAgICAgICAgY2FzZSAzMzoKICAgICAgICAgICAgICAgIGlmICghKGVuZERhdGUuZ2V0VGltZSgpID4gbm93KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhY3RpdmUgPSB7CiAgICAgICAgICAgICAgICAgIHJlY29yZDogciwKICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJicmVhayIsIDM4KTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMjIpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgNDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQzOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goNDMpOwoKICAgICAgICAgICAgICBjYXNlIDQ2OgogICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuaXNJbkJsYWNrbGlzdCA9IHRydWU7CgogICAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZS5lbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJhbkVuZFRpbWUgPSAn6ZW/5pyf5bCB56aBJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuYmFuRW5kVGltZSA9IF90aGlzMi5mb3JtYXRFbmRUaW1lKGFjdGl2ZS5lbmREYXRlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmlzSW5CbGFja2xpc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmJhbkVuZFRpbWUgPSAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDIudDEpOwogICAgICAgICAgICAgICAgX3RoaXMyLmlzSW5CbGFja2xpc3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMi5iYW5FbmRUaW1lID0gIiI7CgogICAgICAgICAgICAgIGNhc2UgNTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNSwgNDldLCBbMjIsIDQwLCA0MywgNDZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHBhcnNlRGF0ZVN0cjogZnVuY3Rpb24gcGFyc2VEYXRlU3RyKHN0cikgewogICAgICBpZiAoIXN0ciAmJiBzdHIgIT09IDApIHJldHVybiBudWxsOwogICAgICBpZiAoc3RyIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHN0cjsKICAgICAgaWYgKHR5cGVvZiBzdHIgPT09ICdudW1iZXInKSByZXR1cm4gbmV3IERhdGUoc3RyKTsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0cikpIHsKICAgICAgICB2YXIgYXJyID0gc3RyLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIE51bWJlcihuKTsKICAgICAgICB9KTsKICAgICAgICBpZiAoYXJyLmxlbmd0aCA+PSA2KSByZXR1cm4gbmV3IERhdGUoYXJyWzBdLCBhcnJbMV0gLSAxLCBhcnJbMl0sIGFyclszXSwgYXJyWzRdLCBhcnJbNV0pOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgcyA9IFN0cmluZyhzdHIpLnRyaW0oKTsKICAgICAgaWYgKC9eXGR7MTB9JC8udGVzdChzKSkgcmV0dXJuIG5ldyBEYXRlKE51bWJlcihzKSAqIDEwMDApOwogICAgICBpZiAoL15cZHsxM30kLy50ZXN0KHMpKSByZXR1cm4gbmV3IERhdGUoTnVtYmVyKHMpKTsKICAgICAgaWYgKC9eXGR7NH0tXGR7Mn0tXGR7Mn0gXGR7Mn06XGR7Mn06XGR7Mn0kLy50ZXN0KHMpKSBzID0gcy5yZXBsYWNlKCcgJywgJ1QnKTsKICAgICAgaWYgKC9eXGR7NH1cL1xkezJ9XC9cZHsyfSBcZHsyfTpcZHsyfTpcZHsyfSQvLnRlc3QocykpIHMgPSBzLnJlcGxhY2UoJyAnLCAnVCcpLnJlcGxhY2UoL1wvL2csICctJyk7CiAgICAgIHZhciBkID0gbmV3IERhdGUocyk7CiAgICAgIGlmIChpc05hTihkLmdldFRpbWUoKSkpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gZDsKICAgIH0sCiAgICAvLyDlsIbnu5PmnZ/ml7bpl7TmoLzlvI/ljJbkuLogInl5eXktbW0tZGQgaGg6bW06c3MiCiAgICBmb3JtYXRFbmRUaW1lOiBmdW5jdGlvbiBmb3JtYXRFbmRUaW1lKGVuZERhdGUpIHsKICAgICAgdmFyIGQgPSBlbmREYXRlIGluc3RhbmNlb2YgRGF0ZSA/IGVuZERhdGUgOiBuZXcgRGF0ZShlbmREYXRlKTsKICAgICAgaWYgKGlzTmFOKGQuZ2V0VGltZSgpKSkgcmV0dXJuICcnOwoKICAgICAgdmFyIHBhZCA9IGZ1bmN0aW9uIHBhZChuKSB7CiAgICAgICAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4gOiAnJyArIG47CiAgICAgIH07CgogICAgICByZXR1cm4gIiIuY29uY2F0KGQuZ2V0RnVsbFllYXIoKSwgIi0iKS5jb25jYXQocGFkKGQuZ2V0TW9udGgoKSArIDEpLCAiLSIpLmNvbmNhdChwYWQoZC5nZXREYXRlKCkpLCAiICIpLmNvbmNhdChwYWQoZC5nZXRIb3VycygpKSwgIjoiKS5jb25jYXQocGFkKGQuZ2V0TWludXRlcygpKSwgIjoiKS5jb25jYXQocGFkKGQuZ2V0U2Vjb25kcygpKSk7CiAgICB9LAogICAgZm9ybWF0UmVtYWluaW5nVGltZTogZnVuY3Rpb24gZm9ybWF0UmVtYWluaW5nVGltZShlbmREYXRlKSB7CiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpOwogICAgICB2YXIgZGlmZiA9IGVuZERhdGUuZ2V0VGltZSgpIC0gbm93OwogICAgICBpZiAoZGlmZiA8PSAwKSByZXR1cm4gJ+W3sui/h+acnyc7CiAgICAgIHZhciBkYXlzID0gTWF0aC5mbG9vcihkaWZmIC8gKDI0ICogMzYwMCAqIDEwMDApKTsKICAgICAgZGlmZiAlPSAyNCAqIDM2MDAgKiAxMDAwOwogICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKGRpZmYgLyAoMzYwMCAqIDEwMDApKTsKICAgICAgZGlmZiAlPSAzNjAwICogMTAwMDsKICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmYgLyAoNjAgKiAxMDAwKSk7CgogICAgICB2YXIgcGFkID0gZnVuY3Rpb24gcGFkKG4pIHsKICAgICAgICByZXR1cm4gbiA8IDEwID8gJzAnICsgbiA6ICcnICsgbjsKICAgICAgfTsKCiAgICAgIHZhciBmbXRFbmQgPSAiIi5jb25jYXQoZW5kRGF0ZS5nZXRGdWxsWWVhcigpLCAiLSIpLmNvbmNhdChwYWQoZW5kRGF0ZS5nZXRNb250aCgpICsgMSksICItIikuY29uY2F0KHBhZChlbmREYXRlLmdldERhdGUoKSksICIgIikuY29uY2F0KHBhZChlbmREYXRlLmdldEhvdXJzKCkpLCAiOiIpLmNvbmNhdChwYWQoZW5kRGF0ZS5nZXRNaW51dGVzKCkpLCAiOiIpLmNvbmNhdChwYWQoZW5kRGF0ZS5nZXRTZWNvbmRzKCkpKTsKICAgICAgcmV0dXJuICIiLmNvbmNhdChkYXlzLCAiXHU1OTI5IikuY29uY2F0KGhvdXJzLCAiXHU1QzBGXHU2NUY2IikuY29uY2F0KG1pbnV0ZXMsICJcdTUyMDZcdTk0OUZcdUZGMDhcdTg5RTNcdTc5ODFcdTY1RjZcdTk1RjQ6ICIpLmNvbmNhdChmbXRFbmQsICJcdUZGMDkiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"width: 100%; min-height: 100vh; padding: 0 10px; boxSizing: border-box;\">\r\n    <!-- 固定的黑名单状态Header -->\r\n    <div style=\"\r\n      position: sticky;\r\n      top: 0;\r\n      z-index: 100;\r\n      width: 100%;\r\n      padding: 15px 20px;\r\n      margin: 10px auto 20px;\r\n      border-radius: 27px;\r\n      background: #f8f9fa;\r\n      box-shadow: 0px 4px 10px 0px rgba(0,0,0,0.1);\r\n      box-sizing: border-box;\r\n    \" class=\"blacklist-header\">\r\n      <div style=\"display: flex; align-items: center; justify-content: space-between;\">\r\n        <div style=\"font-size: 16px; font-weight: 600; color: #333;\">\r\n          当前黑名单状态：\r\n          <el-tag :type=\"isInBlacklist ? 'danger' : 'success'\" size=\"medium\">\r\n            {{ isInBlacklist ? '已列入黑名单' : '正常状态' }}\r\n          </el-tag>\r\n        </div>\r\n        <div v-if=\"isInBlacklist\" style=\"font-size: 14px; color: #e64340;\">\r\n          解禁时间：{{ banEndTime }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 面包屑 -->\r\n    <div :style='{\"width\":\"100%\",\"padding\":\"20px\",\"margin\":\"10px auto\",\"borderRadius\":\"27px\",\"background\":\"#bfd2fc\",\"boxSizing\":\"border-box\"}' class=\"breadcrumb-preview\">\r\n      <el-breadcrumb :separator=\"'Ξ'\" :style='{\"fontSize\":\"14px\",\"lineHeight\":\"1\"}'>\r\n        <el-breadcrumb-item @click=\"$router.push('/index/home')\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>违规记录</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <!-- 列表容器 -->\r\n    <div class=\"list-preview\" :style='{\"width\":\"100%\",\"boxShadow\":\"0px 4px 10px 0px rgba(0,0,0,0.302)\",\"margin\":\"20px auto\",\"position\":\"relative\",\"background\":\"#fff\",\"boxSizing\":\"border-box\",\"padding\":\"0 10px\"}'>\r\n\r\n      <!-- 违规记录表格 -->\r\n      <el-table\r\n          class=\"custom-table\"\r\n          :stripe=\"false\"\r\n          :style=\"{\r\n          padding: '0',\r\n          boxShadow: '0px 4px 10px 0px rgba(0,0,0,0.3020)',\r\n          borderColor: '#eee',\r\n          borderRadius: '8px',\r\n          borderWidth: '1px 0 0 1px',\r\n          background: '#fff',\r\n          width: '100%',\r\n          margin: '20px auto',\r\n          borderStyle: 'solid',\r\n          height: 'fit-content',\r\n          boxSizing: 'border-box',\r\n          overflow: 'visible',\r\n        }\"\r\n          :data=\"violationList\"\r\n          v-loading=\"dataListLoading\"\r\n          border\r\n      >\r\n        <el-table-column\r\n            type=\"index\"\r\n            label=\"索引\"\r\n            width=\"80\"\r\n            align=\"center\"\r\n            class-name=\"index-column\"\r\n        >\r\n          <template #default=\"{ $index }\">\r\n            <span class=\"index-badge\">{{ $index + 1 }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"xuehao\"\r\n            label=\"学号\"\r\n            min-width=\"120\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            {{ row.xuehao }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"xingming\"\r\n            label=\"姓名\"\r\n            min-width=\"120\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            {{ row.xingming }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"weiguileixing\"\r\n            label=\"违规类型\"\r\n            min-width=\"120\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"getViolationTagType(row.weiguileixing)\">\r\n              {{ row.weiguileixing }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"weiguiTime\"\r\n            label=\"违规时间\"\r\n            min-width=\"160\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            {{ row.weiguiTime || \"-\" }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"weiguiZixishi\"\r\n            label=\"违规自习室\"\r\n            min-width=\"120\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            {{ row.weiguiZixishi || \"-\" }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"weiguiXiangqing\"\r\n            label=\"违规详情\"\r\n            min-width=\"180\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <div class=\"remark-box\" :title=\"row.weiguiXiangqing\">\r\n              {{ row.weiguiXiangqing || \"无\" }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"shensuHandleStatus\"\r\n            label=\"申诉处理状态\"\r\n            min-width=\"120\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"getShensuHandleTagType(row.shensuHandleStatus)\">\r\n              {{ row.shensuHandleStatus || '未处理' }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 操作列 -->\r\n        <el-table-column\r\n            label=\"操作\"\r\n            min-width=\"100\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <div style=\"display: flex; gap: 6px; justify-content: center; align-items: center; flex-wrap: wrap;\">\r\n              <el-button\r\n                  type=\"warning\"\r\n                  size=\"mini\"\r\n                  icon=\"el-icon-circle-check\"\r\n                  @click=\"toShensu(row)\"\r\n                  :disabled=\"row.shensuStatus === '已申诉'\"\r\n                  :style=\"{\r\n                    borderRadius: '4px',\r\n                    padding: '0 10px',\r\n                    height: '32px',\r\n                    lineHeight: '32px',\r\n                    transition: 'all 0.2s',\r\n                    borderColor: row.shensuStatus === '已申诉' ? '#ccc' : '#E6A23C',\r\n                    background: row.shensuStatus === '已申诉' ? '#f5f5f5' : '#E6A23C',\r\n                    color: row.shensuStatus === '已申诉' ? '#999' : '#fff'\r\n                  }\"\r\n              >{{ row.shensuStatus === '已申诉' ? '已申诉' : '申诉' }}</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n          @size-change=\"sizeChangeHandle\"\r\n          @current-change=\"currentChangeHandle\"\r\n          :current-page=\"pageIndex\"\r\n          background\r\n          :page-sizes=\"[10, 20, 30, 50]\"\r\n          :page-size=\"pageSize\"\r\n          :layout=\"layouts.join()\"\r\n          :total=\"total\"\r\n          prev-text=\"<\"\r\n          next-text=\">\"\r\n          :hide-on-single-page=\"true\"\r\n          :style=\"{\r\n          width: '100%',\r\n          padding: '20px 0',\r\n          margin: '0 auto',\r\n          whiteSpace: 'nowrap',\r\n          color: '#333',\r\n          fontWeight: '500',\r\n          textAlign: 'center',\r\n          boxSizing: 'border-box',\r\n        }\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isInBlacklist: false,\r\n      banEndTime: \"\",\r\n      searchForm: { xuehao: '', weiguileixing: '' },\r\n      violationList: [],\r\n      pageIndex: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      dataListLoading: false,\r\n      layouts: [\"total\", \"prev\", \"pager\", \"next\", \"sizes\", \"jumper\"],\r\n      weiguileixingOptions: \"大声喧哗,未签到,教室乱吃乱喝,迟到签到,未签退,多次取消,占座超时,违规占位\".split(\",\"),\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchBlacklistStatus();\r\n    this.fetchViolationList();\r\n  },\r\n  methods: {\r\n    getViolationTagType(type) {\r\n      const typeMap = {\r\n        \"大声喧哗\": \"warning\",\r\n        \"未签到\": \"danger\",\r\n        \"教室乱吃乱喝\": \"danger\",\r\n        \"迟到签到\": \"warning\",\r\n        \"未签退\": \"danger\",\r\n        \"多次取消\": \"info\",\r\n        \"占座超时\": \"danger\",\r\n        \"违规占位\": \"danger\"\r\n      };\r\n      return typeMap[type] || \"info\";\r\n    },\r\n    getShensuHandleTagType(status) {\r\n      const statusMap = { \"未处理\": \"default\", \"处理中\": \"warning\", \"已处理\": \"success\" };\r\n      return statusMap[status] || \"default\";\r\n    },\r\n\r\n    search() {\r\n      this.pageIndex = 1;\r\n      this.fetchViolationList();\r\n    },\r\n    sizeChangeHandle(val) {\r\n      this.pageSize = val;\r\n      this.pageIndex = 1;\r\n      this.fetchViolationList();\r\n    },\r\n    currentChangeHandle(val) {\r\n      this.pageIndex = val;\r\n      this.fetchViolationList();\r\n    },\r\n    toShensu(row) {\r\n      localStorage.setItem(\"currentWeiguiObj\", JSON.stringify(row));\r\n      this.$router.push('/index/weiguiShensu');\r\n      this.$message.success(`正在跳转到【${row.xuehao}】的申诉页面`);\r\n      row.shensuStatus = \"已申诉\";\r\n    },\r\n\r\n    getCurrentXuehao() {\r\n      try { console.log('[DEBUG] localStorage keys:', Object.keys(localStorage)); } catch (e) {}\r\n      const tryKeys = ['currentUser','user','userInfo','userinfo','loginUser','xuehao','XUEHAO','userInfoRes','loginInfo','username','adminName'];\r\n      for (const k of tryKeys) {\r\n        const v = localStorage.getItem(k);\r\n        if (!v) continue;\r\n        try {\r\n          const parsed = JSON.parse(v);\r\n          if (typeof parsed === 'string' || typeof parsed === 'number') {\r\n            const s = String(parsed).trim();\r\n            if (/^\\d{6,12}$/.test(s)) return s;\r\n          }\r\n          const findX = (obj) => {\r\n            if (!obj || typeof obj !== 'object') return null;\r\n            const candidates = ['xuehao','xueHao','studentId','username','id','userId'];\r\n            for (const c of candidates) if (obj[c]) return obj[c];\r\n            for (const key of Object.keys(obj)) {\r\n              try { const res = findX(obj[key]); if (res) return res; } catch(e){}\r\n            }\r\n            return null;\r\n          };\r\n          const found = findX(parsed);\r\n          if (found) return String(found);\r\n        } catch (e) {\r\n          const s = v.trim();\r\n          if (/^\\d{6,12}$/.test(s)) return s;\r\n        }\r\n      }\r\n      const direct = localStorage.getItem('xuehao') || localStorage.getItem('XUEHAO');\r\n      if (direct && /^\\d{6,12}$/.test(String(direct).trim())) return String(direct).trim();\r\n      const token = localStorage.getItem('Token') || localStorage.getItem('token') || localStorage.getItem('Authorization');\r\n      if (token) {\r\n        try {\r\n          const raw = token.split(' ')[1] || token;\r\n          const payload = raw.split('.')[1];\r\n          if (payload) {\r\n            const json = JSON.parse(atob(payload.replace(/-/g,'+').replace(/_/g,'/')));\r\n            const candidates = json.xuehao || json.username || json.studentId || json.userId;\r\n            if (candidates) return String(candidates);\r\n          }\r\n        } catch(e){}\r\n      }\r\n      console.warn('未能从 localStorage 中识别出当前用户学号');\r\n      return null;\r\n    },\r\n\r\n    getAuthHeaders() {\r\n      const token = localStorage.getItem('Token') || localStorage.getItem('token') || localStorage.getItem('Authorization') || '';\r\n      const headers = {};\r\n      if (token) {\r\n        headers['Authorization'] = token.startsWith('Bearer ') ? token : `Bearer ${token}`;\r\n        headers['Token'] = token;\r\n      }\r\n      return headers;\r\n    },\r\n\r\n    // 格式化后端可能返回的各种时间类型（数组/数字/字符串/Date）\r\n    formatAnyTime(val) {\r\n      if (!val && val !== 0) return '';\r\n      if (Array.isArray(val)) {\r\n        const arr = val.map(v => String(v).padStart(2, '0'));\r\n        if (arr.length >= 6) return `${arr[0]}-${arr[1]}-${arr[2]} ${arr[3]}:${arr[4]}:${arr[5]}`;\r\n        return arr.join('-');\r\n      }\r\n      if (typeof val === 'number') {\r\n        if (String(val).length === 10) return new Date(val * 1000).toISOString().replace('T',' ').slice(0,19);\r\n        return new Date(val).toISOString().replace('T',' ').slice(0,19);\r\n      }\r\n      if (val instanceof Object && !(val instanceof Date)) {\r\n        try {\r\n          const asStr = String(val);\r\n          if (asStr && asStr.indexOf('[') === 0) return asStr;\r\n          return asStr;\r\n        } catch (e) {}\r\n      }\r\n      try {\r\n        const s = String(val).trim();\r\n        if (/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/.test(s)) return s.replace('T',' ').slice(0,19);\r\n        return s;\r\n      } catch (e) {\r\n        return String(val);\r\n      }\r\n    },\r\n\r\n    // 从后端加载当前学生的违规列表（只显示当前登录学号的记录）\r\n    async fetchViolationList() {\r\n      const xuehao = this.getCurrentXuehao();\r\n      console.log('[DEBUG] fetchViolationList 使用学号：', xuehao);\r\n      if (!xuehao) {\r\n        this.violationList = [];\r\n        this.total = 0;\r\n        return;\r\n      }\r\n\r\n      this.dataListLoading = true;\r\n      try {\r\n        const resp = await axios.get('/api/weigui/list', {\r\n          params: {\r\n            page: this.pageIndex,\r\n            size: this.pageSize,\r\n            xuehao: xuehao,\r\n            weiguiLeixing: this.searchForm.weiguileixing || undefined\r\n          },\r\n          headers: this.getAuthHeaders(),\r\n          withCredentials: true\r\n        });\r\n\r\n        console.log('[DEBUG] /api/weigui/list 响应：', resp && resp.data);\r\n\r\n        const data = resp && resp.data;\r\n        const records = Array.isArray(data.data) ? data.data : (data.data && data.data.records) || [];\r\n        this.total = data.total || (data.data && data.data.total) || records.length || 0;\r\n\r\n        const mapped = records.map(r => {\r\n          const getField = (...names) => {\r\n            for (const n of names) {\r\n              if (r[n] !== undefined && r[n] !== null) return r[n];\r\n            }\r\n            return null;\r\n          };\r\n          const rawType = getField('weiguileixingName', 'weiguiLeixing', 'weiguileixing', 'weiguileixingName') || '';\r\n          const rawTime = getField('weiguiShijian', 'weigui_shijian', 'addtime', 'addTime');\r\n          return {\r\n            id: getField('id'),\r\n            xuehao: getField('xuehao') || xuehao,\r\n            xingming: getField('xingming') || '',\r\n            weiguileixing: rawType,\r\n            weiguiTime: this.formatAnyTime(rawTime),\r\n            weiguiZixishi: getField('zixishiMingcheng', 'zixishi_mingcheng') || '',\r\n            weiguiXiangqing: getField('weiguiBeizhu', 'weigui_beizhu', 'otherWeiguiDesc') || '',\r\n            shensuStatus: getField('shensuStatus') || '未申诉',\r\n            shensuHandleStatus: getField('shensuHandleStatus') || '未处理'\r\n          };\r\n        });\r\n\r\n        this.violationList = mapped;\r\n      } catch (err) {\r\n        console.error('fetchViolationList 出错：', err);\r\n        this.violationList = [];\r\n        this.total = 0;\r\n      } finally {\r\n        this.dataListLoading = false;\r\n      }\r\n    },\r\n\r\n    // 黑名单：只展示“解禁时间”（不做实时倒计时）\r\n    async fetchBlacklistStatus() {\r\n      const xuehao = this.getCurrentXuehao();\r\n      if (!xuehao) { this.isInBlacklist = false; this.banEndTime = \"\"; return; }\r\n      try {\r\n        const resp = await axios.get('/api/heimingdan/list', {\r\n          params: { xuehao, page: 1, size: 10 },\r\n          headers: this.getAuthHeaders(),\r\n          withCredentials: true\r\n        });\r\n        const data = resp && resp.data;\r\n        if (!data || data.code !== 0) { this.isInBlacklist = false; this.banEndTime = \"\"; return; }\r\n        const records = (data.data && data.data.records) || [];\r\n        if (!records.length) { this.isInBlacklist = false; this.banEndTime = \"\"; return; }\r\n\r\n        const now = Date.now();\r\n        let active = null;\r\n        for (const r of records) {\r\n          const endStr = r.heimingdanEndTime || r.heimingdan_end_time || r.endTime || r.end_time || r.heimingdan_end;\r\n          if (!endStr) { active = { record: r, endDate: null }; break; }\r\n          const endDate = this.parseDateStr(endStr);\r\n          if (!endDate) continue;\r\n          if (endDate.getTime() > now) { active = { record: r, endDate }; break; }\r\n        }\r\n\r\n        if (active) {\r\n          this.isInBlacklist = true;\r\n          if (!active.endDate) {\r\n            this.banEndTime = '长期封禁';\r\n          } else {\r\n            this.banEndTime = this.formatEndTime(active.endDate);\r\n          }\r\n        } else {\r\n          this.isInBlacklist = false;\r\n          this.banEndTime = \"\";\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n        this.isInBlacklist = false;\r\n        this.banEndTime = \"\";\r\n      }\r\n    },\r\n\r\n    parseDateStr(str) {\r\n      if (!str && str !== 0) return null;\r\n      if (str instanceof Date) return str;\r\n      if (typeof str === 'number') return new Date(str);\r\n      if (Array.isArray(str)) {\r\n        const arr = str.map(n => Number(n));\r\n        if (arr.length >= 6) return new Date(arr[0], arr[1] - 1, arr[2], arr[3], arr[4], arr[5]);\r\n        return null;\r\n      }\r\n      let s = String(str).trim();\r\n      if (/^\\d{10}$/.test(s)) return new Date(Number(s) * 1000);\r\n      if (/^\\d{13}$/.test(s)) return new Date(Number(s));\r\n      if (/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/.test(s)) s = s.replace(' ', 'T');\r\n      if (/^\\d{4}\\/\\d{2}\\/\\d{2} \\d{2}:\\d{2}:\\d{2}$/.test(s)) s = s.replace(' ', 'T').replace(/\\//g, '-');\r\n      const d = new Date(s);\r\n      if (isNaN(d.getTime())) return null;\r\n      return d;\r\n    },\r\n\r\n    // 将结束时间格式化为 \"yyyy-mm-dd hh:mm:ss\"\r\n    formatEndTime(endDate) {\r\n      const d = endDate instanceof Date ? endDate : new Date(endDate);\r\n      if (isNaN(d.getTime())) return '';\r\n      const pad = (n) => (n < 10 ? '0' + n : '' + n);\r\n      return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\r\n    },\r\n\r\n    formatRemainingTime(endDate) {\r\n      const now = Date.now();\r\n      let diff = endDate.getTime() - now;\r\n      if (diff <= 0) return '已过期';\r\n      const days = Math.floor(diff / (24 * 3600 * 1000));\r\n      diff %= 24 * 3600 * 1000;\r\n      const hours = Math.floor(diff / (3600 * 1000));\r\n      diff %= 3600 * 1000;\r\n      const minutes = Math.floor(diff / (60 * 1000));\r\n      const pad = n => (n < 10 ? '0' + n : '' + n);\r\n      const fmtEnd = `${endDate.getFullYear()}-${pad(endDate.getMonth() + 1)}-${pad(endDate.getDate())} ${pad(endDate.getHours())}:${pad(endDate.getMinutes())}:${pad(endDate.getSeconds())}`;\r\n      return `${days}天${hours}小时${minutes}分钟（解禁时间: ${fmtEnd}）`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\n// 黑名单header样式\r\n.blacklist-header {\r\n  .el-tag {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n\r\n// 复用原页面样式\r\n.breadcrumb-preview .el-breadcrumb >>> .el-breadcrumb__separator {\r\n  margin: 0 9px;\r\n  color: #000;\r\n  font-weight: 500;\r\n}\r\n.breadcrumb-preview .el-breadcrumb >>> .el-breadcrumb__inner {\r\n  color: #000;\r\n  display: inline-block;\r\n  cursor: pointer; /* 添加鼠标指针，提示可点击 */\r\n}\r\n.breadcrumb-preview .el-breadcrumb >>> .el-breadcrumb__inner a {\r\n  color: #000;\r\n  text-decoration: none;\r\n}\r\n\r\n.custom-table {\r\n  border-radius: 8px;\r\n  overflow: visible !important;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n  transition: all 0.3s ease;\r\n\r\n  .el-table__header-wrapper {\r\n    th {\r\n      background: #f8f9fa;\r\n      color: #495057;\r\n      font-weight: 600;\r\n      font-size: 14px;\r\n      border-bottom: 2px solid #e9ecef !important;\r\n      padding: 12px 0;\r\n    }\r\n  }\r\n\r\n  .el-table__body-wrapper {\r\n    overflow: visible !important;\r\n    .el-table__row {\r\n      transition: all 0.3s ease;\r\n      &:hover {\r\n        background: #f1f3f5;\r\n      }\r\n      td {\r\n        border-color: #e9ecef !important;\r\n        padding: 12px 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .index-column .index-badge {\r\n    display: inline-block;\r\n    width: 24px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    border-radius: 50%;\r\n    background: #93c7b3;\r\n    color: white;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .text-ellipsis {\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .remark-box {\r\n    padding: 4px 8px;\r\n    background: #f8f9fa;\r\n    border-radius: 4px;\r\n    font-size: 13px;\r\n    max-width: 200px;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n\r\n.center-form-pv {\r\n  .el-input, .el-select {\r\n    width: 100%;\r\n  }\r\n  .el-input__inner {\r\n    border: 1px solid #78abc3;\r\n    border-radius: 4px;\r\n    padding: 0 12px;\r\n    box-shadow: 0px 2px 2px 0px #78abc3;\r\n    outline: none;\r\n    color: #000;\r\n    font-size: 14px;\r\n    height: 40px;\r\n  }\r\n  .el-select .el-input__inner {\r\n    border: 1px solid #78abc3;\r\n    border-radius: 4px;\r\n    padding: 0 10px;\r\n    box-shadow: 0px 2px 2px 0px #78abc3;\r\n    outline: none;\r\n    color: #000;\r\n    font-size: 14px;\r\n    height: 40px;\r\n  }\r\n}\r\n\r\n.el-pagination >>> {\r\n  .el-pagination__total {\r\n    margin: 0 10px 0 0;\r\n    color: #666;\r\n    font-weight: 400;\r\n  }\r\n  .el-pager .number {\r\n    cursor: pointer;\r\n    padding: 0 4px;\r\n    margin: 0 5px;\r\n    color: #666;\r\n    background: #f4f4f5;\r\n    min-width: 30px;\r\n    height: 28px;\r\n    line-height: 28px;\r\n    border-radius: 2px;\r\n  }\r\n  .el-pager .number:hover, .el-pager .number.active {\r\n    background: #2e61e1;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n.el-button:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n// 响应式适配\r\n@media (max-width: 768px) {\r\n  .el-table-column--label {\r\n    min-width: 80px !important;\r\n  }\r\n  .el-table-column__content {\r\n    font-size: 12px;\r\n  }\r\n  .el-button {\r\n    font-size: 12px;\r\n    padding: 0 8px !important;\r\n  }\r\n  .blacklist-header {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    align-items: flex-start !important;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/pages/weigui"}]}