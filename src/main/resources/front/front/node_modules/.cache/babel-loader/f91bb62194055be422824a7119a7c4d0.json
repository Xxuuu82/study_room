{"remainingRequest":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\zixishi\\add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\zixishi\\add.vue","mtime":1765881868102},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L05CVS9qdW5pb3IvMS9zb2Z0d2FyZSBlbmdpbmVlcmluZy9zdHVkeV9yb29tL3NyYy9tYWluL3Jlc291cmNlcy9mcm9udC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiAnJywKICAgICAgYmFzZVVybDogJycsCiAgICAgIHJvOiB7CiAgICAgICAgbWluZ2NoZW5nOiBmYWxzZSwKICAgICAgICB0dXBpYW46IGZhbHNlLAogICAgICAgIGd1aW1vOiBmYWxzZSwKICAgICAgICB6dW93ZWk6IGZhbHNlLAogICAgICAgIHdlaXpoaTogZmFsc2UsCiAgICAgICAgc2hlc2hpOiBmYWxzZSwKICAgICAgICBrZXl1ZXNoaWppYW46IGZhbHNlLAogICAgICAgIHNoaWZvdXlvdWtlOiBmYWxzZSwKICAgICAgICB4aWFuZ3Fpbmc6IGZhbHNlCiAgICAgIH0sCiAgICAgIHR5cGU6ICcnLAogICAgICB1c2VyVGFibGVOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnVXNlclRhYmxlTmFtZScpIHx8ICd4dWVzaGVuZycsCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgbWluZ2NoZW5nOiAnJywKICAgICAgICB0dXBpYW46ICcnLAogICAgICAgIGd1aW1vOiAnJywKICAgICAgICB6dW93ZWk6ICcyMCcsCiAgICAgICAgd2VpemhpOiAnJywKICAgICAgICBzaGVzaGk6ICcnLAogICAgICAgIGtleXVlc2hpamlhbjogJycsCiAgICAgICAgc2hpZm91eW91a2U6ICfmmK8nLAogICAgICAgIHhpYW5ncWluZzogJycKICAgICAgfSwKICAgICAgZ3VpbW9PcHRpb25zOiBbXSwKICAgICAgc2hpZm91eW91a2VPcHRpb25zOiBbXSwKICAgICAgcnVsZXM6IHsKICAgICAgICBtaW5nY2hlbmc6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflkI3np7DkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgenVvd2VpOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB0aGlzLiR2YWxpZGF0ZSA/IHRoaXMuJHZhbGlkYXRlLmlzSW50TnVtZXIgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHdlaXpoaTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+S9jee9ruS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyBhcHBvaW50bWVudCBjb250cm9scwogICAgICBzdGFydERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCksCiAgICAgIHN0YXJ0VGltZTogJycsCiAgICAgIC8vICdISDptbScKICAgICAgZW5kVGltZTogJycsCiAgICAgIC8vIHJlYWN0aXZlIGVhcmxpZXN0IHN0YXJ0IGNvbXB1dGVkIGZyb20gYnJvd3NlciB0aW1lOyByZWZyZXNoIG9uIGZvY3VzIG9yIGRhdGUgY2hhbmdlCiAgICAgIGVhcmxpZXN0U3RhcnRGb3JQaWNrZXI6ICcnLAogICAgICBzZXNzaW9uVXNlcjoge30KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGltZVN0YXJ0T3B0aW9uczogZnVuY3Rpb24gdGltZVN0YXJ0T3B0aW9ucygpIHsKICAgICAgdmFyIG9wZW5TdGFydCA9ICcwODowMCc7CiAgICAgIHZhciBsYXN0U3RhcnQgPSAnMjE6MzAnOyAvLyDlpoLmnpzpgInmi6nnmoTmmK/ku4rlpKkKCiAgICAgIGlmICh0aGlzLnN0YXJ0RGF0ZSA9PT0gdGhpcy5fdG9kYXlTdHIoKSkgewogICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwoKICAgICAgICB2YXIgcm91bmRlZE5vdyA9IHRoaXMuX3JvdW5kVXBUbzMwKG5vdyk7CgogICAgICAgIHZhciBtaW5BdmFpbGFibGUgPSB0aGlzLl90aW1lU3RyRnJvbURhdGUocm91bmRlZE5vdyk7IC8vIOWmguaenOW9k+WJjeaXtumXtOW3sue7j+i/h+S6hiAyMTozMO+8jOWImeS7iuWkqeaXoOazlemihOe6pgoKCiAgICAgICAgaWYgKHRoaXMuX3RpbWVTdHJUb01pbnV0ZXMobWluQXZhaWxhYmxlKSA+IHRoaXMuX3RpbWVTdHJUb01pbnV0ZXMobGFzdFN0YXJ0KSkgewogICAgICAgICAgb3BlblN0YXJ0ID0gJzIzOjU5JzsgLy8g5L2/5b6X5YiX6KGo5Li656m6CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWPliAwODowMCDlkozlvZPliY3lj5bmlbTml7bpl7TkuK3nmoTovoPlpKfogIUKICAgICAgICAgIG9wZW5TdGFydCA9IHRoaXMuX3RpbWVTdHJUb01pbnV0ZXMobWluQXZhaWxhYmxlKSA+IHRoaXMuX3RpbWVTdHJUb01pbnV0ZXMob3BlblN0YXJ0KSA/IG1pbkF2YWlsYWJsZSA6IG9wZW5TdGFydDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhcnQ6IG9wZW5TdGFydCwKICAgICAgICBzdGVwOiAnMDA6MzAnLAogICAgICAgIGVuZDogbGFzdFN0YXJ0CiAgICAgIH07CiAgICB9LAogICAgdGltZUVuZE9wdGlvbnM6IGZ1bmN0aW9uIHRpbWVFbmRPcHRpb25zKCkgewogICAgICB2YXIgb3BlbkVuZCA9ICcyMjowMCc7IC8vIOe7k+adn+aXtumXtOiHs+WwkeavlOW8gOWni+aXtumXtOaZmiAzMCDliIbpkp8KCiAgICAgIHZhciBzdGFydExpbWl0ID0gdGhpcy5zdGFydFRpbWUgPyB0aGlzLl9hZGRNaW51dGVzVG9UaW1lU3RyKHRoaXMuc3RhcnRUaW1lLCAzMCkgOiAnMDg6MzAnOwogICAgICByZXR1cm4gewogICAgICAgIHN0YXJ0OiBzdGFydExpbWl0LAogICAgICAgIHN0ZXA6ICcwMDozMCcsCiAgICAgICAgZW5kOiBvcGVuRW5kLAogICAgICAgIG1pblRpbWU6IHRoaXMuc3RhcnRUaW1lCiAgICAgIH07CiAgICB9CiAgfSwKICB0aW1lRW5kT3B0aW9uczogZnVuY3Rpb24gdGltZUVuZE9wdGlvbnMoKSB7CiAgICB2YXIgb3BlbkVuZCA9ICcyMjowMCc7CgogICAgaWYgKHRoaXMuc3RhcnRUaW1lKSB7CiAgICAgIHZhciBzID0gdGhpcy5fYWRkTWludXRlc1RvVGltZVN0cih0aGlzLnN0YXJ0VGltZSwgMzApOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBzdGFydDogcywKICAgICAgICBzdGVwOiAnMDA6MzAnLAogICAgICAgIGVuZDogb3BlbkVuZAogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gdXNlIGVhcmxpZXN0U3RhcnRGb3JQaWNrZXIgYXMgYmFzaXMKICAgICAgaWYgKHRoaXMuc3RhcnREYXRlID09PSB0aGlzLl90b2RheVN0cigpKSB7CiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLmVhcmxpZXN0U3RhcnRGb3JQaWNrZXIgJiYgdGhpcy5lYXJsaWVzdFN0YXJ0Rm9yUGlja2VyLmxlbmd0aCA/IHRoaXMuZWFybGllc3RTdGFydEZvclBpY2tlciA6ICcwODowMCc7CgogICAgICAgIHZhciBfcyA9IHRoaXMuX2FkZE1pbnV0ZXNUb1RpbWVTdHIoYmFzZSwgMzApOwoKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3RhcnQ6IF9zLAogICAgICAgICAgc3RlcDogJzAwOjMwJywKICAgICAgICAgIGVuZDogb3BlbkVuZAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXJ0OiAnMDg6MzAnLAogICAgICAgICAgc3RlcDogJzAwOjMwJywKICAgICAgICAgIGVuZDogb3BlbkVuZAogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciB0eXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZSA/IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgOiAnJzsKICAgIHRoaXMuaW5pdCh0eXBlKTsKICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuJGNvbmZpZyA/IHRoaXMuJGNvbmZpZy5iYXNlVXJsIDogJyc7CiAgICB0aGlzLnJlZnJlc2hFYXJsaWVzdFN0YXJ0KCk7IC8vIGluaXRpYWxpemUgZWFybGllc3QKICAgIC8vIHNlc3Npb24gdXNlcgoKICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMudXNlclRhYmxlTmFtZSArICcvc2Vzc2lvbicsIHsKICAgICAgZW11bGF0ZUpTT046IHRydWUKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgX3RoaXMuc2Vzc2lvblVzZXIgPSByZXMuZGF0YS5kYXRhIHx8IHt9OwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7IC8vIHByZWZpbGwgZnJvbSBhdmFpbGFiaWxpdHlTZWxlY3Rpb24gaWYgZXhpc3RzCgogICAgdmFyIHBpY2tSYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXZhaWxhYmlsaXR5U2VsZWN0aW9uJyk7CgogICAgaWYgKHBpY2tSYXcpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgcGljayA9IEpTT04ucGFyc2UocGlja1Jhdyk7CgogICAgICAgIGlmIChwaWNrICYmIHBpY2suc3RhcnQgJiYgcGljay5lbmQpIHsKICAgICAgICAgIHZhciBzID0gcGljay5zdGFydC5zcGxpdCgnICcpOwogICAgICAgICAgdmFyIGUgPSBwaWNrLmVuZC5zcGxpdCgnICcpOwogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBzWzBdOwogICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBzWzFdID8gc1sxXS5zbGljZSgwLCA1KSA6ICcnOwogICAgICAgICAgdGhpcy5lbmRUaW1lID0gZVsxXSA/IGVbMV0uc2xpY2UoMCwgNSkgOiAnJzsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc3RhcnREYXRlOiBmdW5jdGlvbiBzdGFydERhdGUoKSB7CiAgICAgIC8vIHJlZnJlc2ggZWFybGllc3Qgd2hlbiBkYXRlIGNoYW5nZXMKICAgICAgdGhpcy5yZWZyZXNoRWFybGllc3RTdGFydCgpOyAvLyByZXNldCBlbmRUaW1lIHNvIHVzZXIgcmVzZWxlY3QgaWYgbmVlZGVkCgogICAgICB0aGlzLmVuZFRpbWUgPSAnJzsgLy8gaWYgc3RhcnRUaW1lIGVhcmxpZXIgdGhhbiBlYXJsaWVzdFN0YXJ0LCBhZGp1c3QKCiAgICAgIGlmICh0aGlzLnN0YXJ0VGltZSAmJiB0aGlzLnN0YXJ0RGF0ZSA9PT0gdGhpcy5fdG9kYXlTdHIoKSkgewogICAgICAgIHZhciBlYXJsaWVzdE1pbiA9IHRoaXMuX3RpbWVTdHJUb01pbnV0ZXModGhpcy5lYXJsaWVzdFN0YXJ0Rm9yUGlja2VyIHx8ICcwODowMCcpOwoKICAgICAgICBpZiAodGhpcy5fdGltZVN0clRvTWludXRlcyh0aGlzLnN0YXJ0VGltZSkgPCBlYXJsaWVzdE1pbikgewogICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSB0aGlzLmVhcmxpZXN0U3RhcnRGb3JQaWNrZXI7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHR5cGUpIHsKICAgICAgdGhpcy50eXBlID0gdHlwZTsKCiAgICAgIGlmICh0eXBlID09ICdjcm9zcycpIHsKICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3Jvc3NPYmonKSB8fCAne30nKTsKCiAgICAgICAgaWYgKG9iai5taW5nY2hlbmcpIHsKICAgICAgICAgIHRoaXMucnVsZUZvcm0ubWluZ2NoZW5nID0gb2JqLm1pbmdjaGVuZzsKICAgICAgICAgIHRoaXMucm8ubWluZ2NoZW5nID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChvYmoudHVwaWFuKSB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtLnR1cGlhbiA9IG9iai50dXBpYW4gJiYgb2JqLnR1cGlhbi5zcGxpdCA/IG9iai50dXBpYW4uc3BsaXQoJywnKVswXSA6IG9iai50dXBpYW47CiAgICAgICAgICB0aGlzLnJvLnR1cGlhbiA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAob2JqLmd1aW1vKSB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtLmd1aW1vID0gb2JqLmd1aW1vOwogICAgICAgICAgdGhpcy5yby5ndWltbyA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAob2JqLnp1b3dlaSkgewogICAgICAgICAgdGhpcy5ydWxlRm9ybS56dW93ZWkgPSBvYmouenVvd2VpOwogICAgICAgICAgdGhpcy5yby56dW93ZWkgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9iai53ZWl6aGkpIHsKICAgICAgICAgIHRoaXMucnVsZUZvcm0ud2VpemhpID0gb2JqLndlaXpoaTsKICAgICAgICAgIHRoaXMucm8ud2VpemhpID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChvYmouc2hlc2hpKSB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtLnNoZXNoaSA9IG9iai5zaGVzaGk7CiAgICAgICAgICB0aGlzLnJvLnNoZXNoaSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAob2JqLmtleXVlc2hpamlhbikgewogICAgICAgICAgdGhpcy5ydWxlRm9ybS5rZXl1ZXNoaWppYW4gPSBvYmoua2V5dWVzaGlqaWFuOwogICAgICAgICAgdGhpcy5yby5rZXl1ZXNoaWppYW4gPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9iai5zaGlmb3V5b3VrZSkgewogICAgICAgICAgdGhpcy5ydWxlRm9ybS5zaGlmb3V5b3VrZSA9IG9iai5zaGlmb3V5b3VrZTsKICAgICAgICAgIHRoaXMucm8uc2hpZm91eW91a2UgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9iai54aWFuZ3FpbmcpIHsKICAgICAgICAgIHRoaXMucnVsZUZvcm0ueGlhbmdxaW5nID0gb2JqLnhpYW5ncWluZzsKICAgICAgICAgIHRoaXMucm8ueGlhbmdxaW5nID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZ3VpbW9PcHRpb25zID0gIuWkp+WeiyzkuK3lnoss5bCP5Z6LIi5zcGxpdCgnLCcpOwogICAgICB0aGlzLnNoaWZvdXlvdWtlT3B0aW9ucyA9ICLmmK8s5ZCmIi5zcGxpdCgnLCcpOwogICAgfSwKICAgIC8vIHJlZnJlc2ggZWFybGllc3Qgc3RhcnQgZnJvbSBicm93c2VyIChkeW5hbWljKQogICAgcmVmcmVzaEVhcmxpZXN0U3RhcnQ6IGZ1bmN0aW9uIHJlZnJlc2hFYXJsaWVzdFN0YXJ0KCkgewogICAgICAvLyBvbmx5IGNvbXB1dGUgd2hlbiBzdGFydERhdGUgaXMgdG9kYXk7IGVsc2Ugc2V0IGVtcHR5CiAgICAgIGlmICh0aGlzLnN0YXJ0RGF0ZSA9PT0gdGhpcy5fdG9kYXlTdHIoKSkgewogICAgICAgIHZhciByID0gdGhpcy5fcm91bmRVcFRvMzAobmV3IERhdGUoKSk7CgogICAgICAgIHRoaXMuZWFybGllc3RTdGFydEZvclBpY2tlciA9IHRoaXMuX3RpbWVTdHJGcm9tRGF0ZShyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVhcmxpZXN0U3RhcnRGb3JQaWNrZXIgPSAnJzsKICAgICAgfQogICAgfSwKICAgIF90b2RheVN0cjogZnVuY3Rpb24gX3RvZGF5U3RyKCkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiBkLmdldEZ1bGxZZWFyKCkgKyAnLScgKyAoJzAnICsgKGQuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMikgKyAnLScgKyAoJzAnICsgZC5nZXREYXRlKCkpLnNsaWNlKC0yKTsKICAgIH0sCiAgICBfcm91bmRVcFRvMzA6IGZ1bmN0aW9uIF9yb3VuZFVwVG8zMChkKSB7CiAgICAgIHZhciBtID0gZC5nZXRNaW51dGVzKCk7CiAgICAgIHZhciBuZXdEYXRlID0gbmV3IERhdGUoZCk7CgogICAgICBpZiAobSA+IDAgJiYgbSA8PSAzMCkgewogICAgICAgIG5ld0RhdGUuc2V0TWludXRlcygzMCk7CiAgICAgIH0gZWxzZSBpZiAobSA+IDMwKSB7CiAgICAgICAgbmV3RGF0ZS5zZXRIb3VycyhkLmdldEhvdXJzKCkgKyAxKTsKICAgICAgICBuZXdEYXRlLnNldE1pbnV0ZXMoMCk7CiAgICAgIH0KCiAgICAgIG5ld0RhdGUuc2V0U2Vjb25kcygwKTsKICAgICAgbmV3RGF0ZS5zZXRNaWxsaXNlY29uZHMoMCk7CiAgICAgIHJldHVybiBuZXdEYXRlOwogICAgfSwKICAgIF9jdXJyZW50VGltZVN0cjogZnVuY3Rpb24gX2N1cnJlbnRUaW1lU3RyKCkgewogICAgICB2YXIgbiA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiAoJzAnICsgbi5nZXRIb3VycygpKS5zbGljZSgtMikgKyAiOiIgKyAoJzAnICsgbi5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTsKICAgIH0sCiAgICBfdGltZVN0ckZyb21EYXRlOiBmdW5jdGlvbiBfdGltZVN0ckZyb21EYXRlKGQpIHsKICAgICAgdmFyIGhoID0gKCcwJyArIGQuZ2V0SG91cnMoKSkuc2xpY2UoLTIpOwogICAgICB2YXIgbW0gPSAoJzAnICsgZC5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTsKICAgICAgcmV0dXJuICIiLmNvbmNhdChoaCwgIjoiKS5jb25jYXQobW0pOwogICAgfSwKICAgIC8vIOWIh+aNouaXpeacn+aXtu+8jOmHjee9ruaXtumXtOmYsuatouWGsueqgQogICAgb25EYXRlQ2hhbmdlOiBmdW5jdGlvbiBvbkRhdGVDaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5zdGFydFRpbWUgPSAnJzsKICAgICAgdGhpcy5lbmRUaW1lID0gJyc7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuc2V0RGVmYXVsdFN0YXJ0VGltZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXREZWZhdWx0U3RhcnRUaW1lOiBmdW5jdGlvbiBzZXREZWZhdWx0U3RhcnRUaW1lKCkgewogICAgICBpZiAodGhpcy50eXBlICE9PSAnY3Jvc3MnKSByZXR1cm47CgogICAgICB2YXIgZWFybGllc3QgPSB0aGlzLl9lYXJsaWVzdFN0YXJ0Rm9yRGF0ZSh0aGlzLnN0YXJ0RGF0ZSk7CgogICAgICB0aGlzLnN0YXJ0VGltZSA9IGVhcmxpZXN0OwogICAgICB0aGlzLmVuZFRpbWUgPSB0aGlzLl9hZGRNaW51dGVzVG9UaW1lU3RyKHRoaXMuc3RhcnRUaW1lLCAzMCk7CiAgICB9LAogICAgX2FkZE1pbnV0ZXNUb1RpbWVTdHI6IGZ1bmN0aW9uIF9hZGRNaW51dGVzVG9UaW1lU3RyKHRpbWVTdHIsIGFkZE1pbikgewogICAgICBpZiAoIXRpbWVTdHIpIHJldHVybiB0aW1lU3RyOwogICAgICB2YXIgcGFydHMgPSB0aW1lU3RyLnNwbGl0KCc6Jyk7CiAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgZC5zZXRIb3VycyhwYXJzZUludChwYXJ0c1swXSwgMTApLCBwYXJzZUludChwYXJ0c1sxXSwgMTApLCAwLCAwKTsKICAgICAgZC5zZXRNaW51dGVzKGQuZ2V0TWludXRlcygpICsgYWRkTWluKTsKICAgICAgcmV0dXJuICgnMCcgKyBkLmdldEhvdXJzKCkpLnNsaWNlKC0yKSArICc6JyArICgnMCcgKyBkLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpOwogICAgfSwKICAgIF90aW1lU3RyVG9NaW51dGVzOiBmdW5jdGlvbiBfdGltZVN0clRvTWludXRlcyh0aW1lU3RyKSB7CiAgICAgIHZhciBwID0gdGltZVN0ci5zcGxpdCgnOicpOwogICAgICByZXR1cm4gcGFyc2VJbnQocFswXSwgMTApICogNjAgKyBwYXJzZUludChwWzFdLCAxMCk7CiAgICB9LAogICAgdmFsaWRhdGVCZWZvcmVTdWJtaXQ6IGZ1bmN0aW9uIHZhbGlkYXRlQmVmb3JlU3VibWl0KHN0YXJ0RGF0ZVRpbWUsIGVuZERhdGVUaW1lKSB7CiAgICAgIHZhciBncmFuID0gMzA7CiAgICAgIHZhciBncmFuTXMgPSBncmFuICogNjAgKiAxMDAwOwoKICAgICAgaWYgKGVuZERhdGVUaW1lIDw9IHN0YXJ0RGF0ZVRpbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnu5PmnZ/ml7bpl7Tlv4XpobvmmZrkuo7lvIDlp4vml7bpl7QnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChzdGFydERhdGVUaW1lLmdldFNlY29uZHMoKSAhPT0gMCB8fCBzdGFydERhdGVUaW1lLmdldE1pbGxpc2Vjb25kcygpICE9PSAwIHx8IGVuZERhdGVUaW1lLmdldFNlY29uZHMoKSAhPT0gMCB8fCBlbmREYXRlVGltZS5nZXRNaWxsaXNlY29uZHMoKSAhPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+aKiuenkuWSjOavq+enkuiuvue9ruS4uiAwJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoc3RhcnREYXRlVGltZS5nZXRNaW51dGVzKCkgJSBncmFuICE9PSAwIHx8IGVuZERhdGVUaW1lLmdldE1pbnV0ZXMoKSAlIGdyYW4gIT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflvIDlp4sv57uT5p2f5pe26Ze05b+F6aG75Li6IDMwIOWIhumSn+eahOWAjeaVsO+8iOS+i+WmgiAwODowMCDmiJYgMDg6MzDvvIknKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwoKICAgICAgaWYgKHN0YXJ0RGF0ZVRpbWUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkgPT09IG5vdy50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSkgewogICAgICAgIHZhciByb3VuZGVkTm93TXMgPSBNYXRoLmNlaWwobm93LmdldFRpbWUoKSAvIGdyYW5NcykgKiBncmFuTXM7CgogICAgICAgIGlmIChzdGFydERhdGVUaW1lLmdldFRpbWUoKSA8IHJvdW5kZWROb3dNcykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigiXHU1RjUzXHU1OTI5XHU5ODg0XHU3RUE2XHU1RkM1XHU5ODdCXHU1NzI4XHU1RjUzXHU1MjREXHU2NUY2XHU5NUY0XHU0RTRCXHU1NDBFXHVGRjA4XHU2MzA5MzBcdTUyMDZcdTk0OUZcdTUzRDZcdTY1NzRcdUZGMDlcdUZGMEMiKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICgoZW5kRGF0ZVRpbWUuZ2V0VGltZSgpIC0gc3RhcnREYXRlVGltZS5nZXRUaW1lKCkpICUgZ3Jhbk1zICE9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6aKE57qm5pe26ZW/5b+F6aG75Li6IDMwIOWIhumSn+eahOWAjeaVsCcpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuJHJlZnNbInJ1bGVGb3JtIl0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RHQsIGVuZER0LCBjcm9zc09iaiwgcGF5bG9hZCwgcmVzLCBfcmVzOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMudHlwZSA9PT0gJ2Nyb3NzJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISghX3RoaXMzLnN0YXJ0RGF0ZSB8fCAhX3RoaXMzLnN0YXJ0VGltZSB8fCAhX3RoaXMzLmVuZFRpbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WFiOmAieaLqemihOe6puaXpeacn+S4juaXtumXtCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgZWFybGllc3QgY29tcHV0ZWQgZnJlc2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5yZWZyZXNoRWFybGllc3RTdGFydCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RHQgPSBuZXcgRGF0ZSgiIi5jb25jYXQoX3RoaXMzLnN0YXJ0RGF0ZSwgIiAiKS5jb25jYXQoX3RoaXMzLnN0YXJ0VGltZSwgIjowMCIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZER0ID0gbmV3IERhdGUoIiIuY29uY2F0KF90aGlzMy5zdGFydERhdGUsICIgIikuY29uY2F0KF90aGlzMy5lbmRUaW1lLCAiOjAwIikpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMudmFsaWRhdGVCZWZvcmVTdWJtaXQoc3RhcnREdCwgZW5kRHQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc09iaiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nyb3NzT2JqJykgfHwgJ3t9Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXhpc2hpaWQ6IGNyb3NzT2JqLmlkIHx8IGNyb3NzT2JqLnppeGlzaGlJZCB8fCBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6dW93ZWk6IHBhcnNlSW50KF90aGlzMy5ydWxlRm9ybS56dW93ZWkgfHwgY3Jvc3NPYmouenVvd2VpIHx8IDAsIDEwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHVlaGFvOiBfdGhpczMuc2Vzc2lvblVzZXIgJiYgKF90aGlzMy5zZXNzaW9uVXNlci51c2VybmFtZSB8fCBfdGhpczMuc2Vzc2lvblVzZXIueHVlaGFvKSA/IF90aGlzMy5zZXNzaW9uVXNlci51c2VybmFtZSB8fCBfdGhpczMuc2Vzc2lvblVzZXIueHVlaGFvIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJykgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhpbmdtaW5nOiBfdGhpczMuc2Vzc2lvblVzZXIgJiYgKF90aGlzMy5zZXNzaW9uVXNlci5uYW1lIHx8IF90aGlzMy5zZXNzaW9uVXNlci54aW5nbWluZykgPyBfdGhpczMuc2Vzc2lvblVzZXIubmFtZSB8fCBfdGhpczMuc2Vzc2lvblVzZXIueGluZ21pbmcgOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWppOiBfdGhpczMuc2Vzc2lvblVzZXIgJiYgKF90aGlzMy5zZXNzaW9uVXNlci5zaG91amkgfHwgX3RoaXMzLnNlc3Npb25Vc2VyLm1vYmlsZSkgPyBfdGhpczMuc2Vzc2lvblVzZXIuc2hvdWppIHx8IF90aGlzMy5zZXNzaW9uVXNlci5tb2JpbGUgOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeXV5dWVTdGFydDogX3RoaXMzLl9mb3JtYXREYXRlKHN0YXJ0RHQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5dXl1ZUVuZDogX3RoaXMzLl9mb3JtYXREYXRlKGVuZER0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluZ2NoZW5nOiBfdGhpczMucnVsZUZvcm0ubWluZ2NoZW5nIHx8IGNyb3NzT2JqLm1pbmdjaGVuZyB8fCAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdCgnL3l1eXVleGlueGkvc3VibWl0JywgcGF5bG9hZCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfpooTnuqbmiJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmVzICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLm1zZyA/IHJlcy5kYXRhLm1zZyA6ICfpooTnuqblpLHotKUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMTMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc3VibWl0IGVycm9yJywgX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcign6aKE57qm6K+35rGC5aSx6LSlJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdCgneml4aXNoaS9hZGQnLCBfdGhpczMucnVsZUZvcm0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9yZXMgJiYgX3Jlcy5kYXRhICYmIF9yZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLmdvKC0xKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKF9yZXMgJiYgX3Jlcy5kYXRhICYmIF9yZXMuZGF0YS5tc2cgPyBfcmVzLmRhdGEubXNnIDogJ+aTjeS9nOWksei0pScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgyNSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCfor7fmsYLlpLHotKUnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMTMsIDIwXSwgWzI1LCAzMl1dKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBfZm9ybWF0RGF0ZTogZnVuY3Rpb24gX2Zvcm1hdERhdGUoZCkgewogICAgICB2YXIgWSA9IGQuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE0gPSAoJzAnICsgKGQuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMik7CiAgICAgIHZhciBEID0gKCcwJyArIGQuZ2V0RGF0ZSgpKS5zbGljZSgtMik7CiAgICAgIHZhciBoID0gKCcwJyArIGQuZ2V0SG91cnMoKSkuc2xpY2UoLTIpOwogICAgICB2YXIgbSA9ICgnMCcgKyBkLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpOwogICAgICB2YXIgcyA9ICgnMCcgKyBkLmdldFNlY29uZHMoKSkuc2xpY2UoLTIpOwogICAgICByZXR1cm4gIiIuY29uY2F0KFksICItIikuY29uY2F0KE0sICItIikuY29uY2F0KEQsICIgIikuY29uY2F0KGgsICI6IikuY29uY2F0KG0sICI6IikuY29uY2F0KHMpOwogICAgfSwKICAgIGRpc2FibGVkQXZhaWxhYmlsaXR5RGF0ZTogZnVuY3Rpb24gZGlzYWJsZWRBdmFpbGFiaWxpdHlEYXRlKGRhdGUpIHsKICAgICAgaWYgKCFkYXRlKSByZXR1cm4gdHJ1ZTsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlKTsKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgIHZhciBtYXggPSBuZXcgRGF0ZSh0b2RheSk7CiAgICAgIG1heC5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIDEpOwogICAgICBtYXguc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTsKICAgICAgcmV0dXJuIGQgPCB0b2RheSB8fCBkID4gbWF4OwogICAgfSwKICAgIHR1cGlhblVwbG9hZENoYW5nZTogZnVuY3Rpb24gdHVwaWFuVXBsb2FkQ2hhbmdlKGZpbGVVcmxzKSB7CiAgICAgIHRoaXMucnVsZUZvcm0udHVwaWFuID0gZmlsZVVybHMucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuJGNvbmZpZy5iYXNlVXJsLCAiZyIpLCAiIik7CiAgICB9LAogICAgZ2V0VVVJRDogZnVuY3Rpb24gZ2V0VVVJRCgpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :style='{\"width\":\"1000px\",\"padding\":\"20px\",\"boxShadow\":\"0px 4px 10px 0px rgba(0,0,0,0.302)\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"#fff\"}'>\n    <el-form\n        class=\"add-update-preview\"\n        ref=\"ruleForm\"\n        :model=\"ruleForm\"\n        :rules=\"rules\"\n        label-width=\"120px\"\n    >\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"名称\" prop=\"mingcheng\">\n        <el-input v-model=\"ruleForm.mingcheng\" placeholder=\"名称\" clearable></el-input>\n      </el-form-item>\n\n      <el-form-item\n          :key=\"'tupian-upload-' + type\"\n          :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}'\n          label=\"图片\"\n          v-if=\"type!='cross' || (type=='cross' && !ro.tupian)\"\n          prop=\"tupian\"\n      >\n        <file-upload\n            tip=\"点击上传图片\"\n            action=\"file/upload\"\n            :limit=\"3\"\n            :multiple=\"true\"\n            :fileUrls=\"ruleForm.tupian?ruleForm.tupian:''\"\n            @change=\"tupianUploadChange\"\n        ></file-upload>\n      </el-form-item>\n\n      <el-form-item\n          :key=\"'tupian-preview-' + type\"\n          :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}'\n          class=\"upload\"\n          v-else\n          label=\"图片\"\n          prop=\"tupian\"\n      >\n        <img\n            v-if=\"ruleForm.tupian && ruleForm.tupian.substring && ruleForm.tupian.substring(0,4)=='http'\"\n            class=\"upload-img\"\n            style=\"margin-right:20px;\"\n            :src=\"ruleForm.tupian.split(',')[0]\"\n            width=\"100\" height=\"100\"\n        />\n        <template v-else>\n          <img\n              v-for=\"(item,index) in (ruleForm.tupian ? ruleForm.tupian.split(',') : [])\"\n              :key=\"'preview-'+index\"\n              class=\"upload-img\"\n              style=\"margin-right:20px;\"\n              :src=\"baseUrl + item\"\n              width=\"100\" height=\"100\"\n          />\n        </template>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"规模\" prop=\"guimo\">\n        <el-select v-model=\"ruleForm.guimo\" placeholder=\"请选择规模\">\n          <el-option v-for=\"(item,index) in guimoOptions\" :key=\"index\" :label=\"item\" :value=\"item\" />\n        </el-select>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"座位\" prop=\"zuowei\">\n        <el-input v-model=\"ruleForm.zuowei\" placeholder=\"座位\" clearable readonly></el-input>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"位置\" prop=\"weizhi\">\n        <el-input v-model=\"ruleForm.weizhi\" placeholder=\"位置\" clearable></el-input>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"设施\" prop=\"sheshi\">\n        <el-input v-model=\"ruleForm.sheshi\" placeholder=\"设施\" clearable></el-input>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"可约时间\" prop=\"keyueshijian\">\n        <el-input v-model=\"ruleForm.keyueshijian\" placeholder=\"可约时间\" clearable></el-input>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"是否有课\" prop=\"shifouyouke\">\n        <el-select v-model=\"ruleForm.shifouyouke\" placeholder=\"请选择是否有课\">\n          <el-option v-for=\"(item,index) in shifouyoukeOptions\" :key=\"index\" :label=\"item\" :value=\"item\" />\n        </el-select>\n      </el-form-item>\n\n      <el-form-item :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"inline-block\"}' label=\"详情\" prop=\"xiangqing\">\n        <editor\n            :style='{\"minHeight\":\"400px\",\"padding\":\"0\",\"boxShadow\":\"0 0 6px #2e61e1\",\"margin\":\"0\",\"borderColor\":\"#ccc\",\"backgroundColor\":\"#fff\",\"borderRadius\":\"0\",\"color\":\"#000\",\"borderWidth\":\"0\",\"width\":\"100%\",\"borderStyle\":\"solid\",\"height\":\"auto\"}'\n            v-model=\"ruleForm.xiangqing\"\n            class=\"editor\"\n            action=\"file/upload\">\n        </editor>\n      </el-form-item>\n\n      <!-- 跨表预约：今/明 + 固定时间下拉（30 分钟步进），起始首项动态取自浏览器时间向上取至下一个 30 分钟 -->\n      <el-form-item v-if=\"type==='cross'\" label=\"预约时间\" :style='{\"width\":\"80%\",\"padding\":\"10px\",\"margin\":\"0 2% 10px\",\"display\":\"block\"}'>\n        <div class=\"time-select-container\">\n          <el-date-picker\n              v-model=\"startDate\"\n              type=\"date\"\n              placeholder=\"选择日期\"\n              :disabled-date=\"disabledAvailabilityDate\"\n              value-format=\"yyyy-MM-dd\"\n              @change=\"onDateChange\"\n          />\n          <el-time-select\n              v-model=\"startTime\"\n              placeholder=\"起始时间\"\n              :picker-options=\"timeStartOptions\"\n          />\n          <el-time-select\n              v-model=\"endTime\"\n              placeholder=\"结束时间\"\n              :picker-options=\"timeEndOptions\"\n          />\n        </div>\n        <div class=\"time-tip\">\n          * 粒度为 30 分钟。若选择今天，可选时间已根据当前时间 ({{_currentTimeStr()}}) 自动延后。\n        </div>\n      </el-form-item>\n\n      <el-form-item :style='{\"padding\":\"0\",\"margin\":\"0\"}'>\n        <el-button type=\"primary\" @click=\"onSubmit\" :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"width\":\"128px\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}'>提交</el-button>\n        <el-button @click=\"back\" :style='{\"border\":\"0px solid rgba(64, 158, 255, 1)\",\"cursor\":\"pointer\",\"padding\":\"0\",\"margin\":\"0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"width\":\"128px\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}'>返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      id: '',\n      baseUrl: '',\n      ro:{\n        mingcheng : false,\n        tupian : false,\n        guimo : false,\n        zuowei : false,\n        weizhi : false,\n        sheshi : false,\n        keyueshijian : false,\n        shifouyouke : false,\n        xiangqing : false,\n      },\n      type: '',\n      userTableName: localStorage.getItem('UserTableName') || 'xuesheng',\n      ruleForm: {\n        mingcheng: '',\n        tupian: '',\n        guimo: '',\n        zuowei: '20',\n        weizhi: '',\n        sheshi: '',\n        keyueshijian: '',\n        shifouyouke: '是',\n        xiangqing: '',\n      },\n      guimoOptions: [],\n      shifouyoukeOptions: [],\n      rules: {\n        mingcheng: [{ required: true, message: '名称不能为空', trigger: 'blur' }],\n        zuowei: [{ validator: this.$validate ? this.$validate.isIntNumer : () => true, trigger: 'blur' }],\n        weizhi: [{ required: true, message: '位置不能为空', trigger: 'blur' }],\n      },\n\n      // appointment controls\n      startDate: new Date().toISOString().slice(0,10),\n      startTime: '', // 'HH:mm'\n      endTime: '',\n\n      // reactive earliest start computed from browser time; refresh on focus or date change\n      earliestStartForPicker: '',\n\n      sessionUser: {}\n    };\n  },\n  computed: {\n    timeStartOptions() {\n      let openStart = '08:00';\n      const lastStart = '21:30';\n\n      // 如果选择的是今天\n      if (this.startDate === this._todayStr()) {\n        const now = new Date();\n        const roundedNow = this._roundUpTo30(now);\n        const minAvailable = this._timeStrFromDate(roundedNow);\n\n        // 如果当前时间已经过了 21:30，则今天无法预约\n        if (this._timeStrToMinutes(minAvailable) > this._timeStrToMinutes(lastStart)) {\n          openStart = '23:59'; // 使得列表为空\n        } else {\n          // 取 08:00 和当前取整时间中的较大者\n          openStart = this._timeStrToMinutes(minAvailable) > this._timeStrToMinutes(openStart)\n              ? minAvailable : openStart;\n        }\n      }\n      return { start: openStart, step: '00:30', end: lastStart };\n    },\n\n    timeEndOptions() {\n      const openEnd = '22:00';\n      // 结束时间至少比开始时间晚 30 分钟\n      const startLimit = this.startTime ? this._addMinutesToTimeStr(this.startTime, 30) : '08:30';\n      return {\n        start: startLimit,\n        step: '00:30',\n        end: openEnd,\n        minTime: this.startTime\n      };\n    }\n  },\n\n    timeEndOptions() {\n      const openEnd = '22:00';\n      if (this.startTime) {\n        const s = this._addMinutesToTimeStr(this.startTime, 30);\n        return { start: s, step: '00:30', end: openEnd };\n      } else {\n        // use earliestStartForPicker as basis\n        if (this.startDate === this._todayStr()) {\n          const base = this.earliestStartForPicker && this.earliestStartForPicker.length ? this.earliestStartForPicker : '08:00';\n          const s = this._addMinutesToTimeStr(base, 30);\n          return { start: s, step: '00:30', end: openEnd };\n        } else {\n          return { start: '08:30', step: '00:30', end: openEnd };\n        }\n      }\n    },\n\n\n  created() {\n    const type = this.$route.query.type ? this.$route.query.type : '';\n    this.init(type);\n    this.baseUrl = this.$config ? this.$config.baseUrl : '';\n    this.refreshEarliestStart(); // initialize earliest\n    // session user\n    this.$http.get(this.userTableName + '/session', { emulateJSON: true }).then(res => {\n      if (res.data && res.data.code == 0) {\n        this.sessionUser = res.data.data || {};\n      }\n    }).catch(()=>{});\n    // prefill from availabilitySelection if exists\n    const pickRaw = localStorage.getItem('availabilitySelection');\n    if (pickRaw) {\n      try {\n        const pick = JSON.parse(pickRaw);\n        if (pick && pick.start && pick.end) {\n          const s = pick.start.split(' ');\n          const e = pick.end.split(' ');\n          this.startDate = s[0];\n          this.startTime = s[1] ? s[1].slice(0,5) : '';\n          this.endTime = e[1] ? e[1].slice(0,5) : '';\n        }\n      } catch (e) {}\n    }\n  },\n  watch: {\n    startDate() {\n      // refresh earliest when date changes\n      this.refreshEarliestStart();\n      // reset endTime so user reselect if needed\n      this.endTime = '';\n      // if startTime earlier than earliestStart, adjust\n      if (this.startTime && this.startDate === this._todayStr()) {\n        const earliestMin = this._timeStrToMinutes(this.earliestStartForPicker || '08:00');\n        if (this._timeStrToMinutes(this.startTime) < earliestMin) {\n          this.startTime = this.earliestStartForPicker;\n        }\n      }\n    }\n  },\n  methods: {\n    init(type) {\n      this.type = type;\n      if (type == 'cross') {\n        const obj = JSON.parse(localStorage.getItem('crossObj') || '{}');\n        if (obj.mingcheng) { this.ruleForm.mingcheng = obj.mingcheng; this.ro.mingcheng = true; }\n        if (obj.tupian) { this.ruleForm.tupian = (obj.tupian && obj.tupian.split) ? obj.tupian.split(',')[0] : obj.tupian; this.ro.tupian = true; }\n        if (obj.guimo) { this.ruleForm.guimo = obj.guimo; this.ro.guimo = true; }\n        if (obj.zuowei) { this.ruleForm.zuowei = obj.zuowei; this.ro.zuowei = true; }\n        if (obj.weizhi) { this.ruleForm.weizhi = obj.weizhi; this.ro.weizhi = true; }\n        if (obj.sheshi) { this.ruleForm.sheshi = obj.sheshi; this.ro.sheshi = true; }\n        if (obj.keyueshijian) { this.ruleForm.keyueshijian = obj.keyueshijian; this.ro.keyueshijian = true; }\n        if (obj.shifouyouke) { this.ruleForm.shifouyouke = obj.shifouyouke; this.ro.shifouyouke = true; }\n        if (obj.xiangqing) { this.ruleForm.xiangqing = obj.xiangqing; this.ro.xiangqing = true; }\n      }\n      this.guimoOptions = \"大型,中型,小型\".split(',');\n      this.shifouyoukeOptions = \"是,否\".split(',');\n    },\n\n    // refresh earliest start from browser (dynamic)\n    refreshEarliestStart() {\n      // only compute when startDate is today; else set empty\n      if (this.startDate === this._todayStr()) {\n        const r = this._roundUpTo30(new Date());\n        this.earliestStartForPicker = this._timeStrFromDate(r);\n      } else {\n        this.earliestStartForPicker = '';\n      }\n    },\n\n    _todayStr() {\n      const d = new Date();\n      return d.getFullYear() + '-' + ('0'+(d.getMonth()+1)).slice(-2) + '-' + ('0'+d.getDate()).slice(-2);\n    },\n\n    _roundUpTo30(d) {\n      const m = d.getMinutes();\n      const newDate = new Date(d);\n      if (m > 0 && m <= 30) {\n        newDate.setMinutes(30);\n      } else if (m > 30) {\n        newDate.setHours(d.getHours() + 1);\n        newDate.setMinutes(0);\n      }\n      newDate.setSeconds(0);\n      newDate.setMilliseconds(0);\n      return newDate;\n    },\n\n    _currentTimeStr() {\n      const n = new Date();\n      return ('0'+n.getHours()).slice(-2) + \":\" + ('0'+n.getMinutes()).slice(-2);\n    },\n\n    _timeStrFromDate(d) {\n      const hh = ('0'+d.getHours()).slice(-2);\n      const mm = ('0'+d.getMinutes()).slice(-2);\n      return `${hh}:${mm}`;\n    },\n\n    // 切换日期时，重置时间防止冲突\n    onDateChange() {\n      this.startTime = '';\n      this.endTime = '';\n      this.$nextTick(() => {\n        this.setDefaultStartTime();\n      });\n    },\n\n    setDefaultStartTime() {\n      if (this.type !== 'cross') return;\n      const earliest = this._earliestStartForDate(this.startDate);\n      this.startTime = earliest;\n      this.endTime = this._addMinutesToTimeStr(this.startTime, 30);\n    },\n\n    _addMinutesToTimeStr(timeStr, addMin) {\n      if (!timeStr) return timeStr;\n      const parts = timeStr.split(':');\n      const d = new Date();\n      d.setHours(parseInt(parts[0],10), parseInt(parts[1],10), 0, 0);\n      d.setMinutes(d.getMinutes() + addMin);\n      return ('0'+d.getHours()).slice(-2) + ':' + ('0'+d.getMinutes()).slice(-2);\n    },\n\n    _timeStrToMinutes(timeStr) {\n      const p = timeStr.split(':');\n      return parseInt(p[0],10)*60 + parseInt(p[1],10);\n    },\n\n    validateBeforeSubmit(startDateTime, endDateTime) {\n      const gran = 30;\n      const granMs = gran * 60 * 1000;\n\n      if (endDateTime <= startDateTime) {\n        this.$message.error('结束时间必须晚于开始时间');\n        return false;\n      }\n      if ((startDateTime.getSeconds() !== 0) || (startDateTime.getMilliseconds() !== 0) ||\n          (endDateTime.getSeconds() !== 0) || (endDateTime.getMilliseconds() !== 0)) {\n        this.$message.error('请把秒和毫秒设置为 0');\n        return false;\n      }\n      if (startDateTime.getMinutes() % gran !== 0 || endDateTime.getMinutes() % gran !== 0) {\n        this.$message.error('开始/结束时间必须为 30 分钟的倍数（例如 08:00 或 08:30）');\n        return false;\n      }\n      const now = new Date();\n      if (startDateTime.toISOString().slice(0, 10) === now.toISOString().slice(0, 10)) {\n        const roundedNowMs = Math.ceil(now.getTime() / granMs) * granMs;\n        if (startDateTime.getTime() < roundedNowMs) {\n          this.$message.error(`当天预约必须在当前时间之后（按30分钟取整），`);\n          return false;\n        }\n      }\n      if ((endDateTime.getTime() - startDateTime.getTime()) % granMs !== 0) {\n        this.$message.error('预约时长必须为 30 分钟的倍数');\n        return false;\n      }\n      return true;\n    },\n\n    async onSubmit() {\n      this.$refs[\"ruleForm\"].validate(async valid => {\n        if (!valid) return;\n        if (this.type === 'cross') {\n          if (!this.startDate || !this.startTime || !this.endTime) {\n            this.$message.error('请先选择预约日期与时间');\n            return;\n          }\n          // ensure earliest computed fresh\n          this.refreshEarliestStart();\n\n          const startDt = new Date(`${this.startDate} ${this.startTime}:00`);\n          const endDt = new Date(`${this.startDate} ${this.endTime}:00`);\n          if (!this.validateBeforeSubmit(startDt, endDt)) return;\n\n          const crossObj = JSON.parse(localStorage.getItem('crossObj') || '{}');\n          const payload = {\n            zixishiid: crossObj.id || crossObj.zixishiId || null,\n            zuowei: parseInt(this.ruleForm.zuowei || crossObj.zuowei || 0, 10),\n            xuehao: this.sessionUser && (this.sessionUser.username || this.sessionUser.xuehao) ? (this.sessionUser.username || this.sessionUser.xuehao) : (localStorage.getItem('username') || ''),\n            xingming: this.sessionUser && (this.sessionUser.name || this.sessionUser.xingming) ? (this.sessionUser.name || this.sessionUser.xingming) : '',\n            shouji: this.sessionUser && (this.sessionUser.shouji || this.sessionUser.mobile) ? (this.sessionUser.shouji || this.sessionUser.mobile) : '',\n            yuyueStart: this._formatDate(startDt),\n            yuyueEnd: this._formatDate(endDt),\n            mingcheng: this.ruleForm.mingcheng || crossObj.mingcheng || ''\n          };\n\n          try {\n            const res = await this.$http.post('/yuyuexinxi/submit', payload);\n            if (res && res.data && res.data.code === 0) {\n              this.$message({ message: '预约成功', type: 'success', duration: 1500, onClose: ()=> { this.$router.go(-1); }});\n            } else {\n              this.$message.error(res && res.data && res.data.msg ? res.data.msg : '预约失败');\n            }\n          } catch (err) {\n            console.error('submit error', err);\n            this.$message.error('预约请求失败');\n          }\n          return;\n        }\n\n        // non-cross: create study room\n        try {\n          const res = await this.$http.post('zixishi/add', this.ruleForm);\n          if (res && res.data && res.data.code == 0) {\n            this.$message({ message: '操作成功', type: 'success', duration: 1500, onClose: () => { this.$router.go(-1); }});\n          } else {\n            this.$message.error(res && res.data && res.data.msg ? res.data.msg : '操作失败');\n          }\n        } catch (e) {\n          this.$message.error('请求失败');\n        }\n      });\n    },\n\n    _formatDate(d) {\n      const Y = d.getFullYear();\n      const M = ('0'+(d.getMonth()+1)).slice(-2);\n      const D = ('0'+d.getDate()).slice(-2);\n      const h = ('0'+d.getHours()).slice(-2);\n      const m = ('0'+d.getMinutes()).slice(-2);\n      const s = ('0'+d.getSeconds()).slice(-2);\n      return `${Y}-${M}-${D} ${h}:${m}:${s}`;\n    },\n\n    disabledAvailabilityDate(date) {\n      if (!date) return true;\n      const d = new Date(date);\n      const today = new Date();\n      today.setHours(0,0,0,0);\n      const max = new Date(today);\n      max.setDate(today.getDate() + 1);\n      max.setHours(23,59,59,999);\n      return d < today || d > max;\n    },\n\n    tupianUploadChange(fileUrls) {\n      this.ruleForm.tupian = fileUrls.replace(new RegExp(this.$config.baseUrl, \"g\"), \"\");\n    },\n\n    getUUID() { return new Date().getTime(); },\n    back() { this.$router.go(-1); }\n  }\n};\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.el-date-editor.el-input { width: auto; }\n\n.add-update-preview .el-form-item >>> .el-form-item__label {\n  padding: 0 10px 0 0;\n  color: #666;\n  font-weight: 500;\n  width: 120px;\n  font-size: 14px;\n  line-height: 40px;\n  text-align: center;\n}\n\n.add-update-preview .el-form-item >>> .el-form-item__content { margin-left: 120px; }\n\n.add-update-preview .el-input >>> .el-input__inner {\n  border: 2px solid #2e61e1;\n  border-radius: 4px;\n  padding: 0 12px;\n  outline: none;\n  color: #000;\n  background: #BFD2FC;\n  width: 100%;\n  font-size: 14px;\n  height: 40px;\n}\n\n.add-update-preview .el-select >>> .el-input__inner {\n  border: 2px solid #2e61e1;\n  border-radius: 4px;\n  padding: 0 10px;\n  outline: none;\n  color: #000;\n  background: #BFD2FC;\n  width: 100%;\n  font-size: 14px;\n  height: 40px;\n}\n\n.add-update-preview .el-date-editor >>> .el-input__inner {\n  border: 2px solid #2e61e1;\n  border-radius: 4px;\n  padding: 0 10px 0 30px;\n  outline: none;\n  color: #000;\n  background: #BFD2FC;\n  width: 100%;\n  font-size: 14px;\n  height: 40px;\n}\n\n/* upload visuals */\n.add-update-preview >>> .upload .upload-img {\n  border: 1px dashed rgba(64, 158, 255, 1);\n  cursor: pointer;\n  border-radius: 6px;\n  width: 100px;\n  height: 100px;\n}\n\n/* textarea */\n.add-update-preview .el-textarea >>> .el-textarea__inner {\n  border: 2px solid #2e61e1;\n  border-radius: 4px;\n  padding: 12px;\n  outline: none;\n  color: #000;\n  background: #BFD2FC;\n  width: 100%;\n  font-size: 14px;\n  height: 120px;\n}\n\n/* 强制修改下拉组件的背景和边框，使其符合你的 UI */\n.add-update-preview .el-time-select >>> .el-input__inner {\n  border: 2px solid #2e61e1 !important;\n  background: #BFD2FC !important;\n  color: #000 !important;\n  width: 150px !important;\n}\n</style>"],"sourceRoot":"src/pages/zixishi"}]}