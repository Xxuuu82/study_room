{"remainingRequest":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\zixishi\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\zixishi\\detail.vue","mtime":1765809994899},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\NBU\\junior\\1\\software engineering\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ291bnREb3duIGZyb20gIkAvY29tcG9uZW50cy9Db3VudERvd24iOyAvLyDnp7vpmaTkuobkuI3lv4XopoHnmoQgVnVlIOWvvOWFpQoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZW5hbWU6ICJ6aXhpc2hpIiwKICAgICAgYmFzZVVybDogIiIsCiAgICAgIGJyZWFkY3J1bWJJdGVtOiBbewogICAgICAgIG5hbWU6ICLoh6rkuaDlrqTor6bmg4UiCiAgICAgIH1dLAogICAgICB0aXRsZTogIiIsCiAgICAgIGRldGFpbEJhbm5lcjogW10sCiAgICAgIGVuZFRpbWU6IDAsCiAgICAgIGRldGFpbDoge30sCiAgICAgIC8vIC0tLSDluqfkvY0v6aKE57qm55u45YWz5pWw5o2uIC0tLQogICAgICB0b3RhbFNlYXRzOiAwLAogICAgICAvLyDku44gZGV0YWlsLnJvbmduYXJlbnNodSDojrflj5YKICAgICAgb2NjdXBpZWRTZWF0czogW10sCiAgICAgIC8vIOaooeaLn+eahOW3suWNoOeUqOW6p+S9jeWIl+ihqO+8iOWPr+WcqCBpbml0IOS4reWKoOi9ve+8iQogICAgICBzZWxlY3RlZFNlYXQ6IG51bGwsCiAgICAgIC8vIOW9k+WJjemAieS4reeahOW6p+S9jeWPtwogICAgICAvLyAtLS0g5pe26Ze05p2h55u45YWz5pWw5o2uIC0tLQogICAgICBzaG93VGltZU1vZGFsOiBmYWxzZSwKICAgICAgYXZhaWxhYmxlRGF0ZTogJ1RvZGF5JywKICAgICAgLy8g6buY6K6k5LuK5aSpCiAgICAgIGJvb2tlZFNsb3RzOiBbXSwKICAgICAgLy8g5ZCO56uv6L+U5Zue55qE5bey6aKE57qm5pe25q61CiAgICAgIHRpbWVCYXJTbG90czogW10gLy8g55So5LqO5riy5p+T5pe26Ze05p2h55qE6K6h566X57uT5p6cICg4OjAwLTIyOjAwKQoKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5paw5aKe77ya5Yik5pat5LuK5aSp5piv5ZCm6L+Y5pyJ5Y+v6aKE57qm55qE5pe26Ze077yI5b2T5YmN5pe26Ze05ZyoIDIyOjAwIOWJje+8iQogICAgaXNUb2RheUF2YWlsYWJsZTogZnVuY3Rpb24gaXNUb2RheUF2YWlsYWJsZSgpIHsKICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7IC8vIDIyOjAwOjAwCgogICAgICB2YXIgZW5kSG91ciA9IDIyOwogICAgICByZXR1cm4gbm93LmdldEhvdXJzKCkgPCBlbmRIb3VyOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOyAvLyDnp7vpmaTkuI3lv4XopoHnmoQgdGhpcy5pbml0U2VhdHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPliAwIOWhq+WFheeahOaVsOWtlwogICAgZ2V0TWFrZVplcm86IGZ1bmN0aW9uIGdldE1ha2VaZXJvKHMpIHsKICAgICAgcmV0dXJuIHMgPCAxMCA/ICIwIiArIHMgOiBzOwogICAgfSwKICAgIC8vIOiOt+WPluaMh+WumuaXpeacn+Wtl+espuS4siAoWVlZWS1NTS1ERCkKICAgIGdldERhdGVTdHJpbmc6IGZ1bmN0aW9uIGdldERhdGVTdHJpbmcoZGF5KSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKCiAgICAgIGlmIChkYXkgPT09ICdUb21vcnJvdycpIHsKICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAxKTsKICAgICAgfQoKICAgICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBtb250aCA9IHRoaXMuZ2V0TWFrZVplcm8oZGF0ZS5nZXRNb250aCgpICsgMSk7CiAgICAgIHZhciBkYXlPZk1vbnRoID0gdGhpcy5nZXRNYWtlWmVybyhkYXRlLmdldERhdGUoKSk7CiAgICAgIHJldHVybiAiIi5jb25jYXQoeWVhciwgIi0iKS5jb25jYXQobW9udGgsICItIikuY29uY2F0KGRheU9mTW9udGgpOwogICAgfSwKICAgIC8vIOiOt+WPluaYvuekuuaXpeacnyAoWOaciFnml6UpCiAgICBnZXREaXNwbGF5RGF0ZTogZnVuY3Rpb24gZ2V0RGlzcGxheURhdGUoZGF5KSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKCiAgICAgIGlmIChkYXkgPT09ICdUb21vcnJvdycpIHsKICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAxKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDEgKyAn5pyIJyArIGRhdGUuZ2V0RGF0ZSgpICsgJ+aXpSc7CiAgICB9LAogICAgLy8g5paw5aKe77ya6L+U5Zue5YiX6KGo6aG15pa55rOVCiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC96aXhpc2hpJyk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuJGNvbmZpZy5iYXNlVXJsOwogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKCiAgICAgIGlmICghaWQpIHsKICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZGV0YWlsT2JqKSB7CiAgICAgICAgICB0aGlzLmRldGFpbCA9IEpTT04ucGFyc2UodGhpcy4kcm91dGUucXVlcnkuZGV0YWlsT2JqKTsKICAgICAgICAgIGlkID0gdGhpcy5kZXRhaWwuaWQ7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuc3RvcmV1cE9iaikgewogICAgICAgICAgdGhpcy5kZXRhaWwuaWQgPSBKU09OLnBhcnNlKHRoaXMuJHJvdXRlLnF1ZXJ5LnN0b3JldXBPYmopLnJlZmlkOwogICAgICAgICAgaWQgPSB0aGlzLmRldGFpbC5pZDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghaWQpIHJldHVybjsgLy8g5aaC5p6c5rKh5pyJSUTvvIzliJnkuI3lj5Hotbfor7fmsYIKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMudGFibGVuYW1lICsgIi9kZXRhaWwvIiArIGlkLCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgX3RoaXMuZGV0YWlsID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgIF90aGlzLnRpdGxlID0gX3RoaXMuZGV0YWlsLm1pbmdjaGVuZzsKICAgICAgICAgIF90aGlzLmRldGFpbEJhbm5lciA9IF90aGlzLmRldGFpbC50dXBpYW4gPyBfdGhpcy5kZXRhaWwudHVwaWFuLnNwbGl0KCIsIikgOiBbXTsgLy8gISEhIOaguOW/g+S/ruWkjTog5LuO5a6557qz5Lq65pWw6K6+572u5bqn5L2N5oC75pWwICEhIQoKICAgICAgICAgIF90aGlzLnRvdGFsU2VhdHMgPSBfdGhpcy5kZXRhaWwucm9uZ25hcmVuc2h1ID8gcGFyc2VJbnQoX3RoaXMuZGV0YWlsLnJvbmduYXJlbnNodSkgfHwgMCA6IDA7IC8vIOWIneWni+WKoOi9veS7iuWkqe+8iFRvZGF577yJ55qE5bey5Y2g55So5bqn5L2N5YiX6KGo77yI5LuF55So5LqO5pi+56S65ZOq5Lqb5bqn5L2N6KKr5Y2g77yM5LiN6L+b6KGM5pe25q615p+l6K+i77yJCgogICAgICAgICAgX3RoaXMuZmV0Y2hPY2N1cGllZFNlYXRzKCdUb2RheScpOwoKICAgICAgICAgIF90aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5b2T5YmN6Ieq5Lmg5a6k5omA5pyJ5bey5Y2g55So55qE5bqn5L2N5YiX6KGoICjnlKjkuo7luqfkvY3lm77liJ3lp4vmuLLmn5MpCiAgICBmZXRjaE9jY3VwaWVkU2VhdHM6IGZ1bmN0aW9uIGZldGNoT2NjdXBpZWRTZWF0cyhkYXkpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZGV0YWlsLmlkKSByZXR1cm47IC8vIOS7heeUqOS6juiOt+WPluW9k+WJjeaXpeacn++8iFRvZGF55oiWVG9tb3Jyb3fvvInnmoQqKuWFqOWkqSoq6KKr5Y2g55So5bqn5L2N77yM55So5LqO5riy5p+T5bqn5L2N5Zu+CgogICAgICB2YXIgZGF0ZVN0cmluZyA9IHRoaXMuZ2V0RGF0ZVN0cmluZyhkYXkpOwogICAgICB0aGlzLiRodHRwLmdldCgneXV5dWV4aW54aS9zZWF0L29jY3VwaWVkJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgeml4aXNoaWlkOiB0aGlzLmRldGFpbC5pZCwKICAgICAgICAgIGRhdGU6IGRhdGVTdHJpbmcKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAvLyDlgYforr7lkI7nq6/ov5Tlm54gWzEsIDUsIDEwXSDov5nmoLfnmoTluqfkvY3lj7fmlbDnu4QKICAgICAgICAgIF90aGlzMi5vY2N1cGllZFNlYXRzID0gcmVzLmRhdGEuZGF0YSB8fCBbXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5o6l5Y+j5aSx6LSl77yM5riF56m65Y2g55So5YiX6KGoCiAgICAgICAgICBfdGhpczIub2NjdXBpZWRTZWF0cyA9IFtdOyAvLyDlpoLmnpzpnIDopoHvvIzlj6/ku6XmmL7npLrplJnor6/mtojmga8KICAgICAgICAgIC8vIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluW6p+S9jeWNoOeUqOS/oeaBr+Wksei0pScpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoImZldGNoT2NjdXBpZWRTZWF0cyDmjqXlj6Por7fmsYLlpLHotKU6IiwgZXJyKTsKICAgICAgICBfdGhpczIub2NjdXBpZWRTZWF0cyA9IFtdOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKTmlq3luqfkvY3mmK/lkKblt7LljaDnlKgKICAgIGlzU2VhdE9jY3VwaWVkOiBmdW5jdGlvbiBpc1NlYXRPY2N1cGllZChzZWF0TnVtKSB7CiAgICAgIC8vIOazqOaEj++8mui/memHjOaYr+WIpOaWreafkOS4quW6p+S9jeaYr+WQpuWcqCBvY2N1cGllZFNlYXRzIOWIl+ihqOS4rQogICAgICByZXR1cm4gdGhpcy5vY2N1cGllZFNlYXRzLmluY2x1ZGVzKHNlYXROdW0pOwogICAgfSwKICAgIC8vIOWkhOeQhuW6p+S9jeeCueWHu+S6i+S7tgogICAgaGFuZGxlU2VhdENsaWNrOiBmdW5jdGlvbiBoYW5kbGVTZWF0Q2xpY2soc2VhdE51bSkgewogICAgICBpZiAodGhpcy5pc1NlYXRPY2N1cGllZChzZWF0TnVtKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+l5bqn5L2N5bey6KKr5Y2g55So77yM6K+36YCJ5oup5YW25LuW5bqn5L2NIik7CiAgICAgICAgdGhpcy5zZWxlY3RlZFNlYXQgPSBudWxsOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDliIfmjaLpgInkuK3nirbmgIEKCgogICAgICB0aGlzLnNlbGVjdGVkU2VhdCA9IHRoaXMuc2VsZWN0ZWRTZWF0ID09PSBzZWF0TnVtID8gbnVsbCA6IHNlYXROdW07CiAgICB9LAogICAgLy8g6Lez6L2s5Yiw6aKE57qm6aG16Z2iCiAgICBqdW1wVG9ZdXl1ZTogZnVuY3Rpb24ganVtcFRvWXV5dWUoc2VhdE51bSkgewogICAgICBpZiAoIXNlYXROdW0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7flhYjpgInmi6nkuIDkuKrluqfkvY0iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g56Gu5L+dIGBkZXRhaWwucm9uZ25hcmVuc2h1YCDmnInlgLzvvIzkvZzkuLrluqfkvY3lj7fnmoTkuIrpmZDpqozor4EKCgogICAgICBpZiAoc2VhdE51bSA+IHRoaXMudG90YWxTZWF0cykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuW6p+S9jeWPt+i2heWHuuiMg+WbtCIpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDlrZjlgqjot6jooajmlbDmja4KCgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY3Jvc3NUYWJsZSIsICJ6aXhpc2hpIik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjcm9zc09iaiIsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGV0YWlsKSk7IC8vIOmineWkluWtmOWCqOmihOe6puS/oeaBr+aJgOmcgOeahOW6p+S9jeWPtwoKICAgICAgdmFyIGNyb3NzT2JqID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3Jvc3NPYmoiKSB8fCB7fSk7CiAgICAgIGNyb3NzT2JqWyJ6dW93ZWkiXSA9IHNlYXROdW07CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjcm9zc09iaiIsIEpTT04uc3RyaW5naWZ5KGNyb3NzT2JqKSk7IC8vIOehruS/nei3r+W+hOato+ehrgoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvaW5kZXgveXV5dWV4aW54aUFkZCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHR5cGU6ICdjcm9zcycKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPr+e6puaXtumXtOW8ueeql+ebuOWFs+aWueazlQogICAgb3BlblRpbWVNb2RhbDogZnVuY3Rpb24gb3BlblRpbWVNb2RhbCgpIHsKICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkU2VhdCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WFiOmAieaLqeS4gOS4quW6p+S9jScpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDlpoLmnpzku4rlpKnkuI3lj6/nlKjvvIzliJnpu5jorqTmmL7npLrmmI7lpKkKCgogICAgICB0aGlzLmF2YWlsYWJsZURhdGUgPSB0aGlzLmlzVG9kYXlBdmFpbGFibGUgPyAnVG9kYXknIDogJ1RvbW9ycm93JzsKICAgICAgdGhpcy5zaG93VGltZU1vZGFsID0gdHJ1ZTsKICAgICAgdGhpcy5mZXRjaEJvb2tlZFNsb3RzKHRoaXMuYXZhaWxhYmxlRGF0ZSk7IC8vIOWKoOi9veW9k+WJjemAieWumuaXpeacn+eahOaVsOaNrgogICAgfSwKICAgIGNoYW5nZUF2YWlsYWJsZURhdGU6IGZ1bmN0aW9uIGNoYW5nZUF2YWlsYWJsZURhdGUoZGF5KSB7CiAgICAgIGlmIChkYXkgPT09ICdUb2RheScgJiYgIXRoaXMuaXNUb2RheUF2YWlsYWJsZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi5LuK5aSp5bey6L+H6aKE57qm5oiq5q2i5pe26Ze0IDIyOjAw77yM6K+35p+l55yL5piO5aSp55qE5pe26Ze044CCIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmF2YWlsYWJsZURhdGUgPSBkYXk7CiAgICAgIHRoaXMuZmV0Y2hCb29rZWRTbG90cyhkYXkpOwogICAgfSwKICAgIC8vIOiwg+eUqOWQjuerr+aOpeWPo++8jOiOt+WPluaMh+WumuaXpeacn+OAgeaMh+WumuW6p+S9jeeahOW3sumihOe6puaXtuautQogICAgZmV0Y2hCb29rZWRTbG90czogZnVuY3Rpb24gZmV0Y2hCb29rZWRTbG90cyhkYXkpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZGV0YWlsLmlkIHx8ICF0aGlzLnNlbGVjdGVkU2VhdCkgcmV0dXJuOwogICAgICB2YXIgZGF0ZVN0cmluZyA9IHRoaXMuZ2V0RGF0ZVN0cmluZyhkYXkpOwogICAgICB2YXIgaXNUb2RheSA9IGRheSA9PT0gJ1RvZGF5JzsgLy8gISEhIOWBh+iuvuWQjuerryBzZWF0L2xpc3Qg5o6l5Y+j6L+U5Zue55qE5piv5oyH5a6a5pel5pyf44CB5oyH5a6a5bqn5L2N55qE5omA5pyJ6aKE57qm6K6w5b2VICEhIQoKICAgICAgdGhpcy4kaHR0cC5nZXQoJ3l1eXVleGlueGkvc2VhdC9saXN0JywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgeml4aXNoaWlkOiB0aGlzLmRldGFpbC5pZCwKICAgICAgICAgIHp1b3dlaTogdGhpcy5zZWxlY3RlZFNlYXQsCiAgICAgICAgICBkYXRlOiBkYXRlU3RyaW5nIC8vIOS8oOmAkuafpeivouaXpeacnwoKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpczMuYm9va2VkU2xvdHMgPSByZXMuZGF0YS5kYXRhIHx8IFtdOwogICAgICAgICAgX3RoaXMzLnRpbWVCYXJTbG90cyA9IF90aGlzMy5jYWxjdWxhdGVBdmFpbGFibGVTbG90cyhfdGhpczMuYm9va2VkU2xvdHMsIGRhdGVTdHJpbmcsIGlzVG9kYXkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlpoLmnpzmjqXlj6Pov5Tlm57plJnor6/noIEKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcign6I635Y+W6aKE57qm5pe25q615aSx6LSlOiAnICsgKHJlcy5kYXRhLm1zZyB8fCAn5pyq55+l6ZSZ6K+vJykpOwoKICAgICAgICAgIF90aGlzMy5ib29rZWRTbG90cyA9IFtdOwogICAgICAgICAgX3RoaXMzLnRpbWVCYXJTbG90cyA9IF90aGlzMy5jYWxjdWxhdGVBdmFpbGFibGVTbG90cyhbXSwgZGF0ZVN0cmluZywgaXNUb2RheSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiZmV0Y2hCb29rZWRTbG90cyDmjqXlj6Por7fmsYLlpLHotKU6IiwgZXJyKTsKCiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCfnvZHnu5zplJnor6/vvIzml6Dms5Xojrflj5blj6/nuqbml7bpl7TjgIInKTsKCiAgICAgICAgX3RoaXMzLmJvb2tlZFNsb3RzID0gW107CiAgICAgICAgX3RoaXMzLnRpbWVCYXJTbG90cyA9IF90aGlzMy5jYWxjdWxhdGVBdmFpbGFibGVTbG90cyhbXSwgZGF0ZVN0cmluZywgaXNUb2RheSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaguOW/g+mAu+i+ke+8muWwhuW3sumihOe6puaXtuautei9rOaNouS4uiA4OjAwLTIyOjAwIOeahOaXtumXtOadoeaVsOaNrgogICAgY2FsY3VsYXRlQXZhaWxhYmxlU2xvdHM6IGZ1bmN0aW9uIGNhbGN1bGF0ZUF2YWlsYWJsZVNsb3RzKGJvb2tlZExpc3QsIGRhdGVTdHJpbmcsIGlzVG9kYXkpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAvLyDlrprkuYkgODowMCDliLAgMjI6MDAg55qEIDE0IOS4quS4gOWwj+aXtuaXtuautQogICAgICB2YXIgdGltZVNsb3RzID0gW107CiAgICAgIHZhciBOT1cgPSBuZXcgRGF0ZSgpOwoKICAgICAgZm9yICh2YXIgaCA9IDg7IGggPCAyMjsgaCsrKSB7CiAgICAgICAgdmFyIHNsb3QgPSB7CiAgICAgICAgICBzdGFydDogaCwKICAgICAgICAgIC8vIDgsIDksIDEwLCAuLi4gMjEKICAgICAgICAgIGVuZDogaCArIDEsCiAgICAgICAgICAvLyA5LCAxMCwgMTEsIC4uLiAyMgogICAgICAgICAgaXNCb29rZWQ6IGZhbHNlLAogICAgICAgICAgLy8g5piv5ZCm6KKr5Y2g55So5oiW6L+H5pyfCiAgICAgICAgICB0aXRsZTogIiIuY29uY2F0KHRoaXMuZ2V0TWFrZVplcm8oaCksICI6MDAgLSAiKS5jb25jYXQodGhpcy5nZXRNYWtlWmVybyhoICsgMSksICI6MDAiKQogICAgICAgIH07IC8vIDEuIOmSiOWvueS7iuWkqe+8jOagh+iusOW3sui/h+acn+aXtuautSAo5Lul5bCP5pe25Li657KS5bqmKQoKICAgICAgICBpZiAoaXNUb2RheSkgewogICAgICAgICAgLy8g5b2T5YmN5qe95L2N55qE57uT5p2f5pe26Ze077yI5bCP5pe277yJCiAgICAgICAgICBpZiAoaCArIDEgPD0gTk9XLmdldEhvdXJzKCkpIHsKICAgICAgICAgICAgc2xvdC5pc0Jvb2tlZCA9IHRydWU7CiAgICAgICAgICAgIHNsb3QudGl0bGUgKz0gJyAo5bey6L+H5pyfL+S4jeWPr+e6piknOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGltZVNsb3RzLnB1c2goc2xvdCk7CiAgICAgIH0gLy8gMi4g5qCH6K6w5bey6KKr6aKE57qm55qE5pe25q61CgoKICAgICAgYm9va2VkTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChib29rZWQpIHsKICAgICAgICB2YXIgY3VycmVudERheSA9IGRhdGVTdHJpbmc7CiAgICAgICAgdmFyIGJvb2tlZFN0YXJ0VGltZTsKICAgICAgICB2YXIgYm9va2VkRW5kVGltZTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIC8vIOehruS/neaXpeacn+agvOW8j+ato+ehru+8jOS7peS+vyBuZXcgRGF0ZSgpIOino+aekAogICAgICAgICAgYm9va2VkU3RhcnRUaW1lID0gbmV3IERhdGUoYm9va2VkLnl1eXVlU3RhcnQpLmdldFRpbWUoKTsKICAgICAgICAgIGJvb2tlZEVuZFRpbWUgPSBuZXcgRGF0ZShib29rZWQueXV5dWVFbmQpLmdldFRpbWUoKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLml6XmnJ/op6PmnpDplJnor68iLCBib29rZWQueXV5dWVTdGFydCwgYm9va2VkLnl1eXVlRW5kLCBlKTsKICAgICAgICAgIHJldHVybjsgLy8g6Lez6L+H5q2k5p2h6ZSZ6K+v5pWw5o2uCiAgICAgICAgfSAvLyDpgY3ljobmr4/kuKrkuIDlsI/ml7bnmoTmp73kvY3vvIzmo4Dmn6XmmK/lkKbkuI7pooTnuqbml7bpl7TlhrLnqoEKCgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGltZVNsb3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgX3Nsb3QgPSB0aW1lU2xvdHNbaV07IC8vIOi3s+i/h+W3suagh+iusOS4uuS4jeWPr+e6pueahO+8iOWmguW3sui/h+acn++8iQoKICAgICAgICAgIGlmIChfc2xvdC5pc0Jvb2tlZCAmJiBfc2xvdC50aXRsZS5pbmNsdWRlcygnKOW3sui/h+acny/kuI3lj6/nuqYpJykpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9IC8vIOiuoeeul+W9k+WJjeanveS9jeWcqOW9k+WJjeaXpeacn+S4i+eahOaXtumXtOaIswoKCiAgICAgICAgICB2YXIgc2xvdFN0YXJ0VGltZSA9IG5ldyBEYXRlKCIiLmNvbmNhdChjdXJyZW50RGF5LCAiICIpLmNvbmNhdChfdGhpczQuZ2V0TWFrZVplcm8oX3Nsb3Quc3RhcnQpLCAiOjAwOjAwIikpLmdldFRpbWUoKTsKICAgICAgICAgIHZhciBzbG90RW5kVGltZSA9IG5ldyBEYXRlKCIiLmNvbmNhdChjdXJyZW50RGF5LCAiICIpLmNvbmNhdChfdGhpczQuZ2V0TWFrZVplcm8oX3Nsb3QuZW5kKSwgIjowMDowMCIpKS5nZXRUaW1lKCk7IC8vIOajgOafpeS4pOS4quaXtumXtOautSBbQSwgQikg5ZKMIFtDLCBEKSDmmK/lkKbph43lj6DvvJogQSA8IEQg5LiUIEMgPCBCCgogICAgICAgICAgaWYgKGJvb2tlZFN0YXJ0VGltZSA8IHNsb3RFbmRUaW1lICYmIHNsb3RTdGFydFRpbWUgPCBib29rZWRFbmRUaW1lKSB7CiAgICAgICAgICAgIF9zbG90LmlzQm9va2VkID0gdHJ1ZTsKCiAgICAgICAgICAgIGlmICghX3Nsb3QudGl0bGUuaW5jbHVkZXMoJyjlt7LooqvpooTnuqYpJykpIHsKICAgICAgICAgICAgICBfc2xvdC50aXRsZSArPSAiIChcdTVERjJcdTg4QUJcdTk4ODRcdTdFQTYpIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiB0aW1lU2xvdHM7CiAgICB9LAogICAgLy8gLy8gLS0tIOmBl+eVmeaWueazlSAtLS0KICAgIC8vIGN1ckNoYW5nZShwYWdlKSB7CiAgICAvLyAgIC8vIHRoaXMuZ2V0RGlzY3Vzc0xpc3QocGFnZSk7CiAgICAvLyB9LAogICAgLy8gcHJldkNsaWNrKHBhZ2UpIHsKICAgIC8vICAgLy8gdGhpcy5nZXREaXNjdXNzTGlzdChwYWdlKTsKICAgIC8vIH0sCiAgICAvLyBuZXh0Q2xpY2socGFnZSkgewogICAgLy8gICAvLyB0aGlzLmdldERpc2N1c3NMaXN0KHBhZ2UpOwogICAgLy8gfSwKICAgIC8vIOS4i+i9vQogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKGZpbGUpIHsKICAgICAgaWYgKCFmaWxlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgbWVzc2FnZTogIuaWh+S7tuS4jeWtmOWcqCIsCiAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgd2luZG93Lm9wZW4odGhpcy5iYXNlVXJsICsgZmlsZSk7CiAgICB9LAogICAgaXNBdXRoOiBmdW5jdGlvbiBpc0F1dGgoKSB7CiAgICAgIC8vIOS/neeVmeWOn+acieadg+mZkOWIpOaWremAu+i+kQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9IC8vIGNvbXBvbmVudHM6IHsKICAvLyAgIENvdW50RG93biwKICAvLyB9LAoKfTs="},{"version":3,"sources":["detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"width: 100%; min-height: 100vh; padding: 0 10px; boxSizing: border-box; background: #bfd2fc;\">\r\n    <div :style='{\"width\":\"100%\",\"padding\":\"20px\",\"margin\":\"10px auto\",\"borderRadius\":\"27px\",\"background\":\"#bfd2fc\"}' class=\"breadcrumb-preview\">\r\n      <el-breadcrumb :separator=\"'Ξ'\" :style='{\"fontSize\":\"14px\",\"lineHeight\":\"1\"}'>\r\n        <el-breadcrumb-item>首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item v-for=\"(item, index) in breadcrumbItem\" :key=\"index\">{{item.name}}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <div class=\"detail-preview\" :style='{\r\n      width: \"100%\",\r\n      margin: \"20px auto\",\r\n      position: \"relative\",\r\n      background: \"#fff\",\r\n      boxShadow: \"0px 4px 10px 0px rgba(0,0,0,0.302)\",\r\n      borderRadius: \"8px\",\r\n      boxSizing: \"border-box\",\r\n      padding: \"20px\"\r\n    }'>\r\n      <div class=\"attr\" :style=\"{\r\n        padding: '20px',\r\n        position: 'relative',\r\n        background: '#f8f9fa',\r\n        borderRadius: '8px',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: '20px',\r\n        marginBottom: '20px'\r\n      }\">\r\n        <el-carousel\r\n            :style=\"{\r\n            flex: '1 1 400px',\r\n            minWidth: '300px',\r\n            height: '400px',\r\n            borderRadius: '8px',\r\n            overflow: 'hidden'\r\n          }\"\r\n            trigger=\"click\"\r\n            indicator-position=\"inside\"\r\n            arrow=\"always\"\r\n            autoplay=\"true\"\r\n            interval=\"3000\"\r\n            loop=\"true\"\r\n        >\r\n          <el-carousel-item\r\n              :style=\"{ borderRadius: '8px', width: '100%', height: '100%' }\"\r\n              v-for=\"(item, idx) in detailBanner\"\r\n              :key=\"idx\"\r\n          >\r\n            <el-image\r\n                :style=\"{ objectFit: 'cover', width: '100%', height: '100%' }\"\r\n                v-if=\"item && item.substr(0, 4) == 'http'\"\r\n                :src=\"item\"\r\n                fit=\"cover\"\r\n                class=\"image\"\r\n            ></el-image>\r\n            <el-image\r\n                :style=\"{ objectFit: 'cover', width: '100%', height: '100%' }\"\r\n                v-else-if=\"item\"\r\n                :src=\"baseUrl + item\"\r\n                fit=\"cover\"\r\n                class=\"image\"\r\n            ></el-image>\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n\r\n        <div class=\"info\" :style=\"{\r\n          flex: '2 1 500px',\r\n          minWidth: '300px',\r\n          padding: '20px',\r\n          background: '#fff',\r\n          borderRadius: '8px',\r\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n        }\">\r\n          <div class=\"item\" :style=\"{\r\n            padding: '10px 0',\r\n            margin: '0 0 20px 0',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            display: 'flex',\r\n            borderBottom: '1px solid #eee'\r\n          }\">\r\n            <div :style=\"{ color: '#333', fontSize: '18px', fontWeight: '500' }\">\r\n              {{ detail.mingcheng }}\r\n            </div>\r\n          </div>\r\n\r\n          <div style=\"display: grid; gridTemplateColumns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;\">\r\n            <div class=\"info-item\" :style=\"{\r\n              padding: '12px',\r\n              background: '#f8f9fa',\r\n              borderRadius: '6px'\r\n            }\">\r\n              <div :style=\"{ color: '#999', fontSize: '13px', marginBottom: '4px' }\">规模</div>\r\n              <div :style=\"{ color: '#333', fontSize: '14px', fontWeight: '400' }\">{{ detail.guimo || '暂无' }}</div>\r\n            </div>\r\n            <div class=\"info-item\" :style=\"{\r\n              padding: '12px',\r\n              background: '#f8f9fa',\r\n              borderRadius: '6px'\r\n            }\">\r\n              <div :style=\"{ color: '#999', fontSize: '13px', marginBottom: '4px' }\">容纳人数/座位数</div>\r\n              <div :style=\"{ color: '#333', fontSize: '14px', fontWeight: '400' }\">{{ detail.rongnarenshu || '暂无' }}</div>\r\n            </div>\r\n            <div class=\"info-item\" :style=\"{\r\n              padding: '12px',\r\n              background: '#f8f9fa',\r\n              borderRadius: '6px'\r\n            }\">\r\n              <div :style=\"{ color: '#999', fontSize: '13px', marginBottom: '4px' }\">区域/位置</div>\r\n              <div :style=\"{ color: '#333', fontSize: '14px', fontWeight: '400' }\">{{ detail.quyu || detail.weizhi || '暂无' }}</div>\r\n            </div>\r\n            <div class=\"info-item\" :style=\"{\r\n              padding: '12px',\r\n              background: '#f8f9fa',\r\n              borderRadius: '6px'\r\n            }\">\r\n              <div :style=\"{ color: '#999', fontSize: '13px', marginBottom: '4px' }\">开放时间</div>\r\n              <div :style=\"{ color: '#333', fontSize: '14px', fontWeight: '400' }\">{{ detail.kaifangshijian || '8:00-22:00' }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div :style='{\"padding\":\"20px\",\"margin\":\"20px 0\",\"border\":\"1px solid #ccc\",\"borderRadius\":\"4px\",\"background\":\"#f9f9f9\"}'>\r\n            <h3 :style='{\"color\":\"#2e61e1\",\"margin-bottom\":\"15px\"}'>详情描述</h3>\r\n            <div v-html=\"detail.xiangqingmiaoshu\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"seat-selection\" :style=\"{\r\n        padding: '30px',\r\n        margin: '0 0 20px 0',\r\n        background: '#f8f9fa',\r\n        borderRadius: '8px',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n        position: 'relative'\r\n      }\">\r\n        <div class=\"seat-header\" :style=\"{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          marginBottom: '20px',\r\n          flexWrap: 'wrap',\r\n          gap: '10px'\r\n        }\">\r\n          <div class=\"seat-title\" :style=\"{\r\n            fontSize: '16px',\r\n            color: '#333',\r\n            fontWeight: '500',\r\n            paddingBottom: '10px',\r\n            borderBottom: '1px solid #eee',\r\n            flex: '1 1 100%'\r\n          }\">\r\n            请选择座位\r\n          </div>\r\n          <div class=\"seat-legend\" :style=\"{\r\n            display: 'flex',\r\n            gap: '20px',\r\n            fontSize: '13px',\r\n            color: '#666'\r\n          }\">\r\n            <div :style=\"{display: 'flex', alignItems: 'center', gap: '6px'}\">\r\n              <div :style=\"{\r\n                width: '16px',\r\n                height: '16px',\r\n                border: '2px solid #2E61E1',\r\n                borderRadius: '4px',\r\n                background: '#fff'\r\n              }\"></div>\r\n              <span>可选座位</span>\r\n            </div>\r\n            <div :style=\"{display: 'flex', alignItems: 'center', gap: '6px'}\">\r\n              <div :style=\"{\r\n                width: '16px',\r\n                height: '16px',\r\n                border: '2px solid #2E61E1',\r\n                borderRadius: '4px',\r\n                background: '#e6f7ff',\r\n                boxShadow: '0 0 0 2px rgba(46, 97, 225, 0.3)'\r\n              }\"></div>\r\n              <span>已选座位</span>\r\n            </div>\r\n            <div :style=\"{display: 'flex', alignItems: 'center', gap: '6px'}\">\r\n              <div :style=\"{\r\n                width: '16px',\r\n                height: '16px',\r\n                border: '2px solid #dcdfe6',\r\n                borderRadius: '4px',\r\n                background: '#f8d7da',\r\n              }\"></div>\r\n              <span>已占用</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"totalSeats > 0\" class=\"seat-map\" :style='{\"display\":\"grid\",\"grid-template-columns\":\"repeat(auto-fill, minmax(80px, 1fr))\",\"gap\":\"10px\",\"max-width\":\"700px\",\"margin\":\"0 auto\"}'>\r\n          <div\r\n              v-for=\"seatNum in totalSeats\"\r\n              :key=\"seatNum\"\r\n              :class=\"['seat-item', isSeatOccupied(seatNum) ? 'seat-occupied' : 'seat-available', {'seat-selected': selectedSeat === seatNum}]\"\r\n              @click=\"handleSeatClick(seatNum)\"\r\n              :style='{\r\n                \"height\":\"80px\",\"lineHeight\":\"80px\",\"textAlign\":\"center\",\"fontSize\":\"14px\",\"borderRadius\":\"4px\",\"border\":\"1px solid #2e61e1\",\"transition\":\"all 0.3s\",\r\n                \"cursor\": isSeatOccupied(seatNum) ? \"not-allowed\" : \"pointer\",\r\n                \"backgroundColor\": selectedSeat === seatNum\r\n                  ? \"#e6f7ff\" // 选中\r\n                  : (isSeatOccupied(seatNum) ? \"#f8d7da\" : \"#fff\"), // 占用/可选\r\n                \"color\": isSeatOccupied(seatNum) ? \"#c0c4cc\" : \"#333\", // 字体颜色\r\n                \"border-color\": isSeatOccupied(seatNum) ? \"#dcdfe6\" : (selectedSeat === seatNum ? \"#2E61E1\" : \"#2e61e1\")\r\n              }'\r\n          >\r\n            {{ seatNum }}\r\n          </div>\r\n        </div>\r\n        <div v-else style=\"padding: 20px; color: #f56c6c; text-align: center;\">该自习室暂无座位信息 (容纳人数: {{ detail.rongnarenshu || 0 }})</div>\r\n\r\n\r\n        <div class=\"selected-hint\" v-if=\"totalSeats > 0\" :style=\"{\r\n          marginTop: '20px',\r\n          color: '#666',\r\n          fontSize: '14px',\r\n          textAlign: 'center',\r\n          padding: '10px',\r\n          background: '#fff',\r\n          borderRadius: '6px',\r\n          maxWidth: '500px',\r\n          margin: '20px auto 0'\r\n        }\">\r\n          <i class=\"el-icon-info\" :style=\"{color: '#2E61E1', marginRight: '6px'}\"></i>\r\n          您已选择座位号：<span style=\"color: #2e61e1; font-weight: 500;\">{{ selectedSeat || '暂未选择' }}</span>\r\n        </div>\r\n\r\n        <div class=\"bottom-buttons\" :style='{\"padding\":\"20px 0\",\"textAlign\":\"center\"}'>\r\n          <el-button\r\n              :disabled=\"!selectedSeat\"\r\n              type=\"warning\"\r\n              @click=\"openTimeModal\"\r\n              :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0 24px\",\"margin\":\"0 10px\",\"outline\":\"none\",\"color\":\"#fff\",\"borderRadius\":\"4px\",\"background\":\"#FF9900\",\"width\":\"auto\",\"height\":\"40px\", \"opacity\": selectedSeat ? 1 : 0.6}'\r\n          >\r\n            可约时间\r\n          </el-button>\r\n\r\n          <el-button\r\n              :disabled=\"!selectedSeat\"\r\n              type=\"primary\"\r\n              @click=\"jumpToYuyue(selectedSeat)\"\r\n              :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0 24px\",\"margin\":\"0 10px\",\"outline\":\"none\",\"color\":\"#fff\",\"borderRadius\":\"4px\",\"background\":\"#2e61e1\",\"width\":\"auto\",\"height\":\"40px\", \"opacity\": selectedSeat ? 1 : 0.6}'\r\n          >\r\n            在线预约\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style=\"width: 100%; display: flex; justify-content: center; margin: 30px 0 20px;\">\r\n        <el-button\r\n            :style=\"{\r\n            border: '1px solid #97C9D6',\r\n            cursor: 'pointer',\r\n            padding: '0 24px',\r\n            boxShadow: '0px 2px 2px 0px #78ABC3',\r\n            outline: 'none',\r\n            color: '#78ABC3',\r\n            borderRadius: '30px',\r\n            background: '#fff',\r\n            fontSize: '14px',\r\n            height: '40px',\r\n            transition: 'all 0.2s'\r\n          }\"\r\n            @click=\"goBack\"\r\n        >\r\n          <i class=\"el-icon-arrow-left\" style=\"margin-right: 6px;\"></i>返回自习室列表\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <el-dialog\r\n        title=\"可约时间查询\"\r\n        :visible.sync=\"showTimeModal\"\r\n        width=\"800px\"\r\n    >\r\n      <div style=\"padding: 20px; font-size: 14px;\">\r\n        <h3 style=\"margin-bottom: 20px;\">\r\n          <span v-if=\"detail.mingcheng\">{{ detail.mingcheng }} - </span> 座位号: {{ selectedSeat }}\r\n        </h3>\r\n\r\n        <div style=\"margin-bottom: 20px; text-align: center;\">\r\n          <el-button\r\n              :type=\"availableDate === 'Today' ? 'primary' : 'default'\"\r\n              @click=\"changeAvailableDate('Today')\"\r\n              :disabled=\"!isTodayAvailable\"\r\n          >\r\n            今天 ({{ getDisplayDate('Today') }})\r\n          </el-button>\r\n          <el-button\r\n              :type=\"availableDate === 'Tomorrow' ? 'primary' : 'default'\"\r\n              @click=\"changeAvailableDate('Tomorrow')\"\r\n          >\r\n            明天 ({{ getDisplayDate('Tomorrow') }})\r\n          </el-button>\r\n        </div>\r\n\r\n        <div class=\"time-bar-container\">\r\n          <div class=\"time-bar-header\">\r\n                <span v-for=\"h in 14\" :key=\"'h'+h\" :style=\"{width: '7.14%'}\">\r\n                    {{ 7 + h }}:00\r\n                </span>\r\n          </div>\r\n\r\n          <div class=\"time-bar-body\">\r\n            <div\r\n                v-for=\"slot in timeBarSlots\"\r\n                :key=\"slot.start\"\r\n                :class=\"['time-slot', {'slot-booked': slot.isBooked, 'slot-free': !slot.isBooked}]\"\r\n                :title=\"slot.title\"\r\n            >\r\n            </div>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px; text-align: center;\">\r\n            <span class=\"legend-item slot-free\"></span> <span>可约时段</span>\r\n            <span class=\"legend-item slot-booked\" style=\"margin-left: 15px;\"></span> <span>已被预约/不可约</span>\r\n            <div style=\"font-size: 12px; color: #999; margin-top: 10px;\">注意: 预约时间范围为 8:00 至 22:00。每个时间块代表一小时。</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CountDown from \"@/components/CountDown\";\r\n// 移除了不必要的 Vue 导入\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tablename: \"zixishi\",\r\n      baseUrl: \"\",\r\n      breadcrumbItem: [{ name: \"自习室详情\" }],\r\n      title: \"\",\r\n      detailBanner: [],\r\n      endTime: 0,\r\n      detail: {},\r\n      // --- 座位/预约相关数据 ---\r\n      totalSeats: 0, // 从 detail.rongnarenshu 获取\r\n      occupiedSeats: [], // 模拟的已占用座位列表（可在 init 中加载）\r\n      selectedSeat: null, // 当前选中的座位号\r\n      // --- 时间条相关数据 ---\r\n      showTimeModal: false,\r\n      availableDate: 'Today', // 默认今天\r\n      bookedSlots: [], // 后端返回的已预约时段\r\n      timeBarSlots: [], // 用于渲染时间条的计算结果 (8:00-22:00)\r\n    };\r\n  },\r\n  computed: {\r\n    // 新增：判断今天是否还有可预约的时间（当前时间在 22:00 前）\r\n    isTodayAvailable() {\r\n      const now = new Date();\r\n      // 22:00:00\r\n      const endHour = 22;\r\n      return now.getHours() < endHour;\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n    // 移除不必要的 this.initSeats();\r\n  },\r\n  methods: {\r\n    // 获取 0 填充的数字\r\n    getMakeZero(s) {\r\n      return s < 10 ? \"0\" + s : s;\r\n    },\r\n\r\n    // 获取指定日期字符串 (YYYY-MM-DD)\r\n    getDateString(day) {\r\n      const date = new Date();\r\n      if (day === 'Tomorrow') {\r\n        date.setDate(date.getDate() + 1);\r\n      }\r\n      const year = date.getFullYear();\r\n      const month = this.getMakeZero(date.getMonth() + 1);\r\n      const dayOfMonth = this.getMakeZero(date.getDate());\r\n      return `${year}-${month}-${dayOfMonth}`;\r\n    },\r\n\r\n    // 获取显示日期 (X月Y日)\r\n    getDisplayDate(day) {\r\n      const date = new Date();\r\n      if (day === 'Tomorrow') {\r\n        date.setDate(date.getDate() + 1);\r\n      }\r\n      return (date.getMonth() + 1) + '月' + date.getDate() + '日';\r\n    },\r\n\r\n    // 新增：返回列表页方法\r\n    goBack() {\r\n      this.$router.push('/index/zixishi');\r\n    },\r\n\r\n    init() {\r\n      this.baseUrl = this.$config.baseUrl;\r\n\r\n      let id = this.$route.query.id;\r\n      if (!id) {\r\n        if (this.$route.query.detailObj) {\r\n          this.detail = JSON.parse(this.$route.query.detailObj);\r\n          id = this.detail.id;\r\n        }\r\n        if (this.$route.query.storeupObj) {\r\n          this.detail.id = JSON.parse(this.$route.query.storeupObj).refid;\r\n          id = this.detail.id;\r\n        }\r\n      }\r\n\r\n      if (!id) return; // 如果没有ID，则不发起请求\r\n\r\n      this.$http\r\n          .get(this.tablename + \"/detail/\" + id, {})\r\n          .then((res) => {\r\n            if (res.data.code == 0) {\r\n              this.detail = res.data.data;\r\n              this.title = this.detail.mingcheng;\r\n              this.detailBanner = this.detail.tupian\r\n                  ? this.detail.tupian.split(\",\")\r\n                  : [];\r\n              // !!! 核心修复: 从容纳人数设置座位总数 !!!\r\n              this.totalSeats = this.detail.rongnarenshu ? parseInt(this.detail.rongnarenshu) || 0 : 0;\r\n              // 初始加载今天（Today）的已占用座位列表（仅用于显示哪些座位被占，不进行时段查询）\r\n              this.fetchOccupiedSeats('Today');\r\n              this.$forceUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    // 获取当前自习室所有已占用的座位列表 (用于座位图初始渲染)\r\n    fetchOccupiedSeats(day) {\r\n      if (!this.detail.id) return;\r\n\r\n      // 仅用于获取当前日期（Today或Tomorrow）的**全天**被占用座位，用于渲染座位图\r\n      const dateString = this.getDateString(day);\r\n\r\n      this.$http.get('yuyuexinxi/seat/occupied', {\r\n        params: {\r\n          zixishiid: this.detail.id,\r\n          date: dateString\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code === 0) {\r\n          // 假设后端返回 [1, 5, 10] 这样的座位号数组\r\n          this.occupiedSeats = res.data.data || [];\r\n        } else {\r\n          // 接口失败，清空占用列表\r\n          this.occupiedSeats = [];\r\n          // 如果需要，可以显示错误消息\r\n          // this.$message.error('获取座位占用信息失败');\r\n        }\r\n      }).catch(err => {\r\n        console.error(\"fetchOccupiedSeats 接口请求失败:\", err);\r\n        this.occupiedSeats = [];\r\n      });\r\n    },\r\n\r\n    // 判断座位是否已占用\r\n    isSeatOccupied(seatNum) {\r\n      // 注意：这里是判断某个座位是否在 occupiedSeats 列表中\r\n      return this.occupiedSeats.includes(seatNum);\r\n    },\r\n\r\n    // 处理座位点击事件\r\n    handleSeatClick(seatNum) {\r\n      if (this.isSeatOccupied(seatNum)) {\r\n        this.$message.warning(\"该座位已被占用，请选择其他座位\");\r\n        this.selectedSeat = null;\r\n        return;\r\n      }\r\n      // 切换选中状态\r\n      this.selectedSeat = this.selectedSeat === seatNum ? null : seatNum;\r\n    },\r\n\r\n    // 跳转到预约页面\r\n    jumpToYuyue(seatNum) {\r\n      if (!seatNum) {\r\n        this.$message.error(\"请先选择一个座位\");\r\n        return;\r\n      }\r\n\r\n      // 确保 `detail.rongnarenshu` 有值，作为座位号的上限验证\r\n      if (seatNum > this.totalSeats) {\r\n        this.$message.error(\"座位号超出范围\");\r\n        return;\r\n      }\r\n\r\n      // 存储跨表数据\r\n      localStorage.setItem(\"crossTable\", \"zixishi\");\r\n      localStorage.setItem(\"crossObj\", JSON.stringify(this.detail));\r\n\r\n      // 额外存储预约信息所需的座位号\r\n      const crossObj = JSON.parse(localStorage.getItem(\"crossObj\") || {});\r\n      crossObj[\"zuowei\"] = seatNum;\r\n      localStorage.setItem(\"crossObj\", JSON.stringify(crossObj));\r\n\r\n      // 确保路径正确\r\n      this.$router.push({ path: '/index/yuyuexinxiAdd', query: { type: 'cross' } });\r\n    },\r\n\r\n    // 可约时间弹窗相关方法\r\n    openTimeModal() {\r\n      if (!this.selectedSeat) {\r\n        this.$message.error('请先选择一个座位');\r\n        return;\r\n      }\r\n\r\n      // 如果今天不可用，则默认显示明天\r\n      this.availableDate = this.isTodayAvailable ? 'Today' : 'Tomorrow';\r\n\r\n      this.showTimeModal = true;\r\n      this.fetchBookedSlots(this.availableDate); // 加载当前选定日期的数据\r\n    },\r\n\r\n    changeAvailableDate(day) {\r\n      if (day === 'Today' && !this.isTodayAvailable) {\r\n        this.$message.warning(\"今天已过预约截止时间 22:00，请查看明天的时间。\");\r\n        return;\r\n      }\r\n      this.availableDate = day;\r\n      this.fetchBookedSlots(day);\r\n    },\r\n\r\n    // 调用后端接口，获取指定日期、指定座位的已预约时段\r\n    fetchBookedSlots(day) {\r\n      if (!this.detail.id || !this.selectedSeat) return;\r\n\r\n      const dateString = this.getDateString(day);\r\n      const isToday = day === 'Today';\r\n\r\n      // !!! 假设后端 seat/list 接口返回的是指定日期、指定座位的所有预约记录 !!!\r\n      this.$http.get('yuyuexinxi/seat/list', {\r\n        params: {\r\n          zixishiid: this.detail.id,\r\n          zuowei: this.selectedSeat,\r\n          date: dateString // 传递查询日期\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code === 0) {\r\n          this.bookedSlots = res.data.data || [];\r\n          this.timeBarSlots = this.calculateAvailableSlots(this.bookedSlots, dateString, isToday);\r\n        } else {\r\n          // 如果接口返回错误码\r\n          this.$message.error('获取预约时段失败: ' + (res.data.msg || '未知错误'));\r\n          this.bookedSlots = [];\r\n          this.timeBarSlots = this.calculateAvailableSlots([], dateString, isToday);\r\n        }\r\n      }).catch(err => {\r\n        console.error(\"fetchBookedSlots 接口请求失败:\", err);\r\n        this.$message.error('网络错误，无法获取可约时间。');\r\n        this.bookedSlots = [];\r\n        this.timeBarSlots = this.calculateAvailableSlots([], dateString, isToday);\r\n      });\r\n    },\r\n\r\n    // 核心逻辑：将已预约时段转换为 8:00-22:00 的时间条数据\r\n    calculateAvailableSlots(bookedList, dateString, isToday) {\r\n      // 定义 8:00 到 22:00 的 14 个一小时时段\r\n      const timeSlots = [];\r\n      const NOW = new Date();\r\n\r\n      for (let h = 8; h < 22; h++) {\r\n        const slot = {\r\n          start: h, // 8, 9, 10, ... 21\r\n          end: h + 1, // 9, 10, 11, ... 22\r\n          isBooked: false, // 是否被占用或过期\r\n          title: `${this.getMakeZero(h)}:00 - ${this.getMakeZero(h + 1)}:00`\r\n        };\r\n\r\n        // 1. 针对今天，标记已过期时段 (以小时为粒度)\r\n        if (isToday) {\r\n          // 当前槽位的结束时间（小时）\r\n          if (h + 1 <= NOW.getHours()) {\r\n            slot.isBooked = true;\r\n            slot.title += ' (已过期/不可约)';\r\n          }\r\n        }\r\n\r\n        timeSlots.push(slot);\r\n      }\r\n\r\n      // 2. 标记已被预约的时段\r\n      bookedList.forEach(booked => {\r\n        const currentDay = dateString;\r\n\r\n        let bookedStartTime;\r\n        let bookedEndTime;\r\n\r\n        try {\r\n          // 确保日期格式正确，以便 new Date() 解析\r\n          bookedStartTime = new Date(booked.yuyueStart).getTime();\r\n          bookedEndTime = new Date(booked.yuyueEnd).getTime();\r\n        } catch(e) {\r\n          console.error(\"日期解析错误\", booked.yuyueStart, booked.yuyueEnd, e);\r\n          return; // 跳过此条错误数据\r\n        }\r\n\r\n\r\n        // 遍历每个一小时的槽位，检查是否与预约时间冲突\r\n        for (let i = 0; i < timeSlots.length; i++) {\r\n          const slot = timeSlots[i];\r\n\r\n          // 跳过已标记为不可约的（如已过期）\r\n          if (slot.isBooked && slot.title.includes('(已过期/不可约)')) {\r\n            continue;\r\n          }\r\n\r\n          // 计算当前槽位在当前日期下的时间戳\r\n          const slotStartTime = new Date(`${currentDay} ${this.getMakeZero(slot.start)}:00:00`).getTime();\r\n          const slotEndTime = new Date(`${currentDay} ${this.getMakeZero(slot.end)}:00:00`).getTime();\r\n\r\n          // 检查两个时间段 [A, B) 和 [C, D) 是否重叠： A < D 且 C < B\r\n          if (bookedStartTime < slotEndTime && slotStartTime < bookedEndTime) {\r\n            slot.isBooked = true;\r\n            if (!slot.title.includes('(已被预约)')) {\r\n              slot.title += ` (已被预约)`;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      return timeSlots;\r\n    },\r\n    // // --- 遗留方法 ---\r\n    // curChange(page) {\r\n    //   // this.getDiscussList(page);\r\n    // },\r\n    // prevClick(page) {\r\n    //   // this.getDiscussList(page);\r\n    // },\r\n    // nextClick(page) {\r\n    //   // this.getDiscussList(page);\r\n    // },\r\n    // 下载\r\n    download(file) {\r\n      if (!file) {\r\n        this.$message({\r\n          type: \"error\",\r\n          message: \"文件不存在\",\r\n          duration: 1500,\r\n        });\r\n        return;\r\n      }\r\n      window.open(this.baseUrl + file);\r\n    },\r\n    isAuth() {\r\n      // 保留原有权限判断逻辑\r\n      return true;\r\n    }\r\n  },\r\n  // components: {\r\n  //   CountDown,\r\n  // },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 全局盒模型\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\n// 面包屑样式\r\n.breadcrumb-preview .el-breadcrumb >>> .el-breadcrumb__separator {\r\n  margin: 0 9px;\r\n  color: #000;\r\n  font-weight: 500;\r\n}\r\n.breadcrumb-preview .el-breadcrumb >>> .el-breadcrumb__inner {\r\n  color: #000;\r\n  display: inline-block;\r\n}\r\n\r\n// 轮播图样式\r\n.el-carousel >>> .el-carousel__arrow {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: rgba(0,0,0,0.3);\r\n  color: #fff;\r\n  transition: all 0.3s;\r\n}\r\n.el-carousel >>> .el-carousel__arrow:hover {\r\n  background: rgba(46, 97, 225, 0.8);\r\n}\r\n.el-carousel >>> .el-carousel__indicators {\r\n  bottom: 10px;\r\n}\r\n.el-carousel >>> .el-carousel__indicators li {\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: rgba(255,255,255,0.5);\r\n  margin: 0 4px;\r\n}\r\n.el-carousel >>> .el-carousel__indicators li.is-active {\r\n  width: 20px;\r\n  border-radius: 4px;\r\n  background: #fff;\r\n}\r\n\r\n// 座位样式优化\r\n.seat-item {\r\n  // 可选座位悬停效果\r\n  &.seat-available:not(.seat-selected):hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 0 4px 8px rgba(46, 97, 225, 0.15);\r\n    border-color: #1E4CD8 !important;\r\n    cursor: pointer;\r\n  }\r\n\r\n  // 已选座位动画效果\r\n  &.seat-selected {\r\n    box-shadow: 0 0 0 3px rgba(46, 97, 225, 0.3);\r\n    animation: pulse 1.5s infinite;\r\n    background: #e6f7ff; /* 浅蓝色背景 */\r\n  }\r\n\r\n  // 已占用座位样式强化\r\n  &.seat-occupied {\r\n    background: #f8d7da; /* 浅红色背景 */\r\n    cursor: not-allowed;\r\n    opacity: 0.8;\r\n  }\r\n}\r\n\r\n// 脉冲动画\r\n@keyframes pulse {\r\n  0% {\r\n    box-shadow: 0 0 0 0 rgba(46, 97, 225, 0.4);\r\n  }\r\n  70% {\r\n    box-shadow: 0 0 0 6px rgba(46, 97, 225, 0);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0 rgba(46, 97, 225, 0);\r\n  }\r\n}\r\n\r\n// 解决scoped动画穿透问题\r\n::v-deep .seat-item.seat-selected {\r\n  animation: pulse 1.5s infinite;\r\n}\r\n\r\n// 响应式适配\r\n@media (max-width: 768px) {\r\n  .attr {\r\n    flex-direction: column !important;\r\n  }\r\n  .seat-map {\r\n    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)) !important;\r\n  }\r\n  .seat-item {\r\n    height: 60px !important;\r\n    line-height: 60px !important;\r\n    font-size: 12px !important;\r\n  }\r\n  .info-item {\r\n    min-width: 100% !important;\r\n  }\r\n  .seat-legend {\r\n    flex-wrap: wrap !important;\r\n    gap: 10px !important;\r\n  }\r\n}\r\n\r\n// 按钮悬停效果\r\n.el-button:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\r\n}\r\n\r\n// ******** 新增：时间条样式 ********\r\n.time-bar-container {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  max-width: 760px; /* 限制宽度 */\r\n  margin: 0 auto;\r\n}\r\n.time-bar-header {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  font-size: 10px;\r\n  color: #666;\r\n  margin-bottom: 5px;\r\n  padding-left: 1px; /* 对齐第一个时间刻度 */\r\n}\r\n.time-bar-header span {\r\n  text-align: left;\r\n  white-space: nowrap;\r\n  position: relative;\r\n}\r\n.time-bar-header span:first-child::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: 0;\r\n  top: -5px;\r\n  height: 10px;\r\n  border-left: 1px solid #ccc;\r\n}\r\n.time-bar-header span::after {\r\n  content: '';\r\n  position: absolute;\r\n  right: 0;\r\n  top: -5px;\r\n  height: 10px;\r\n  border-left: 1px solid #ccc;\r\n}\r\n\r\n.time-bar-body {\r\n  display: flex;\r\n  height: 40px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  box-sizing: content-box;\r\n}\r\n.time-slot {\r\n  width: 7.142857%; /* 100% / 14 slots (8:00-22:00) */\r\n  height: 100%;\r\n  cursor: default;\r\n  box-sizing: border-box;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.slot-free {\r\n  background-color: #d4edda; /* Light green */\r\n  border-right: 1px dashed #888;\r\n}\r\n.slot-booked {\r\n  background-color: #f8d7da; /* Light red */\r\n  border-right: 1px solid #888;\r\n  cursor: not-allowed;\r\n}\r\n.legend-item {\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 10px;\r\n  margin-right: 5px;\r\n  border: 1px solid #ccc;\r\n  vertical-align: middle;\r\n}\r\n</style>"],"sourceRoot":"src/pages/zixishi"}]}