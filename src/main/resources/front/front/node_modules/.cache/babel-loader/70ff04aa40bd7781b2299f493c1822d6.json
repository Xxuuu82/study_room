{"remainingRequest":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\tousu\\add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\src\\pages\\tousu\\add.vue","mtime":1766223126690},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6LzMvXHU4RjZGXHU0RUY2XHU1REU1XHU3QTBCL1x1OTg3OVx1NzZFRS9zdHVkeV9yb29tL3NyYy9tYWluL3Jlc291cmNlcy9mcm9udC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6LzMvXHU4RjZGXHU0RUY2XHU1REU1XHU3QTBCL1x1OTg3OVx1NzZFRS9zdHVkeV9yb29tL3NyYy9tYWluL3Jlc291cmNlcy9mcm9udC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuaXMtbmFuLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogIiIsCiAgICAgIGJhc2VVcmw6ICIiLAogICAgICBzdWJtaXR0aW5nOiBmYWxzZSwKICAgICAgLy8g5Y+q6K+75a2X5q616YWN572uCiAgICAgIHJvOiB7CiAgICAgICAgeHVlaGFvOiBmYWxzZQogICAgICB9LAogICAgICB0eXBlOiAiIiwKICAgICAgdXNlclRhYmxlTmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oIlVzZXJUYWJsZU5hbWUiKSwKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgdG91c3VkYW5oYW86IHRoaXMuZ2V0VVVJRCgpLAogICAgICAgIC8vIOiHquWKqOeUn+aIkOaKleivieWNleWPt++8iOWQjuerr+eUqO+8iQogICAgICAgIHh1ZWhhbzogIiIsCiAgICAgICAgLy8g5oqV6K+J5Lq65a2m5Y+377yI5pWw5a2X5a2X56ym5Liy77yJCiAgICAgICAgeml4aXNoaTogIiIsCiAgICAgICAgLy8g6Ieq5Lmg5a6k77yI5Y2V6YCJ77yJCiAgICAgICAgenVvd2VpaGFvOiAiIiwKICAgICAgICAvLyDluqfkvY3lj7fvvIjlrZfnrKbkuLLmiJbmlbDlrZfvvIkKICAgICAgICB0b3VzdWxlaXhpbmc6ICIiLAogICAgICAgIC8vIOaKleivieexu+Wei++8iOWNlemAie+8iQogICAgICAgIHRvdXN1UmVhc29uOiAiIiwKICAgICAgICAvLyDmipXor4nor6bmg4UKICAgICAgICB0b3VzdVRpbWU6ICIiLAogICAgICAgIC8vIOWIm+W7uuaXtumXtO+8iOWIneWni+S4uuepuu+8iQogICAgICAgIGNodWxpemh1YW5ndGFpOiAi5aSE55CG5LitIiAvLyDlj6/pgInvvIzkvYblkI7nq6/kuLvlr7wgc3RhdHVzIOWtl+autQoKICAgICAgfSwKICAgICAgLy8g6Ieq5Lmg5a6k6YCJ6aG577yI5Zu+54mH5Lit55qEOOS4qu+8iQogICAgICB6aXhpc2hpT3B0aW9uczogWyLlrr/oiI3mpbzoh6rkuaDlrqQiLCAiczJzIiwgIuWMl+WMuuacuuaIvyIsICLljJfljLoy5Y+35qW8IiwgIuWkmuWqkuS9k+aVmeWupCIsICLljJfljLrkuInlj7fmpbwiLCAi5Zu+5Lmm6aaGIiwgIuWkp+iHquS5oOWupCJdLAogICAgICAvLyDmipXor4nnsbvlnovpgInpobkKICAgICAgdG91c3VsZWl4aW5nT3B0aW9uczogWyLkubHlkIPkubHllp0iLCAi5aSn5aOw5Zan5ZOXIiwgIumaj+WcsOWkp+Wwj+S+vyIsICLlhbbku5YiXSwKICAgICAgLy8g6KGo5Y2V5qCh6aqM6KeE5YiZCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgLy8g5oqV6K+J5Lq65a2m5Y+35b+F5aGrCiAgICAgICAgeHVlaGFvOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5oqV6K+J5Lq65a2m5Y+35LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIC8vIOiHquS5oOWupOW/heWhqwogICAgICAgIHppeGlzaGk6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6noh6rkuaDlrqQiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICAvLyDluqfkvY3lj7fpnZ7lv4XloavvvIjnp7vpmaTlv4XloavmoKHpqozvvIkKICAgICAgICB6dW93ZWloYW86IFtdLAogICAgICAgIC8vIOaKleivieexu+Wei+W/heWhqwogICAgICAgIHRvdXN1bGVpeGluZzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaKleivieexu+WeiyIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIC8vIOaKleivieivpuaDheW/heWhqwogICAgICAgIHRvdXN1UmVhc29uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36K+m57uG5o+P6L+w5oqV6K+J5Y6f5ZugIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICBtZXNzYWdlOiAi5oqV6K+J5Y6f5Zug6Iez5bCR5aGr5YaZMTDkuKrlrZciLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMkJGNvbmZpZzsKCiAgICB2YXIgdHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUgPyB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlIDogIiI7CiAgICB0aGlzLmluaXQodHlwZSk7CiAgICB0aGlzLmJhc2VVcmwgPSAoKF90aGlzJCRjb25maWcgPSB0aGlzLiRjb25maWcpID09PSBudWxsIHx8IF90aGlzJCRjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRjb25maWcuYmFzZVVybCkgfHwgJyc7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHR5cGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudHlwZSA9IHR5cGU7CgogICAgICBpZiAodHlwZSA9PT0gImVkaXQiKSB7CiAgICAgICAgdmFyIGVkaXRPYmogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlZGl0Q29tcGxhaW50T2JqIikgfHwgInt9Iik7CgogICAgICAgIGlmIChPYmplY3Qua2V5cyhlZGl0T2JqKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLnJ1bGVGb3JtID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMucnVsZUZvcm0pLCBlZGl0T2JqKSwge30sIHsKICAgICAgICAgICAgdG91c3VsZWl4aW5nOiBlZGl0T2JqLnRvdXN1bGVpeGluZyB8fCAiIiwKICAgICAgICAgICAgeml4aXNoaTogZWRpdE9iai56aXhpc2hpIHx8ICIiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmnKrojrflj5bliLDnvJbovpHmlbDmja7vvIzlsIbliJvlu7rmlrDmipXor4knKTsKICAgICAgICB9CiAgICAgIH0gLy8g5Yid5aeL5YyW55So5oi35L+h5oGv77yI6Ieq5Yqo5aGr5YWF5b2T5YmN55m75b2V55So5oi35L+h5oGv77yJCgoKICAgICAgaWYgKCF0aGlzLnVzZXJUYWJsZU5hbWUpIHsKICAgICAgICB0aGlzLnJ1bGVGb3JtLnh1ZWhhbyA9ICIyMDIzMDAwMSI7CiAgICAgICAgdGhpcy5yby54dWVoYW8gPSB0cnVlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuJGh0dHApIHsKICAgICAgICB0aGlzLiRodHRwLmdldCh0aGlzLnVzZXJUYWJsZU5hbWUgKyAiL3Nlc3Npb24iLCB7CiAgICAgICAgICBlbXVsYXRlSlNPTjogdHJ1ZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhICYmIChyZXMuZGF0YS5jb2RlID09PSAwIHx8IHJlcy5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpKSB7CiAgICAgICAgICAgIHZhciB1c2VySW5mbyA9IHJlcy5kYXRhLmRhdGEgfHwge307CgogICAgICAgICAgICBpZiAodXNlckluZm8ueHVlaGFvKSB7CiAgICAgICAgICAgICAgX3RoaXMucnVsZUZvcm0ueHVlaGFvID0gdXNlckluZm8ueHVlaGFvOwogICAgICAgICAgICAgIF90aGlzLnJvLnh1ZWhhbyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oIuiOt+WPlueUqOaIt+S/oeaBr+Wksei0pe+8miIsIGVycik7CgogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uud2FybmluZygi5peg5rOV6Ieq5Yqo6I635Y+W55So5oi35L+h5oGv77yM6K+35omL5Yqo5aGr5YaZIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnlJ/miJDllK/kuIDmipXor4nljZXlj7cKICAgIGdldFVVSUQ6IGZ1bmN0aW9uIGdldFVVSUQoKSB7CiAgICAgIHJldHVybiAiVFMiICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICB9LAogICAgLy8g5bCG6KGo5Y2V5YC85pig5bCE5Li65ZCO56uvIENvbXBsYWludEVudGl0eSDlj6/mjqXmlLbnmoTlrZfmrrXlubbmj5DkuqQKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLnJ1bGVGb3JtLnRvdXN1VGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxOSkucmVwbGFjZSgnVCcsICcgJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzWyJydWxlRm9ybSJdLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHZhciB1c2VySWROdW0sIHJvb21JbmRleCwgcm9vbUlkLCBzZWF0SWROdW0sIGNhdGVnb3J5SW5kZXgsIGNhdGVnb3J5LCBwYXlsb2FkLCBoZWFkZXJzLCB0b2tlbiwgcmVzcCwgbXNnOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLnN1Ym1pdHRpbmcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3VibWl0dGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmmKDlsITor7TmmI7vvJoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gY29tcGxhaW50Tm8gLT4g5oqV6K+J5Y2V5Y+3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtIHVzZXJJZCAtPiDlrablj7fvvIjlsJ3or5XovazkuLrmlbDlrZfvvIzlpoLmnpzml6Dms5XovazkuLrmlbDlrZfliJnkv53nlZnljp/lrZfnrKbkuLLvvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gcm9vbUlkIC0+IOaIkeeUqCB6aXhpc2hpT3B0aW9ucyDnmoQgaW5kZXgrMSDkvZzkuLogcm9vbUlk77yI5L2g5Y+v5Lul5pu/5o2i5Li655yf5a6eIGlkIOaYoOWwhO+8iQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBzZWF0SWQgLT4g5bCd6K+V5oqK5bqn5L2N5Y+36L2s5Li65pWw5a2X77yM5ZCm5YiZIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gY2F0ZWdvcnkgLT4g5oqK5oqV6K+J57G75Z6L5pig5bCE5Li6IGluZGV4KzEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gZGV0YWlsIC0+IOaKleivieivpuaDhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkTnVtID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IE51bWJlcihfdGhpczIucnVsZUZvcm0ueHVlaGFvKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihuKSA/IF90aGlzMi5ydWxlRm9ybS54dWVoYW8gOiBuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21JbmRleCA9IF90aGlzMi56aXhpc2hpT3B0aW9ucy5pbmRleE9mKF90aGlzMi5ydWxlRm9ybS56aXhpc2hpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21JZCA9IHJvb21JbmRleCA+PSAwID8gcm9vbUluZGV4ICsgMSA6IDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhdElkTnVtID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IE51bWJlcihfdGhpczIucnVsZUZvcm0uenVvd2VpaGFvKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihuKSA/IDAgOiBuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SW5kZXggPSBfdGhpczIudG91c3VsZWl4aW5nT3B0aW9ucy5pbmRleE9mKF90aGlzMi5ydWxlRm9ybS50b3VzdWxlaXhpbmcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBjYXRlZ29yeUluZGV4ID49IDAgPyBjYXRlZ29yeUluZGV4ICsgMSA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGFpbnRObzogX3RoaXMyLnJ1bGVGb3JtLnRvdXN1ZGFuaGFvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZE51bSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiByb29tSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXRJZDogc2VhdElkTnVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2aWRlbmNlVXJsczogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5L2g5pyJ5Zu+54mH5LiK5Lyg6K+35LygIFVSTCDmlbDnu4TvvIjmiJYgSlNPTiDlrZfnrKbkuLLvvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfdGhpczIucnVsZUZvcm0udG91c3VSZWFzb24gLy8gc3RhdHVzIC8gaXNQcm9jZXNzZWQg5ZCO56uv6buY6K6k5Lya5aSE55CG77yM6L+Z6YeM5LiN5by65Yi2CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmj5DkuqTnmoTmipXor4nmlbDmja7vvJoiLCBwYXlsb2FkKTsgLy8g5pu/5o2i5L2g546w5pyJ55qE6K+35rGC5aS05p6E6YCg6YOo5YiG77yIYWRkLnZ1ZSDkuK3vvIkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUb2tlbicpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdBdXRob3JpemF0aW9uJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSA/IHRva2VuIDogIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ1Rva2VuJ10gPSB0b2tlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2NvbXBsYWludC9zYXZlJywgcGF5bG9hZCwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5qC55o2u5ZCO56uv6L+U5Zue5Yik5patCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcCAmJiByZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfdGhpczIudHlwZSA9PT0gJ2VkaXQnID8gIuaKleivieabtOaWsOaIkOWKnyIgOiAi5oqV6K+J5o+Q5Lqk5oiQ5Yqf77yM562J5b6F566h55CG5ZGY5aSE55CGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDE2MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL2luZGV4L3RvdXN1JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOS9oOeahCBSLm9rIOi/lOWbnuagvOW8j+S4jeWQjO+8iOavlOWmguayoeaciSBjb2Rl77yJ77yM5Y+v5Lul5qC55o2u5a6e6ZmF6LCD5pW05Yik5patCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IHJlc3AgJiYgcmVzcC5kYXRhICYmIHJlc3AuZGF0YS5tc2cgfHwgJ+aPkOS6pOWksei0pe+8jOivt+mHjeivlSc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IobXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLmj5DkuqTmipXor4nlh7rplJnvvJoiLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCLmj5DkuqTlpLHotKXvvIznvZHnu5zmiJbmnI3liqHlmajplJnor68iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdWJtaXR0aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDI3KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNSwgMjMsIDI3LCAzMF1dKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDov5Tlm57mipXor4nliJfooagKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2luZGV4L3RvdXN1JywKICAgICAgICByZXBsYWNlOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div\r\n      :style=\"{\r\n      width: '100%',\r\n      maxWidth: '1000px',\r\n      padding: '20px',\r\n      margin: '10px auto',\r\n      position: 'relative',\r\n      background: '#fff',\r\n      boxSizing: 'border-box'\r\n    }\"\r\n  >\r\n    <!-- 新增面包屑导航 -->\r\n    <div :style=\"{\r\n      marginBottom: '20px',\r\n      paddingBottom: '10px',\r\n      borderBottom: '1px solid #e4e7ed'\r\n    }\">\r\n      <el-breadcrumb :separator=\"'/'\" :style='{\"fontSize\":\"14px\",\"lineHeight\":\"1\",\"color\":\"#333\"}'>\r\n        <el-breadcrumb-item @click=\"$router.push('/index/home')\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item @click=\"$router.push('/index/tousu')\">投诉中心</el-breadcrumb-item>\r\n        <el-breadcrumb-item>{{ type === 'edit' ? '编辑投诉' : '新增投诉' }}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <el-form\r\n        class=\"add-update-preview\"\r\n        ref=\"ruleForm\"\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        label-width=\"120px\"\r\n        :style=\"{width: '100%', maxWidth: '800px', margin: '0 auto'}\"\r\n    >\r\n      <!-- 投诉人学号 -->\r\n      <el-form-item\r\n          label=\"投诉人学号\"\r\n          prop=\"xuehao\"\r\n          :style=\"{marginBottom: '15px'}\"\r\n      >\r\n        <el-input\r\n            v-model=\"ruleForm.xuehao\"\r\n            placeholder=\"投诉人学号\"\r\n            clearable\r\n            :readonly=\"ro.xuehao\"\r\n            :style=\"{\r\n              width: '100%',\r\n              height: '36px',\r\n              border: '1px solid #dcdfe6',\r\n              borderRadius: '4px',\r\n              background: '#f5f7fa'\r\n            }\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <!-- 自习室（单选框） -->\r\n      <el-form-item\r\n          label=\"自习室\"\r\n          prop=\"zixishi\"\r\n          :style=\"{marginBottom: '15px'}\"\r\n      >\r\n        <el-radio-group\r\n            v-model=\"ruleForm.zixishi\"\r\n            style=\"width: 100%;\"\r\n        >\r\n          <el-radio\r\n              v-for=\"(item, index) in zixishiOptions\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :style=\"{\r\n                display: 'inline-block',\r\n                margin: '0 20px 10px 0',\r\n                fontSize: '14px',\r\n                color: '#666'\r\n              }\"\r\n          >\r\n            {{ item }}\r\n          </el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n\r\n      <!-- 座位号 -->\r\n      <el-form-item\r\n          label=\"座位号\"\r\n          prop=\"zuoweihao\"\r\n          :style=\"{marginBottom: '15px'}\"\r\n      >\r\n        <el-input\r\n            v-model=\"ruleForm.zuoweihao\"\r\n            placeholder=\"请输入座位号\"\r\n            clearable\r\n            :style=\"{\r\n              width: '100%',\r\n              height: '36px',\r\n              border: '1px solid #dcdfe6',\r\n              borderRadius: '4px'\r\n            }\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <!-- 投诉类型（单选框） -->\r\n      <el-form-item\r\n          label=\"投诉类型\"\r\n          prop=\"tousuleixing\"\r\n          :style=\"{marginBottom: '15px'}\"\r\n      >\r\n        <el-radio-group\r\n            v-model=\"ruleForm.tousuleixing\"\r\n            style=\"width: 100%;\"\r\n        >\r\n          <el-radio\r\n              v-for=\"(item, index) in tousuleixingOptions\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :style=\"{\r\n                display: 'inline-block',\r\n                margin: '0 20px 0 0',\r\n                fontSize: '14px',\r\n                color: '#666'\r\n              }\"\r\n          >\r\n            {{ item }}\r\n          </el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n\r\n      <!-- 投诉详情 -->\r\n      <el-form-item\r\n          label=\"投诉详情\"\r\n          prop=\"tousuReason\"\r\n          :style=\"{marginBottom: '15px'}\"\r\n      >\r\n        <el-input\r\n            v-model=\"ruleForm.tousuReason\"\r\n            type=\"textarea\"\r\n            placeholder=\"请详细描述投诉原因，至少10个字\"\r\n            clearable\r\n            :rows=\"5\"\r\n            :style=\"{\r\n              width: '100%',\r\n              border: '1px solid #dcdfe6',\r\n              borderRadius: '4px'\r\n            }\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n\r\n      <!-- 提交/返回按钮 -->\r\n      <el-form-item :style=\"{textAlign: 'left', marginBottom: '0'}\">\r\n        <el-button\r\n            :loading=\"submitting\"\r\n            type=\"primary\"\r\n            @click=\"onSubmit\"\r\n            :style=\"{\r\n              padding: '0 20px',\r\n              height: '36px',\r\n              borderRadius: '4px',\r\n              fontSize: '14px',\r\n              background: '#409eff',\r\n              color: '#fff',\r\n              border: 'none',\r\n              marginRight: '10px'\r\n            }\"\r\n        >{{ type === 'edit' ? '更新投诉' : '提交投诉' }}</el-button\r\n        >\r\n        <el-button\r\n            @click=\"back()\"\r\n            :style=\"{\r\n              padding: '0 20px',\r\n              height: '36px',\r\n              borderRadius: '4px',\r\n              fontSize: '14px',\r\n              background: '#fff',\r\n              color: '#666',\r\n              border: '1px solid #dcdfe6'\r\n            }\"\r\n        >返回</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: \"\",\r\n      baseUrl: \"\",\r\n      submitting: false,\r\n      // 只读字段配置\r\n      ro: {\r\n        xuehao: false,\r\n      },\r\n      type: \"\",\r\n      userTableName: localStorage.getItem(\"UserTableName\"),\r\n      // 表单数据\r\n      ruleForm: {\r\n        tousudanhao: this.getUUID(), // 自动生成投诉单号（后端用）\r\n        xuehao: \"\", // 投诉人学号（数字字符串）\r\n        zixishi: \"\", // 自习室（单选）\r\n        zuoweihao: \"\", // 座位号（字符串或数字）\r\n        tousuleixing: \"\", // 投诉类型（单选）\r\n        tousuReason: \"\", // 投诉详情\r\n        tousuTime: \"\", // 创建时间（初始为空）\r\n        chulizhuangtai: \"处理中\", // 可选，但后端主导 status 字段\r\n      },\r\n      // 自习室选项（图片中的8个）\r\n      zixishiOptions: [\"宿舍楼自习室\", \"s2s\", \"北区机房\", \"北区2号楼\", \"多媒体教室\", \"北区三号楼\", \"图书馆\", \"大自习室\"],\r\n      // 投诉类型选项\r\n      tousuleixingOptions: [\"乱吃乱喝\", \"大声喧哗\", \"随地大小便\", \"其他\"],\r\n      // 表单校验规则\r\n      rules: {\r\n        // 投诉人学号必填\r\n        xuehao: [\r\n          { required: true, message: \"投诉人学号不能为空\", trigger: \"blur\" }\r\n        ],\r\n        // 自习室必填\r\n        zixishi: [\r\n          { required: true, message: \"请选择自习室\", trigger: \"change\" }\r\n        ],\r\n        // 座位号非必填（移除必填校验）\r\n        zuoweihao: [],\r\n        // 投诉类型必填\r\n        tousuleixing: [\r\n          { required: true, message: \"请选择投诉类型\", trigger: \"change\" }\r\n        ],\r\n        // 投诉详情必填\r\n        tousuReason: [\r\n          { required: true, message: \"请详细描述投诉原因\", trigger: \"blur\" },\r\n          { min: 10, message: \"投诉原因至少填写10个字\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    let type = this.$route.query.type ? this.$route.query.type : \"\";\r\n    this.init(type);\r\n    this.baseUrl = this.$config?.baseUrl || '';\r\n  },\r\n  methods: {\r\n    init(type) {\r\n      this.type = type;\r\n      if (type === \"edit\") {\r\n        let editObj = JSON.parse(localStorage.getItem(\"editComplaintObj\") || \"{}\");\r\n        if (Object.keys(editObj).length > 0) {\r\n          this.ruleForm = {\r\n            ...this.ruleForm,\r\n            ...editObj,\r\n            tousuleixing: editObj.tousuleixing || \"\",\r\n            zixishi: editObj.zixishi || \"\"\r\n          };\r\n        } else {\r\n          this.$message.warning('未获取到编辑数据，将创建新投诉');\r\n        }\r\n      }\r\n\r\n      // 初始化用户信息（自动填充当前登录用户信息）\r\n      if (!this.userTableName) {\r\n        this.ruleForm.xuehao = \"20230001\";\r\n        this.ro.xuehao = true;\r\n        return;\r\n      }\r\n\r\n      if (this.$http) {\r\n        this.$http\r\n            .get(this.userTableName + \"/session\", { emulateJSON: true })\r\n            .then((res) => {\r\n              if (res.data && (res.data.code === 0 || res.data.success === true)) {\r\n                const userInfo = res.data.data || {};\r\n                if (userInfo.xuehao) {\r\n                  this.ruleForm.xuehao = userInfo.xuehao;\r\n                  this.ro.xuehao = true;\r\n                }\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.warn(\"获取用户信息失败：\", err);\r\n              this.$message.warning(\"无法自动获取用户信息，请手动填写\");\r\n            });\r\n      }\r\n    },\r\n\r\n    // 生成唯一投诉单号\r\n    getUUID() {\r\n      return \"TS\" + new Date().getTime();\r\n    },\r\n\r\n    // 将表单值映射为后端 ComplaintEntity 可接收的字段并提交\r\n    async onSubmit() {\r\n      this.ruleForm.tousuTime = new Date().toISOString().slice(0, 19).replace('T', ' ');\r\n      this.$refs[\"ruleForm\"].validate(async (valid) => {\r\n        if (!valid) return;\r\n        if (this.submitting) return;\r\n        this.submitting = true;\r\n\r\n        try {\r\n          // 映射说明：\r\n          // - complaintNo -> 投诉单号\r\n          // - userId -> 学号（尝试转为数字，如果无法转为数字则保留原字符串）\r\n          // - roomId -> 我用 zixishiOptions 的 index+1 作为 roomId（你可以替换为真实 id 映射）\r\n          // - seatId -> 尝试把座位号转为数字，否则 0\r\n          // - category -> 把投诉类型映射为 index+1\r\n          // - detail -> 投诉详情\r\n          const userIdNum = (() => {\r\n            const n = Number(this.ruleForm.xuehao);\r\n            return Number.isNaN(n) ? this.ruleForm.xuehao : n;\r\n          })();\r\n\r\n          const roomIndex = this.zixishiOptions.indexOf(this.ruleForm.zixishi);\r\n          const roomId = roomIndex >= 0 ? (roomIndex + 1) : 0;\r\n\r\n          const seatIdNum = (() => {\r\n            const n = Number(this.ruleForm.zuoweihao);\r\n            return Number.isNaN(n) ? 0 : n;\r\n          })();\r\n\r\n          const categoryIndex = this.tousuleixingOptions.indexOf(this.ruleForm.tousuleixing);\r\n          const category = categoryIndex >= 0 ? (categoryIndex + 1) : 0;\r\n\r\n          const payload = {\r\n            complaintNo: this.ruleForm.tousudanhao,\r\n            userId: userIdNum,\r\n            roomId: roomId,\r\n            seatId: seatIdNum,\r\n            category: category,\r\n            evidenceUrls: null, // 如果你有图片上传请传 URL 数组（或 JSON 字符串）\r\n            detail: this.ruleForm.tousuReason,\r\n            // status / isProcessed 后端默认会处理，这里不强制\r\n          };\r\n\r\n          console.log(\"提交的投诉数据：\", payload);\r\n\r\n// 替换你现有的请求头构造部分（add.vue 中）\r\n          const headers = { 'Content-Type': 'application/json;charset=UTF-8' };\r\n          const token = localStorage.getItem('Token') || localStorage.getItem('token') || localStorage.getItem('Authorization');\r\n          if (token) {\r\n            headers['Authorization'] = token.startsWith('Bearer ') ? token : `Bearer ${token}`;\r\n            headers['Token'] = token;\r\n          }\r\n\r\n          const resp = await axios.post('/complaint/save', payload, {\r\n            headers,\r\n            withCredentials: true\r\n          });\r\n          // 根据后端返回判断\r\n          if (resp && resp.data && resp.data.code === 0) {\r\n            this.$message({\r\n              message: this.type === 'edit' ? \"投诉更新成功\" : \"投诉提交成功，等待管理员处理\",\r\n              type: \"success\",\r\n              duration: 1600,\r\n              onClose: () => {\r\n                this.$router.push({\r\n                  path: '/index/tousu',\r\n                  replace: true\r\n                });\r\n              },\r\n            });\r\n          } else {\r\n            // 如果你的 R.ok 返回格式不同（比如没有 code），可以根据实际调整判断\r\n            const msg = (resp && resp.data && resp.data.msg) || '提交失败，请重试';\r\n            this.$message.error(msg);\r\n          }\r\n        } catch (err) {\r\n          console.error(\"提交投诉出错：\", err);\r\n          this.$message.error(\"提交失败，网络或服务器错误\");\r\n        } finally {\r\n          this.submitting = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 返回投诉列表\r\n    back() {\r\n      this.$router.push({\r\n        path: '/index/tousu',\r\n        replace: true\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 移动端适配\r\n@media (max-width: 768px) {\r\n  .add-update-preview {\r\n    ::v-deep .el-form-item__label {\r\n      width: 100% !important;\r\n      text-align: left !important;\r\n      line-height: 24px !important;\r\n      padding: 0 0 8px 0 !important;\r\n    }\r\n\r\n    ::v-deep .el-form-item__content {\r\n      margin-left: 0 !important;\r\n    }\r\n  }\r\n}\r\n\r\n// 表单标签样式\r\n.add-update-preview {\r\n  ::v-deep .el-form-item__label {\r\n    padding: 0;\r\n    color: #666;\r\n    font-weight: 400;\r\n    width: 120px;\r\n    font-size: 14px;\r\n    line-height: 36px;\r\n    text-align: left;\r\n  }\r\n\r\n  ::v-deep .el-form-item__content {\r\n    margin-left: 0;\r\n  }\r\n\r\n  // 单选框样式\r\n  ::v-deep .el-radio__inner {\r\n    width: 16px;\r\n    height: 16px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  // 面包屑样式\r\n  ::v-deep .el-breadcrumb {\r\n    .el-breadcrumb__separator {\r\n      margin: 0 8px;\r\n      color: #666;\r\n    }\r\n\r\n    .el-breadcrumb__inner {\r\n      color: #333;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/pages/tousu"}]}