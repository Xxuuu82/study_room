{"remainingRequest":"D:\\3\\软件工程\\项目\\study_room1\\study_room1\\study_room4\\study_room\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\3\\软件工程\\项目\\study_room1\\study_room1\\study_room4\\study_room\\src\\main\\resources\\admin\\admin\\src\\utils\\http.js","dependencies":[{"path":"D:\\3\\软件工程\\项目\\study_room1\\study_room1\\study_room4\\study_room\\src\\main\\resources\\admin\\admin\\src\\utils\\http.js","mtime":1766075474000},{"path":"D:\\3\\软件工程\\项目\\study_room1\\study_room1\\study_room4\\study_room\\src\\main\\resources\\admin\\admin\\babel.config.js","mtime":1678242320000},{"path":"D:\\3\\软件工程\\项目\\study_room1\\study_room1\\study_room4\\study_room\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3\\软件工程\\项目\\study_room1\\study_room1\\study_room4\\study_room\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyL3JvdXRlci1zdGF0aWMnOwppbXBvcnQgc3RvcmFnZSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UnOwp2YXIgaHR0cCA9IGF4aW9zLmNyZWF0ZSh7CiAgdGltZW91dDogMTAwMCAqIDg2NDAwLAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAvLyDmoLjlv4Pkv67mlLnvvJrooaXlhYXlkI7nq69JUCvnq6/lj6PvvIhsb2NhbGhvc3Q6ODA4MO+8ie+8jOS/neeVmeS4iuS4i+aWh+i3r+W+hC9zdHVkeV9yb29tCiAgYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9zdHVkeV9yb29tJywKICAvL2Jhc2VVUkw6JycKICBoZWFkZXJzOiB7CiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnCiAgfQp9KTsKCi8vIOivt+axguaLpuaIqu+8mue7meivt+axguWktOWKoFRva2Vu77yM6YC76L6R5LiN5Y+YCmh0dHAuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBjb25maWcuaGVhZGVyc1snVG9rZW4nXSA9IHN0b3JhZ2UuZ2V0KCdUb2tlbicpOyAvLyDor7fmsYLlpLTluKbkuIp0b2tlbgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g5ZON5bqU5oum5oiq77ya5aSE55CGNDAxIHRva2Vu5aSx5pWI77yM5LyY5YyW6ZSZ6K+v5o+Q56S677yI5Y+v6YCJ77yM5o+Q5Y2H5L2T6aqM77yJCmh0dHAuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09IDQwMSkgewogICAgLy8gNDAxLCB0b2tlbuWkseaViAogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnbG9naW4nCiAgICB9KTsKICB9CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICB2YXIgX2Vycm9yJGNvbmZpZywgX2Vycm9yJGNvbmZpZzI7CiAgLy8g5paw5aKe77ya5omT5Y2w6ZSZ6K+v6K+m5oOF77yM5pa55L6/5o6S5p+l77yI5Y+v5qC55o2u6ZyA6KaB5L+d55WZL+WIoOmZpO+8iQogIGNvbnNvbGUuZXJyb3IoJ+ivt+axguW8guW4uO+8micsIHsKICAgIHVybDogKF9lcnJvciRjb25maWcgPSBlcnJvci5jb25maWcpID09PSBudWxsIHx8IF9lcnJvciRjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRjb25maWcudXJsLAogICAgbWV0aG9kOiAoX2Vycm9yJGNvbmZpZzIgPSBlcnJvci5jb25maWcpID09PSBudWxsIHx8IF9lcnJvciRjb25maWcyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkY29uZmlnMi5tZXRob2QsCiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlCiAgfSk7CiAgLy8g57uf5LiA5o+Q56S66K+35rGC5aSx6LSl77yI5ZKM5L2g55qEcmFua2luZy52dWXkuK3nmoTmj5DnpLrlkbzlupTvvIkKICBpZiAod2luZG93LkVsTWVzc2FnZSkgewogICAgd2luZG93LkVsTWVzc2FnZS5lcnJvcign6K+35rGC5aSx6LSl77yaJyArIChlcnJvci5tZXNzYWdlIHx8ICfnvZHnu5zlvILluLgnKSk7CiAgfQogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"names":["axios","router","storage","http","create","timeout","withCredentials","baseURL","headers","interceptors","request","use","config","get","error","Promise","reject","response","data","code","push","name","_error$config","_error$config2","console","url","method","message","window","ElMessage"],"sources":["D:/3/软件工程/项目/study_room1/study_room1/study_room4/study_room/src/main/resources/admin/admin/src/utils/http.js"],"sourcesContent":["import axios from 'axios'\r\nimport router from '@/router/router-static'\r\nimport storage from '@/utils/storage'\r\n\r\nconst http = axios.create({\r\n    timeout: 1000 * 86400,\r\n    withCredentials: true,\r\n    // 核心修改：补充后端IP+端口（localhost:8080），保留上下文路径/study_room\r\n    baseURL: 'http://localhost:8080/study_room',\r\n    //baseURL:''\r\n    headers: {\r\n        'Content-Type': 'application/json; charset=utf-8'\r\n    }\r\n})\r\n\r\n// 请求拦截：给请求头加Token，逻辑不变\r\nhttp.interceptors.request.use(config => {\r\n    config.headers['Token'] = storage.get('Token') // 请求头带上token\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\n\r\n// 响应拦截：处理401 token失效，优化错误提示（可选，提升体验）\r\nhttp.interceptors.response.use(response => {\r\n    if (response.data && response.data.code === 401) { // 401, token失效\r\n        router.push({ name: 'login' })\r\n    }\r\n    return response\r\n}, error => {\r\n    // 新增：打印错误详情，方便排查（可根据需要保留/删除）\r\n    console.error('请求异常：', {\r\n        url: error.config?.url,\r\n        method: error.config?.method,\r\n        message: error.message\r\n    })\r\n    // 统一提示请求失败（和你的ranking.vue中的提示呼应）\r\n    if (window.ElMessage) {\r\n        window.ElMessage.error('请求失败：' + (error.message || '网络异常'))\r\n    }\r\n    return Promise.reject(error)\r\n})\r\n\r\nexport default http"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,OAAO,MAAM,iBAAiB;AAErC,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAM,CAAC;EACtBC,OAAO,EAAE,IAAI,GAAG,KAAK;EACrBC,eAAe,EAAE,IAAI;EACrB;EACAC,OAAO,EAAE,kCAAkC;EAC3C;EACAC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACAL,IAAI,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM,EAAI;EACpCA,MAAM,CAACJ,OAAO,CAAC,OAAO,CAAC,GAAGN,OAAO,CAACW,GAAG,CAAC,OAAO,CAAC,EAAC;EAC/C,OAAOD,MAAM;AACjB,CAAC,EAAE,UAAAE,KAAK,EAAI;EACR,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAX,IAAI,CAACM,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAAC,UAAAM,QAAQ,EAAI;EACvC,IAAIA,QAAQ,CAACC,IAAI,IAAID,QAAQ,CAACC,IAAI,CAACC,IAAI,KAAK,GAAG,EAAE;IAAE;IAC/ClB,MAAM,CAACmB,IAAI,CAAC;MAAEC,IAAI,EAAE;IAAQ,CAAC,CAAC;EAClC;EACA,OAAOJ,QAAQ;AACnB,CAAC,EAAE,UAAAH,KAAK,EAAI;EAAA,IAAAQ,aAAA,EAAAC,cAAA;EACR;EACAC,OAAO,CAACV,KAAK,CAAC,OAAO,EAAE;IACnBW,GAAG,GAAAH,aAAA,GAAER,KAAK,CAACF,MAAM,cAAAU,aAAA,uBAAZA,aAAA,CAAcG,GAAG;IACtBC,MAAM,GAAAH,cAAA,GAAET,KAAK,CAACF,MAAM,cAAAW,cAAA,uBAAZA,cAAA,CAAcG,MAAM;IAC5BC,OAAO,EAAEb,KAAK,CAACa;EACnB,CAAC,CAAC;EACF;EACA,IAAIC,MAAM,CAACC,SAAS,EAAE;IAClBD,MAAM,CAACC,SAAS,CAACf,KAAK,CAAC,OAAO,IAAIA,KAAK,CAACa,OAAO,IAAI,MAAM,CAAC,CAAC;EAC/D;EACA,OAAOZ,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAeX,IAAI","ignoreList":[]}]}